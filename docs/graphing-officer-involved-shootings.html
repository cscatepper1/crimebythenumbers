<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>18 Graphing Officer-Involved Shootings | R 4 Criminology</title>
  <meta name="description" content="Notes for learning and applying R to questions about crime and the justice system." />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="18 Graphing Officer-Involved Shootings | R 4 Criminology" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://r4crim.com" />
  
  <meta property="og:description" content="Notes for learning and applying R to questions about crime and the justice system." />
  <meta name="github-repo" content="jacobkap/r4crim" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="18 Graphing Officer-Involved Shootings | R 4 Criminology" />
  
  <meta name="twitter:description" content="Notes for learning and applying R to questions about crime and the justice system." />
  

<meta name="author" content="Jacob Kaplan" />
<meta name="author" content="Greg Ridgeway" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="interactive-maps.html">
<link rel="next" href="scraping-tables-from-pdfs.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.2/leaflet.js"></script>
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet" />
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet" />
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-99359926-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-99359926-6');
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Criminology</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="about-the-authors.html"><a href="about-the-authors.html"><i class="fa fa-check"></i>About the Authors</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#basic-math"><i class="fa fa-check"></i><b>1.1</b> Basic Math</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#combining-values-together-into-a-collection-or-vector"><i class="fa fa-check"></i><b>1.2</b> Combining values together into a collection (or vector)</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#assignment-of-values-to-variables-making-things"><i class="fa fa-check"></i><b>1.3</b> Assignment of values to variables (Making “things”)</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#reading-data-into-r"><i class="fa fa-check"></i><b>1.4</b> Reading data into R</a><ul>
<li class="chapter" data-level="1.4.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#setting-the-working-directory"><i class="fa fa-check"></i><b>1.4.1</b> Setting the working directory</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#loading-data"><i class="fa fa-check"></i><b>1.4.2</b> Loading data</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#first-steps-to-explore-the-data"><i class="fa fa-check"></i><b>1.4.3</b> First steps to explore the data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-rstudio.html"><a href="introduction-to-rstudio.html"><i class="fa fa-check"></i><b>2</b> Introduction to RStudio</a></li>
<li class="chapter" data-level="3" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html"><i class="fa fa-check"></i><b>3</b> Subsetting: Making big things small</a><ul>
<li class="chapter" data-level="3.1" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#select-specific-values"><i class="fa fa-check"></i><b>3.1</b> Select specific values</a></li>
<li class="chapter" data-level="3.2" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#logical-values-and-operations"><i class="fa fa-check"></i><b>3.2</b> Logical values and operations</a><ul>
<li class="chapter" data-level="3.2.1" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#matching-a-single-value"><i class="fa fa-check"></i><b>3.2.1</b> Matching a single value</a></li>
<li class="chapter" data-level="3.2.2" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#matching-multiple-values"><i class="fa fa-check"></i><b>3.2.2</b> Matching multiple values</a></li>
<li class="chapter" data-level="3.2.3" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#does-not-match"><i class="fa fa-check"></i><b>3.2.3</b> Does not match</a></li>
<li class="chapter" data-level="3.2.4" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#greater-than-or-less-than"><i class="fa fa-check"></i><b>3.2.4</b> Greater than or less than</a></li>
<li class="chapter" data-level="3.2.5" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#combining-conditional-statements---or-and"><i class="fa fa-check"></i><b>3.2.5</b> Combining conditional statements - or, and</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#subsetting-a-data.frame"><i class="fa fa-check"></i><b>3.3</b> Subsetting a data.frame</a></li>
<li class="chapter" data-level="3.4" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#select-a-specific-column"><i class="fa fa-check"></i><b>3.4</b> Select a specific column</a><ul>
<li class="chapter" data-level="3.4.1" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#select-specific-rows-in-a-data.frame"><i class="fa fa-check"></i><b>3.4.1</b> Select specific rows in a data.frame</a></li>
<li class="chapter" data-level="3.4.2" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#battleships"><i class="fa fa-check"></i><b>3.4.2</b> Battleships</a></li>
<li class="chapter" data-level="3.4.3" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#subset-colorado-data"><i class="fa fa-check"></i><b>3.4.3</b> Subset Colorado data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>4</b> Exploratory data analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#summary-and-table"><i class="fa fa-check"></i><b>4.1</b> Summary and Table</a></li>
<li class="chapter" data-level="4.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#graphing-data"><i class="fa fa-check"></i><b>4.2</b> Graphing Data</a></li>
<li class="chapter" data-level="4.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#aggregating-summaries-of-groups"><i class="fa fa-check"></i><b>4.3</b> Aggregating (summaries of groups)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>5</b> Dates and Times</a><ul>
<li class="chapter" data-level="5.1" data-path="dates-and-times.html"><a href="dates-and-times.html#why-do-dates-and-times-matter"><i class="fa fa-check"></i><b>5.1</b> Why do dates and times matter?</a></li>
<li class="chapter" data-level="5.2" data-path="dates-and-times.html"><a href="dates-and-times.html#lubridate"><i class="fa fa-check"></i><b>5.2</b> <code>lubridate</code></a></li>
<li class="chapter" data-level="5.3" data-path="dates-and-times.html"><a href="dates-and-times.html#working-with-dates"><i class="fa fa-check"></i><b>5.3</b> Working with dates</a></li>
<li class="chapter" data-level="5.4" data-path="dates-and-times.html"><a href="dates-and-times.html#chicago-crime-data"><i class="fa fa-check"></i><b>5.4</b> Chicago crime data</a></li>
<li class="chapter" data-level="5.5" data-path="dates-and-times.html"><a href="dates-and-times.html#time-zones"><i class="fa fa-check"></i><b>5.5</b> Time zones</a><ul>
<li class="chapter" data-level="5.5.1" data-path="dates-and-times.html"><a href="dates-and-times.html#exercises"><i class="fa fa-check"></i><b>5.5.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="regular-expressions.html"><a href="regular-expressions.html"><i class="fa fa-check"></i><b>6</b> Regular Expressions</a><ul>
<li class="chapter" data-level="6.1" data-path="regular-expressions.html"><a href="regular-expressions.html#finding-patterns-in-text-with-grep"><i class="fa fa-check"></i><b>6.1</b> Finding patterns in text with <code>grep()</code></a></li>
<li class="chapter" data-level="6.2" data-path="regular-expressions.html"><a href="regular-expressions.html#finding-and-replacing-patterns-in-text-with-gsub"><i class="fa fa-check"></i><b>6.2</b> Finding and replacing patterns in text with <code>gsub()</code></a></li>
<li class="chapter" data-level="6.3" data-path="regular-expressions.html"><a href="regular-expressions.html#useful-special-characters"><i class="fa fa-check"></i><b>6.3</b> Useful special characters</a><ul>
<li class="chapter" data-level="6.3.1" data-path="regular-expressions.html"><a href="regular-expressions.html#multiple-characters"><i class="fa fa-check"></i><b>6.3.1</b> Multiple characters <code>[]</code></a></li>
<li class="chapter" data-level="6.3.2" data-path="regular-expressions.html"><a href="regular-expressions.html#n-many-of-previous-character-n"><i class="fa fa-check"></i><b>6.3.2</b> n-many of previous character <code>{n}</code></a></li>
<li class="chapter" data-level="6.3.3" data-path="regular-expressions.html"><a href="regular-expressions.html#n-many-to-m-many-of-previous-character-nm"><i class="fa fa-check"></i><b>6.3.3</b> n-many to m-many of previous character <code>{n,m}</code></a></li>
<li class="chapter" data-level="6.3.4" data-path="regular-expressions.html"><a href="regular-expressions.html#start-of-string-and-not"><i class="fa fa-check"></i><b>6.3.4</b> Start of string and “not” <code>^</code></a></li>
<li class="chapter" data-level="6.3.5" data-path="regular-expressions.html"><a href="regular-expressions.html#end-of-string"><i class="fa fa-check"></i><b>6.3.5</b> End of string <code>$</code></a></li>
<li class="chapter" data-level="6.3.6" data-path="regular-expressions.html"><a href="regular-expressions.html#anything-."><i class="fa fa-check"></i><b>6.3.6</b> Anything <code>.</code></a></li>
<li class="chapter" data-level="6.3.7" data-path="regular-expressions.html"><a href="regular-expressions.html#one-or-more-of-previous"><i class="fa fa-check"></i><b>6.3.7</b> One or more of previous <code>+</code></a></li>
<li class="chapter" data-level="6.3.8" data-path="regular-expressions.html"><a href="regular-expressions.html#zero-or-more-of-previous"><i class="fa fa-check"></i><b>6.3.8</b> Zero or more of previous <code>*</code></a></li>
<li class="chapter" data-level="6.3.9" data-path="regular-expressions.html"><a href="regular-expressions.html#multiple-patterns"><i class="fa fa-check"></i><b>6.3.9</b> Multiple patterns <code>|</code></a></li>
<li class="chapter" data-level="6.3.10" data-path="regular-expressions.html"><a href="regular-expressions.html#parentheses"><i class="fa fa-check"></i><b>6.3.10</b> Parentheses <code>()</code></a></li>
<li class="chapter" data-level="6.3.11" data-path="regular-expressions.html"><a href="regular-expressions.html#optional-text"><i class="fa fa-check"></i><b>6.3.11</b> Optional text <code>?</code></a></li>
<li class="chapter" data-level="6.3.12" data-path="regular-expressions.html"><a href="regular-expressions.html#back-referencing"><i class="fa fa-check"></i><b>6.3.12</b> Back-referencing <code>()</code></a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="regular-expressions.html"><a href="regular-expressions.html#changing-capitalization"><i class="fa fa-check"></i><b>6.4</b> Changing capitalization</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html"><i class="fa fa-check"></i><b>7</b> Graphing with <code>ggplot2</code></a><ul>
<li class="chapter" data-level="7.1" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#what-does-the-data-look-like"><i class="fa fa-check"></i><b>7.1</b> What does the data look like?</a><ul>
<li class="chapter" data-level="7.1.1" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#exercises-1"><i class="fa fa-check"></i><b>7.1.1</b> Exercises</a></li>
<li class="chapter" data-level="7.1.2" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#exercises-2"><i class="fa fa-check"></i><b>7.1.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#graphing-data-1"><i class="fa fa-check"></i><b>7.2</b> Graphing data</a></li>
<li class="chapter" data-level="7.3" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#time-series-plots"><i class="fa fa-check"></i><b>7.3</b> Time-Series Plots</a><ul>
<li class="chapter" data-level="7.3.1" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#exercises-3"><i class="fa fa-check"></i><b>7.3.1</b> Exercises</a></li>
<li class="chapter" data-level="7.3.2" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#exercises-4"><i class="fa fa-check"></i><b>7.3.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#should-we-trust-this-data"><i class="fa fa-check"></i><b>7.4</b> Should we trust this data?</a><ul>
<li class="chapter" data-level="7.4.1" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#exercises-5"><i class="fa fa-check"></i><b>7.4.1</b> Exercises</a></li>
<li class="chapter" data-level="7.4.2" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#exercises-6"><i class="fa fa-check"></i><b>7.4.2</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html"><i class="fa fa-check"></i><b>8</b> Webscraping with <code>rvest</code></a><ul>
<li class="chapter" data-level="8.1" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#scraping-one-page"><i class="fa fa-check"></i><b>8.1</b> Scraping one page</a></li>
<li class="chapter" data-level="8.2" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#cleaning-the-webscraped-data"><i class="fa fa-check"></i><b>8.2</b> Cleaning the webscraped data</a></li>
<li class="chapter" data-level="8.3" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#fixing-names"><i class="fa fa-check"></i><b>8.3</b> Fixing names</a><ul>
<li class="chapter" data-level="8.3.1" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#exercises-7"><i class="fa fa-check"></i><b>8.3.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>9</b> Functions</a><ul>
<li class="chapter" data-level="9.1" data-path="functions.html"><a href="functions.html#a-simple-function"><i class="fa fa-check"></i><b>9.1</b> A simple function</a></li>
<li class="chapter" data-level="9.2" data-path="functions.html"><a href="functions.html#adding-parameters"><i class="fa fa-check"></i><b>9.2</b> Adding parameters</a></li>
<li class="chapter" data-level="9.3" data-path="functions.html"><a href="functions.html#making-a-function-to-scrape-movie-data"><i class="fa fa-check"></i><b>9.3</b> Making a function to scrape movie data</a></li>
<li class="chapter" data-level="9.4" data-path="functions.html"><a href="functions.html#the-benefits-of-functions"><i class="fa fa-check"></i><b>9.4</b> The benefits of functions</a></li>
<li class="chapter" data-level="9.5" data-path="functions.html"><a href="functions.html#understanding-other-peoples-functions"><i class="fa fa-check"></i><b>9.5</b> Understanding other people’s functions</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>10</b> For loops</a><ul>
<li class="chapter" data-level="10.1" data-path="for-loops.html"><a href="for-loops.html#basic-for-loops"><i class="fa fa-check"></i><b>10.1</b> Basic for loops</a></li>
<li class="chapter" data-level="10.2" data-path="for-loops.html"><a href="for-loops.html#scraping-multiple-days-of-movie"><i class="fa fa-check"></i><b>10.2</b> Scraping multiple days of movie</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="types-of-objects.html"><a href="types-of-objects.html"><i class="fa fa-check"></i><b>11</b> Types of objects</a><ul>
<li class="chapter" data-level="11.1" data-path="types-of-objects.html"><a href="types-of-objects.html#vectors"><i class="fa fa-check"></i><b>11.1</b> Vectors</a></li>
<li class="chapter" data-level="11.2" data-path="types-of-objects.html"><a href="types-of-objects.html#data-frames"><i class="fa fa-check"></i><b>11.2</b> Data frames</a></li>
<li class="chapter" data-level="11.3" data-path="types-of-objects.html"><a href="types-of-objects.html#lists"><i class="fa fa-check"></i><b>11.3</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html"><i class="fa fa-check"></i><b>12</b> Reading and Writing Data</a><ul>
<li class="chapter" data-level="12.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#reading-data-into-r-1"><i class="fa fa-check"></i><b>12.1</b> Reading Data into R</a><ul>
<li class="chapter" data-level="12.1.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#r-files"><i class="fa fa-check"></i><b>12.1.1</b> R files</a></li>
<li class="chapter" data-level="12.1.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#excel-files"><i class="fa fa-check"></i><b>12.1.2</b> Excel files</a></li>
<li class="chapter" data-level="12.1.3" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#stata-files"><i class="fa fa-check"></i><b>12.1.3</b> Stata files</a></li>
<li class="chapter" data-level="12.1.4" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#sas-files"><i class="fa fa-check"></i><b>12.1.4</b> SAS files</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#writing-data"><i class="fa fa-check"></i><b>12.2</b> Writing Data</a><ul>
<li class="chapter" data-level="12.2.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#r-files-1"><i class="fa fa-check"></i><b>12.2.1</b> R files</a></li>
<li class="chapter" data-level="12.2.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#excel-files-1"><i class="fa fa-check"></i><b>12.2.2</b> Excel files</a></li>
<li class="chapter" data-level="12.2.3" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#stata-files-1"><i class="fa fa-check"></i><b>12.2.3</b> Stata files</a></li>
<li class="chapter" data-level="12.2.4" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#sas-files-1"><i class="fa fa-check"></i><b>12.2.4</b> SAS files</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html"><i class="fa fa-check"></i><b>13</b> Scraping data from PDFs</a><ul>
<li class="chapter" data-level="13.1" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html#downloading-officer-involved-shooting-files"><i class="fa fa-check"></i><b>13.1</b> Downloading officer-involved Shooting Files</a></li>
<li class="chapter" data-level="13.2" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html#scraping-information-from-the-page"><i class="fa fa-check"></i><b>13.2</b> Scraping information from the page</a><ul>
<li class="chapter" data-level="13.2.1" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html#combining-the-data-sets"><i class="fa fa-check"></i><b>13.2.1</b> Combining the data sets</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html#extracting-data-from-pdfs"><i class="fa fa-check"></i><b>13.3</b> Extracting data from PDFs</a><ul>
<li class="chapter" data-level="13.3.1" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html#scraping-a-single-pdf"><i class="fa fa-check"></i><b>13.3.1</b> Scraping a single PDF</a></li>
<li class="chapter" data-level="13.3.2" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html#making-a-function"><i class="fa fa-check"></i><b>13.3.2</b> Making a function</a></li>
<li class="chapter" data-level="13.3.3" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html#looping-through-every-pdf"><i class="fa fa-check"></i><b>13.3.3</b> Looping through every PDF</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="geocoding.html"><a href="geocoding.html"><i class="fa fa-check"></i><b>14</b> Geocoding</a><ul>
<li class="chapter" data-level="14.1" data-path="geocoding.html"><a href="geocoding.html#geocoding-a-single-address"><i class="fa fa-check"></i><b>14.1</b> Geocoding a single address</a></li>
<li class="chapter" data-level="14.2" data-path="geocoding.html"><a href="geocoding.html#making-a-function-1"><i class="fa fa-check"></i><b>14.2</b> Making a function</a></li>
<li class="chapter" data-level="14.3" data-path="geocoding.html"><a href="geocoding.html#geocoding-officer-shooting-locations"><i class="fa fa-check"></i><b>14.3</b> Geocoding officer shooting locations</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="hotspot-maps.html"><a href="hotspot-maps.html"><i class="fa fa-check"></i><b>15</b> Hotspot maps</a><ul>
<li class="chapter" data-level="15.1" data-path="hotspot-maps.html"><a href="hotspot-maps.html#creating-the-maps"><i class="fa fa-check"></i><b>15.1</b> Creating the maps</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="choropleth-maps.html"><a href="choropleth-maps.html"><i class="fa fa-check"></i><b>16</b> Choropleth Maps</a><ul>
<li class="chapter" data-level="16.1" data-path="choropleth-maps.html"><a href="choropleth-maps.html#spatial-joins"><i class="fa fa-check"></i><b>16.1</b> Spatial joins</a></li>
<li class="chapter" data-level="16.2" data-path="choropleth-maps.html"><a href="choropleth-maps.html#making-choropleth-maps"><i class="fa fa-check"></i><b>16.2</b> Making choropleth maps</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="interactive-maps.html"><a href="interactive-maps.html"><i class="fa fa-check"></i><b>17</b> Interactive Maps</a><ul>
<li class="chapter" data-level="17.1" data-path="interactive-maps.html"><a href="interactive-maps.html#why-do-interactive-graphs-matter"><i class="fa fa-check"></i><b>17.1</b> Why do interactive graphs matter?</a><ul>
<li class="chapter" data-level="17.1.1" data-path="interactive-maps.html"><a href="interactive-maps.html#understanding-your-data"><i class="fa fa-check"></i><b>17.1.1</b> Understanding your data</a></li>
<li class="chapter" data-level="17.1.2" data-path="interactive-maps.html"><a href="interactive-maps.html#police-departments-use-them"><i class="fa fa-check"></i><b>17.1.2</b> Police departments use them</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="interactive-maps.html"><a href="interactive-maps.html#making-the-interactive-map"><i class="fa fa-check"></i><b>17.2</b> Making the interactive map</a></li>
<li class="chapter" data-level="17.3" data-path="interactive-maps.html"><a href="interactive-maps.html#adding-popup-information"><i class="fa fa-check"></i><b>17.3</b> Adding popup information</a></li>
<li class="chapter" data-level="17.4" data-path="interactive-maps.html"><a href="interactive-maps.html#dealing-with-too-many-markers"><i class="fa fa-check"></i><b>17.4</b> Dealing with too many markers</a></li>
<li class="chapter" data-level="17.5" data-path="interactive-maps.html"><a href="interactive-maps.html#interactive-polygons"><i class="fa fa-check"></i><b>17.5</b> Interactive polygons</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="graphing-officer-involved-shootings.html"><a href="graphing-officer-involved-shootings.html"><i class="fa fa-check"></i><b>18</b> Graphing Officer-Involved Shootings</a><ul>
<li class="chapter" data-level="18.1" data-path="graphing-officer-involved-shootings.html"><a href="graphing-officer-involved-shootings.html#graphing-a-single-variable"><i class="fa fa-check"></i><b>18.1</b> Graphing a single variable</a><ul>
<li class="chapter" data-level="18.1.1" data-path="graphing-officer-involved-shootings.html"><a href="graphing-officer-involved-shootings.html#numeric-variable"><i class="fa fa-check"></i><b>18.1.1</b> Numeric variable</a></li>
<li class="chapter" data-level="18.1.2" data-path="graphing-officer-involved-shootings.html"><a href="graphing-officer-involved-shootings.html#categorical-variable"><i class="fa fa-check"></i><b>18.1.2</b> Categorical variable</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="graphing-officer-involved-shootings.html"><a href="graphing-officer-involved-shootings.html#time-series"><i class="fa fa-check"></i><b>18.2</b> Time Series</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="scraping-tables-from-pdfs.html"><a href="scraping-tables-from-pdfs.html"><i class="fa fa-check"></i><b>19</b> Scraping Tables from PDFs</a><ul>
<li class="chapter" data-level="19.1" data-path="scraping-tables-from-pdfs.html"><a href="scraping-tables-from-pdfs.html#scraping-the-first-table"><i class="fa fa-check"></i><b>19.1</b> Scraping the first table</a></li>
<li class="chapter" data-level="19.2" data-path="scraping-tables-from-pdfs.html"><a href="scraping-tables-from-pdfs.html#making-a-function-2"><i class="fa fa-check"></i><b>19.2</b> Making a function</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="uniform-crime-report-ucr-data.html"><a href="uniform-crime-report-ucr-data.html"><i class="fa fa-check"></i><b>20</b> Uniform Crime Report (UCR) Data</a><ul>
<li class="chapter" data-level="20.1" data-path="uniform-crime-report-ucr-data.html"><a href="uniform-crime-report-ucr-data.html#exploring-the-ucr-data"><i class="fa fa-check"></i><b>20.1</b> Exploring the UCR data</a></li>
<li class="chapter" data-level="20.2" data-path="uniform-crime-report-ucr-data.html"><a href="uniform-crime-report-ucr-data.html#finding-things-in-our-data"><i class="fa fa-check"></i><b>20.2</b> Finding things in our data</a></li>
<li class="chapter" data-level="20.3" data-path="uniform-crime-report-ucr-data.html"><a href="uniform-crime-report-ucr-data.html#manipulating-our-data"><i class="fa fa-check"></i><b>20.3</b> Manipulating our data</a><ul>
<li class="chapter" data-level="20.3.1" data-path="uniform-crime-report-ucr-data.html"><a href="uniform-crime-report-ucr-data.html#exercises-8"><i class="fa fa-check"></i><b>20.3.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="census-data-from-social-explorer.html"><a href="census-data-from-social-explorer.html"><i class="fa fa-check"></i><b>21</b> Census Data from Social Explorer</a><ul>
<li class="chapter" data-level="21.1" data-path="census-data-from-social-explorer.html"><a href="census-data-from-social-explorer.html#getting-census-data-from-social-explorer"><i class="fa fa-check"></i><b>21.1</b> Getting Census data from Social Explorer</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="census-data-from-ipums.html"><a href="census-data-from-ipums.html"><i class="fa fa-check"></i><b>22</b> Census Data from IPUMS</a><ul>
<li class="chapter" data-level="22.1" data-path="census-data-from-ipums.html"><a href="census-data-from-ipums.html#getting-ipums-data"><i class="fa fa-check"></i><b>22.1</b> Getting IPUMS data</a></li>
<li class="chapter" data-level="22.2" data-path="census-data-from-ipums.html"><a href="census-data-from-ipums.html#cleaning-the-data"><i class="fa fa-check"></i><b>22.2</b> Cleaning the data</a></li>
<li class="chapter" data-level="22.3" data-path="census-data-from-ipums.html"><a href="census-data-from-ipums.html#aggregating-the-data"><i class="fa fa-check"></i><b>22.3</b> Aggregating the data</a></li>
<li class="chapter" data-level="22.4" data-path="census-data-from-ipums.html"><a href="census-data-from-ipums.html#graphing-the-data"><i class="fa fa-check"></i><b>22.4</b> Graphing the data</a></li>
<li class="chapter" data-level="22.5" data-path="census-data-from-ipums.html"><a href="census-data-from-ipums.html#mapping-the-data"><i class="fa fa-check"></i><b>22.5</b> Mapping the data</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="national-incident-based-reporting-system-nibrs-data.html"><a href="national-incident-based-reporting-system-nibrs-data.html"><i class="fa fa-check"></i><b>23</b> National Incident-Based Reporting System (NIBRS) Data</a><ul>
<li class="chapter" data-level="23.1" data-path="national-incident-based-reporting-system-nibrs-data.html"><a href="national-incident-based-reporting-system-nibrs-data.html#downloading-the-data"><i class="fa fa-check"></i><b>23.1</b> Downloading the data</a></li>
<li class="chapter" data-level="23.2" data-path="national-incident-based-reporting-system-nibrs-data.html"><a href="national-incident-based-reporting-system-nibrs-data.html#reading-the-data"><i class="fa fa-check"></i><b>23.2</b> Reading the data</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="useful-resources.html"><a href="useful-resources.html"><i class="fa fa-check"></i><b>A</b> Useful Resources</a><ul>
<li class="chapter" data-level="A.1" data-path="useful-resources.html"><a href="useful-resources.html#learning-r-and-coding-issues"><i class="fa fa-check"></i><b>A.1</b> Learning R and coding issues</a></li>
<li class="chapter" data-level="A.2" data-path="useful-resources.html"><a href="useful-resources.html#data"><i class="fa fa-check"></i><b>A.2</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="using-r-markdown.html"><a href="using-r-markdown.html"><i class="fa fa-check"></i><b>B</b> Using R Markdown</a><ul>
<li class="chapter" data-level="B.1" data-path="using-r-markdown.html"><a href="using-r-markdown.html#code"><i class="fa fa-check"></i><b>B.1</b> Code</a><ul>
<li class="chapter" data-level="B.1.1" data-path="using-r-markdown.html"><a href="using-r-markdown.html#only-use-code-to-make-output"><i class="fa fa-check"></i><b>B.1.1</b> Only use code to make output</a></li>
</ul></li>
<li class="chapter" data-level="B.2" data-path="using-r-markdown.html"><a href="using-r-markdown.html#figures-and-tables"><i class="fa fa-check"></i><b>B.2</b> Figures and Tables</a></li>
<li class="chapter" data-level="B.3" data-path="using-r-markdown.html"><a href="using-r-markdown.html#finally-making-the-output-file"><i class="fa fa-check"></i><b>B.3</b> Finally, making the output file</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R 4 Criminology</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="graphing-officer-involved-shootings" class="section level1">
<h1><span class="header-section-number">18</span> Graphing Officer-Involved Shootings</h1>
<p>In this lesson we will continue to explore graphing using <code>ggplot()</code>. While the Philadelphia Police website does have a number of variables available in a table on the site for shootings since 2013, since we did not scrape them initially we’ll turn to a new data set. The data we will use is a data base of officer-involved shootings that result in a death in the United States since January 1st, 2015. This data has been compiled and released by the Washington Post so it will be a useful exercise in exploring data from non-government sources. This data is useful for our purposes as it has a number of variables related to the victim of the shootings, allowing us to practice making many types of graphs.</p>
<p>To explore the data on their website, see <a href="https://www.washingtonpost.com/graphics/2019/national/police-shootings-2019/?utm_term=.e870afc9a00c">here</a> . To examine their methodology, see <a href="https://www.washingtonpost.com/national/how-the-washington-post-is-examining-police-shootings-in-the-united-states/2016/07/07/d9c52238-43ad-11e6-8856-f26de2537a9d_story.html?utm_term=.f07e9800092b">here</a> .</p>
<p>The data initially comes as a .csv file. TO read in .csv files (which are a common format you’ll find data in) we can use the <code>read.csv()</code> function built into R (meaning we don’t need to load any packages). The input in the () is the file name ending in “.csv”. As it is telling R to read a file on the computer, the whole name must be in quotes.</p>
<p>Unlike loading an .rda file using <code>load()</code>, there is no name for the object that gets read in so we must assign the data a name. We can using “shootings” as it’s relatively descriptive and easy for us to write.</p>
<pre class="sourceCode r"><code class="sourceCode r">shootings &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/fatal-police-shootings-data.csv&quot;</span>)</code></pre>
<p>Another function worth mentioning in reading .csv files to R is <code>read_csv()</code> - note that it uses an underscore rather than a period. This function is part of the <code>readr</code> package so you need to install it once and then use <code>library()</code> every R session to use it.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;readr&quot;</span>)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(readr)</code></pre>
<p>The primary benefit to <code>read_csv()</code> is speed. When dealing with a large file, <code>read_csv()</code> is much faster than <code>read.csv()</code> though there is not much difference when it comes to small data.</p>
<pre class="sourceCode r"><code class="sourceCode r">shootings &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/fatal-police-shootings-data.csv&quot;</span>)
<span class="co">#&gt; Parsed with column specification:</span>
<span class="co">#&gt; cols(</span>
<span class="co">#&gt;   id = col_double(),</span>
<span class="co">#&gt;   name = col_character(),</span>
<span class="co">#&gt;   date = col_date(format = &quot;&quot;),</span>
<span class="co">#&gt;   manner_of_death = col_character(),</span>
<span class="co">#&gt;   armed = col_character(),</span>
<span class="co">#&gt;   age = col_double(),</span>
<span class="co">#&gt;   gender = col_character(),</span>
<span class="co">#&gt;   race = col_character(),</span>
<span class="co">#&gt;   city = col_character(),</span>
<span class="co">#&gt;   state = col_character(),</span>
<span class="co">#&gt;   signs_of_mental_illness = col_logical(),</span>
<span class="co">#&gt;   threat_level = col_character(),</span>
<span class="co">#&gt;   flee = col_character(),</span>
<span class="co">#&gt;   body_camera = col_logical()</span>
<span class="co">#&gt; )</span></code></pre>
<p><code>read_csv()</code> also reads in data to an object called a <code>tibble</code> which is very similar to a data.frame but has some differences in displaying the data. If we run <code>head()</code> on the data it doesn’t show all columns. This is useful to avoid accidentally printing out a massive amounts of columns.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(shootings)
<span class="co">#&gt; # A tibble: 6 x 14</span>
<span class="co">#&gt;      id name  date       manner_of_death armed   age gender race  city </span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;date&gt;     &lt;chr&gt;           &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;</span>
<span class="co">#&gt; 1     3 Tim ~ 2015-01-02 shot            gun      53 M      A     Shel~</span>
<span class="co">#&gt; 2     4 Lewi~ 2015-01-02 shot            gun      47 M      W     Aloha</span>
<span class="co">#&gt; 3     5 John~ 2015-01-03 shot and Taser~ unar~    23 M      H     Wich~</span>
<span class="co">#&gt; 4     8 Matt~ 2015-01-04 shot            toy ~    32 M      W     San ~</span>
<span class="co">#&gt; 5     9 Mich~ 2015-01-04 shot            nail~    39 M      H     Evans</span>
<span class="co">#&gt; 6    11 Kenn~ 2015-01-04 shot            gun      18 M      W     Guth~</span>
<span class="co">#&gt; # ... with 5 more variables: state &lt;chr&gt;, signs_of_mental_illness &lt;lgl&gt;,</span>
<span class="co">#&gt; #   threat_level &lt;chr&gt;, flee &lt;chr&gt;, body_camera &lt;lgl&gt;</span></code></pre>
<p>We’ll turn the “shootings” object into a data.frame just for simplicity.</p>
<pre class="sourceCode r"><code class="sourceCode r">shootings &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(shootings)</code></pre>
<p>Now that we have the data read in, let’s look at it.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nrow</span>(shootings)
<span class="co">#&gt; [1] 4371</span>
<span class="kw">ncol</span>(shootings)
<span class="co">#&gt; [1] 14</span></code></pre>
<p>The data has 14 variables and covers over 4,000 shootings. Let’s check out some of the variables, first using <code>head()</code> then using <code>summary()</code> and <code>table()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(shootings)
<span class="co">#&gt;   id               name       date  manner_of_death      armed age gender</span>
<span class="co">#&gt; 1  3         Tim Elliot 2015-01-02             shot        gun  53      M</span>
<span class="co">#&gt; 2  4   Lewis Lee Lembke 2015-01-02             shot        gun  47      M</span>
<span class="co">#&gt; 3  5 John Paul Quintero 2015-01-03 shot and Tasered    unarmed  23      M</span>
<span class="co">#&gt; 4  8    Matthew Hoffman 2015-01-04             shot toy weapon  32      M</span>
<span class="co">#&gt; 5  9  Michael Rodriguez 2015-01-04             shot   nail gun  39      M</span>
<span class="co">#&gt; 6 11  Kenneth Joe Brown 2015-01-04             shot        gun  18      M</span>
<span class="co">#&gt;   race          city state signs_of_mental_illness threat_level</span>
<span class="co">#&gt; 1    A       Shelton    WA                    TRUE       attack</span>
<span class="co">#&gt; 2    W         Aloha    OR                   FALSE       attack</span>
<span class="co">#&gt; 3    H       Wichita    KS                   FALSE        other</span>
<span class="co">#&gt; 4    W San Francisco    CA                    TRUE       attack</span>
<span class="co">#&gt; 5    H         Evans    CO                   FALSE       attack</span>
<span class="co">#&gt; 6    W       Guthrie    OK                   FALSE       attack</span>
<span class="co">#&gt;          flee body_camera</span>
<span class="co">#&gt; 1 Not fleeing       FALSE</span>
<span class="co">#&gt; 2 Not fleeing       FALSE</span>
<span class="co">#&gt; 3 Not fleeing       FALSE</span>
<span class="co">#&gt; 4 Not fleeing       FALSE</span>
<span class="co">#&gt; 5 Not fleeing       FALSE</span>
<span class="co">#&gt; 6 Not fleeing       FALSE</span></code></pre>
<p>Each row is a single shooting and it includes variables such as the victim’s name, the date of the shooting, demographic information about that person, the shooting city and state, and some information about the incident. It is clear from these first 6 rows that most variables are categorical so we can’t use <code>summary()</code> on them. Let’s use <code>summary()</code> on the date and age columns and then use <code>table()</code> for the rest.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(shootings<span class="op">$</span>date)
<span class="co">#&gt;         Min.      1st Qu.       Median         Mean      3rd Qu. </span>
<span class="co">#&gt; &quot;2015-01-02&quot; &quot;2016-02-07&quot; &quot;2017-03-16&quot; &quot;2017-03-18&quot; &quot;2018-04-11&quot; </span>
<span class="co">#&gt;         Max. </span>
<span class="co">#&gt; &quot;2019-06-25&quot;</span></code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(shootings<span class="op">$</span>age)
<span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s </span>
<span class="co">#&gt;    6.00   27.00   35.00   36.84   45.00   91.00     182</span></code></pre>
<p>From this we can see that the data is from January 1st through the middle of 2019 (The Washington Post is contintuously updating their data but I downloaded in on June 27th, 2019 which is why June 2019 is the end of our data). From the age column we can see that the average age is about 35 with most victim’s around that range. However, the youngest victim is 6 years old while the oldest is 91. Additionally, 182 rows have missing values for this variable.</p>
<p>Now we can use <code>table()</code> to see how often each value appears in each variable. We don’t want to do this for city or name as there would be too many values, but it will work for the other columns. Let’s start with manne_of_death.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(shootings<span class="op">$</span>manner_of_death)
<span class="co">#&gt; </span>
<span class="co">#&gt;             shot shot and Tasered </span>
<span class="co">#&gt;             4146              225</span></code></pre>
<p>To turn these counts into percentages we can divide the results by the number of rows in our data and miltiple by 100.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(shootings<span class="op">$</span>manner_of_death) <span class="op">/</span><span class="st"> </span><span class="kw">nrow</span>(shootings) <span class="op">*</span><span class="st"> </span><span class="dv">100</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;             shot shot and Tasered </span>
<span class="co">#&gt;        94.852437         5.147563</span></code></pre>
<p>Now it is clear to see that in 95% of shootings, officers used a gun and in 5% of shootings they also used Taser. As this is data on officer shooting deaths, this is unsurprising. Let’s take a look at where the victim was armed.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(shootings<span class="op">$</span>armed) <span class="op">/</span><span class="st"> </span><span class="kw">nrow</span>(shootings) <span class="op">*</span><span class="st"> </span><span class="dv">100</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                  air conditioner                               ax </span>
<span class="co">#&gt;                       0.02287806                       0.48043926 </span>
<span class="co">#&gt;                         barstool                     baseball bat </span>
<span class="co">#&gt;                       0.02287806                       0.27453672 </span>
<span class="co">#&gt;          baseball bat and bottle baseball bat and fireplace poker </span>
<span class="co">#&gt;                       0.02287806                       0.02287806 </span>
<span class="co">#&gt;                            baton                          bayonet </span>
<span class="co">#&gt;                       0.09151224                       0.02287806 </span>
<span class="co">#&gt;                           BB gun                     bean-bag gun </span>
<span class="co">#&gt;                       0.06863418                       0.02287806 </span>
<span class="co">#&gt;                      beer bottle                     blunt object </span>
<span class="co">#&gt;                       0.06863418                       0.11439030 </span>
<span class="co">#&gt;                    bow and arrow                       box cutter </span>
<span class="co">#&gt;                       0.02287806                       0.22878060 </span>
<span class="co">#&gt;                            brick                          carjack </span>
<span class="co">#&gt;                       0.04575612                       0.02287806 </span>
<span class="co">#&gt;                            chain                        chain saw </span>
<span class="co">#&gt;                       0.04575612                       0.04575612 </span>
<span class="co">#&gt;                         chainsaw                            chair </span>
<span class="co">#&gt;                       0.02287806                       0.04575612 </span>
<span class="co">#&gt;              claimed to be armed               contractor&#39;s level </span>
<span class="co">#&gt;                       0.02287806                       0.02287806 </span>
<span class="co">#&gt;                   cordless drill                         crossbow </span>
<span class="co">#&gt;                       0.02287806                       0.20590254 </span>
<span class="co">#&gt;                          crowbar                        fireworks </span>
<span class="co">#&gt;                       0.06863418                       0.02287806 </span>
<span class="co">#&gt;                         flagpole                       flashlight </span>
<span class="co">#&gt;                       0.02287806                       0.02287806 </span>
<span class="co">#&gt;                      garden tool                      glass shard </span>
<span class="co">#&gt;                       0.02287806                       0.06863418 </span>
<span class="co">#&gt;                              gun                      gun and car </span>
<span class="co">#&gt;                      55.43353924                       0.11439030 </span>
<span class="co">#&gt;                    gun and knife                    gun and sword </span>
<span class="co">#&gt;                       0.34317090                       0.02287806 </span>
<span class="co">#&gt;                  gun and vehicle              guns and explosives </span>
<span class="co">#&gt;                       0.04575612                       0.06863418 </span>
<span class="co">#&gt;                           hammer                       hand torch </span>
<span class="co">#&gt;                       0.22878060                       0.02287806 </span>
<span class="co">#&gt;                          hatchet                  hatchet and gun </span>
<span class="co">#&gt;                       0.18302448                       0.04575612 </span>
<span class="co">#&gt;                incendiary device                            knife </span>
<span class="co">#&gt;                       0.04575612                      14.96225120 </span>
<span class="co">#&gt;                 lawn mower blade                          machete </span>
<span class="co">#&gt;                       0.04575612                       0.86936628 </span>
<span class="co">#&gt;                  machete and gun                     meat cleaver </span>
<span class="co">#&gt;                       0.02287806                       0.06863418 </span>
<span class="co">#&gt;                  metal hand tool                     metal object </span>
<span class="co">#&gt;                       0.02287806                       0.09151224 </span>
<span class="co">#&gt;                       metal pipe                       metal pole </span>
<span class="co">#&gt;                       0.25165866                       0.04575612 </span>
<span class="co">#&gt;                       metal rake                      metal stick </span>
<span class="co">#&gt;                       0.02287806                       0.06863418 </span>
<span class="co">#&gt;                       motorcycle                         nail gun </span>
<span class="co">#&gt;                       0.02287806                       0.02287806 </span>
<span class="co">#&gt;                              oar                       pellet gun </span>
<span class="co">#&gt;                       0.02287806                       0.02287806 </span>
<span class="co">#&gt;                              pen                     pepper spray </span>
<span class="co">#&gt;                       0.02287806                       0.02287806 </span>
<span class="co">#&gt;                         pick-axe                    piece of wood </span>
<span class="co">#&gt;                       0.06863418                       0.06863418 </span>
<span class="co">#&gt;                             pipe                        pitchfork </span>
<span class="co">#&gt;                       0.13726836                       0.04575612 </span>
<span class="co">#&gt;                             pole                   pole and knife </span>
<span class="co">#&gt;                       0.04575612                       0.04575612 </span>
<span class="co">#&gt;                             rock                    samurai sword </span>
<span class="co">#&gt;                       0.09151224                       0.02287806 </span>
<span class="co">#&gt;                         scissors                      screwdriver </span>
<span class="co">#&gt;                       0.06863418                       0.18302448 </span>
<span class="co">#&gt;                     sharp object                           shovel </span>
<span class="co">#&gt;                       0.11439030                       0.06863418 </span>
<span class="co">#&gt;                            spear                          stapler </span>
<span class="co">#&gt;                       0.02287806                       0.02287806 </span>
<span class="co">#&gt;              straight edge razor                            sword </span>
<span class="co">#&gt;                       0.06863418                       0.34317090 </span>
<span class="co">#&gt;                            Taser                        tire iron </span>
<span class="co">#&gt;                       0.41180508                       0.02287806 </span>
<span class="co">#&gt;                       toy weapon                          unarmed </span>
<span class="co">#&gt;                       3.54609929                       6.36010066 </span>
<span class="co">#&gt;                     undetermined                   unknown weapon </span>
<span class="co">#&gt;                       4.30107527                       1.25829330 </span>
<span class="co">#&gt;                          vehicle                  vehicle and gun </span>
<span class="co">#&gt;                       1.57858614                       0.02287806 </span>
<span class="co">#&gt;                    walking stick                           wrench </span>
<span class="co">#&gt;                       0.02287806                       0.02287806</span></code></pre>
<p>This is fairly hard to interpret as it is sorted alphabetically when we’d prefer it to be sorted by most common weapon and it doesn’t round the percents. Let’s solve these two issues using <code>sort()</code> and <code>round()</code>. We could just wrap our initial code inside each of these functions but to avoid making too complicated code, we save the results in a temp object and incrementally use <code>sort()</code> and <code>round()</code> on that. We’ll round to two decimal places by setting the parameter <code>digits</code> to 2.</p>
<pre class="sourceCode r"><code class="sourceCode r">temp &lt;-<span class="st"> </span><span class="kw">table</span>(shootings<span class="op">$</span>armed) <span class="op">/</span><span class="st"> </span><span class="kw">nrow</span>(shootings) <span class="op">*</span><span class="st"> </span><span class="dv">100</span>
temp &lt;-<span class="st"> </span><span class="kw">sort</span>(temp)
temp &lt;-<span class="st"> </span><span class="kw">round</span>(temp, <span class="dt">digits =</span> <span class="dv">2</span>)
temp
<span class="co">#&gt; </span>
<span class="co">#&gt;                  air conditioner                         barstool </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;          baseball bat and bottle baseball bat and fireplace poker </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                          bayonet                     bean-bag gun </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                    bow and arrow                          carjack </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                         chainsaw              claimed to be armed </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;               contractor&#39;s level                   cordless drill </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                        fireworks                         flagpole </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                       flashlight                      garden tool </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                    gun and sword                       hand torch </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                  machete and gun                  metal hand tool </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                       metal rake                       motorcycle </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                         nail gun                              oar </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                       pellet gun                              pen </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                     pepper spray                    samurai sword </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                            spear                          stapler </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                        tire iron                  vehicle and gun </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                    walking stick                           wrench </span>
<span class="co">#&gt;                             0.02                             0.02 </span>
<span class="co">#&gt;                            brick                            chain </span>
<span class="co">#&gt;                             0.05                             0.05 </span>
<span class="co">#&gt;                        chain saw                            chair </span>
<span class="co">#&gt;                             0.05                             0.05 </span>
<span class="co">#&gt;                  gun and vehicle                  hatchet and gun </span>
<span class="co">#&gt;                             0.05                             0.05 </span>
<span class="co">#&gt;                incendiary device                 lawn mower blade </span>
<span class="co">#&gt;                             0.05                             0.05 </span>
<span class="co">#&gt;                       metal pole                        pitchfork </span>
<span class="co">#&gt;                             0.05                             0.05 </span>
<span class="co">#&gt;                             pole                   pole and knife </span>
<span class="co">#&gt;                             0.05                             0.05 </span>
<span class="co">#&gt;                           BB gun                      beer bottle </span>
<span class="co">#&gt;                             0.07                             0.07 </span>
<span class="co">#&gt;                          crowbar                      glass shard </span>
<span class="co">#&gt;                             0.07                             0.07 </span>
<span class="co">#&gt;              guns and explosives                     meat cleaver </span>
<span class="co">#&gt;                             0.07                             0.07 </span>
<span class="co">#&gt;                      metal stick                         pick-axe </span>
<span class="co">#&gt;                             0.07                             0.07 </span>
<span class="co">#&gt;                    piece of wood                         scissors </span>
<span class="co">#&gt;                             0.07                             0.07 </span>
<span class="co">#&gt;                           shovel              straight edge razor </span>
<span class="co">#&gt;                             0.07                             0.07 </span>
<span class="co">#&gt;                            baton                     metal object </span>
<span class="co">#&gt;                             0.09                             0.09 </span>
<span class="co">#&gt;                             rock                     blunt object </span>
<span class="co">#&gt;                             0.09                             0.11 </span>
<span class="co">#&gt;                      gun and car                     sharp object </span>
<span class="co">#&gt;                             0.11                             0.11 </span>
<span class="co">#&gt;                             pipe                          hatchet </span>
<span class="co">#&gt;                             0.14                             0.18 </span>
<span class="co">#&gt;                      screwdriver                         crossbow </span>
<span class="co">#&gt;                             0.18                             0.21 </span>
<span class="co">#&gt;                       box cutter                           hammer </span>
<span class="co">#&gt;                             0.23                             0.23 </span>
<span class="co">#&gt;                       metal pipe                     baseball bat </span>
<span class="co">#&gt;                             0.25                             0.27 </span>
<span class="co">#&gt;                    gun and knife                            sword </span>
<span class="co">#&gt;                             0.34                             0.34 </span>
<span class="co">#&gt;                            Taser                               ax </span>
<span class="co">#&gt;                             0.41                             0.48 </span>
<span class="co">#&gt;                          machete                   unknown weapon </span>
<span class="co">#&gt;                             0.87                             1.26 </span>
<span class="co">#&gt;                          vehicle                       toy weapon </span>
<span class="co">#&gt;                             1.58                             3.55 </span>
<span class="co">#&gt;                     undetermined                          unarmed </span>
<span class="co">#&gt;                             4.30                             6.36 </span>
<span class="co">#&gt;                            knife                              gun </span>
<span class="co">#&gt;                            14.96                            55.43</span></code></pre>
<p>Now it is a little easier to interpret. In over half of the cases the victim was carrying a gun. 15% of the time they had a knife. And 6% of the time they were unarmed. in 4% of cases there is no data on any weapon. That leaves about 20% of cases where one of the many rare weapons were used, including some that overlap with previous categories such as “hatchet and gun”.</p>
<p>Think about how you’d graph this data. There are 85 unique values in this column though only 7 of them are common enough to appear more than 1% of the time. Should we graph all of them? That’s overwhelm any plot. For a useful graph we would need to combine many of these into a single category - possible called “other weapons”. And how do we deal with values where they could meet multiple larger categories? There is not always a clear answer for these types of questions. It depends on what data you’re interested in, the goal of the graph, the target audience, and personal preference.</p>
<p>Let’s keep moving and look at gender and race.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(shootings<span class="op">$</span>gender) <span class="op">/</span><span class="st"> </span><span class="kw">nrow</span>(shootings) <span class="op">*</span><span class="st"> </span><span class="dv">100</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;         F         M </span>
<span class="co">#&gt;  4.667124 95.218485</span></code></pre>
<p>Nearly all of the shootings are of a man. Given that we saw most shootings involved a victim with a weapon and that most violent crimes are committed by men, this shouldn’t be too surprising.</p>
<pre class="sourceCode r"><code class="sourceCode r">temp &lt;-<span class="st"> </span><span class="kw">table</span>(shootings<span class="op">$</span>race) <span class="op">/</span><span class="st"> </span><span class="kw">nrow</span>(shootings) <span class="op">*</span><span class="st"> </span><span class="dv">100</span>
temp &lt;-<span class="st"> </span><span class="kw">sort</span>(temp)
temp &lt;-<span class="st"> </span><span class="kw">round</span>(temp, <span class="dt">digits =</span> <span class="dv">2</span>)
temp
<span class="co">#&gt; </span>
<span class="co">#&gt;     O     N     A     H     B     W </span>
<span class="co">#&gt;  0.87  1.46  1.62 16.45 22.90 44.89</span></code></pre>
<p>White people are the most likely to be killed by police followed by Black people and Hispanic people.</p>
<p>We can do a simple cross-tab to see if there the relationship beteen gender and race.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(shootings<span class="op">$</span>gender, shootings<span class="op">$</span>race)
<span class="co">#&gt;    </span>
<span class="co">#&gt;        A    B    H    N    O    W</span>
<span class="co">#&gt;   F    3   42   21    5    3  107</span>
<span class="co">#&gt;   M   68  959  697   59   35 1853</span></code></pre>
<p>There doesn’t appear to be any difference by race or gender.</p>
<p>One annoying thing with these two variables is that it doesn’t spell out the name. Instead of “Female” it has “F”. For our graphs we want to spell out the words so it is clear to viewers.</p>
<p>We’ve spent some time looking at the data so now we’re ready to make the graphs. We need to load the <code>ggplot2</code> package.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)</code></pre>
<div id="graphing-a-single-variable" class="section level2">
<h2><span class="header-section-number">18.1</span> Graphing a single variable</h2>
<div id="numeric-variable" class="section level3">
<h3><span class="header-section-number">18.1.1</span> Numeric variable</h3>
<p>As a reminder, the benefit of using <code>ggplot()</code> is we can start with a simple plot and build out way up to more complicated, or better looking, plots.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(shootings, <span class="kw">aes</span>(<span class="dt">x =</span> age)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_density</span>()
<span class="co">#&gt; Warning: Removed 182 rows containing non-finite values (stat_density).</span></code></pre>
<p><img src="graphing-officer-shootings_files/figure-html/unnamed-chunk-20-1.png" width="90%" style="display: block; margin: auto;" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(shootings, <span class="kw">aes</span>(<span class="dt">x =</span> age)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_histogram</span>()
<span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span>
<span class="co">#&gt; Warning: Removed 182 rows containing non-finite values (stat_bin).</span></code></pre>
<p><img src="graphing-officer-shootings_files/figure-html/unnamed-chunk-21-1.png" width="90%" style="display: block; margin: auto;" /></p>
</div>
<div id="categorical-variable" class="section level3">
<h3><span class="header-section-number">18.1.2</span> Categorical variable</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(shootings, <span class="kw">aes</span>(<span class="dt">x =</span> race)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_bar</span>()</code></pre>
<p><img src="graphing-officer-shootings_files/figure-html/unnamed-chunk-22-1.png" width="90%" style="display: block; margin: auto;" /></p>
<pre class="sourceCode r"><code class="sourceCode r">race_order &lt;-<span class="st"> </span><span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">table</span>(shootings<span class="op">$</span>race), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>))

<span class="kw">ggplot</span>(shootings, <span class="kw">aes</span>(<span class="dt">x =</span> race)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">limits =</span> race_order)
<span class="co">#&gt; Warning: Removed 516 rows containing non-finite values (stat_count).</span></code></pre>
<p><img src="graphing-officer-shootings_files/figure-html/unnamed-chunk-23-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>For bar graphs it is often useful to flip the graph so each value is a row in the graph rather than a column. This also makes it much easier to read the value name.</p>
<pre class="sourceCode r"><code class="sourceCode r">race_order &lt;-<span class="st"> </span><span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">table</span>(shootings<span class="op">$</span>race)))
<span class="kw">ggplot</span>(shootings, <span class="kw">aes</span>(<span class="dt">x =</span> race)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">y =</span> (..count..)<span class="op">/</span><span class="kw">sum</span>(..count..))) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">limits =</span> race_order)
<span class="co">#&gt; Warning: Removed 516 rows containing non-finite values (stat_count).</span></code></pre>
<p><img src="graphing-officer-shootings_files/figure-html/unnamed-chunk-24-1.png" width="90%" style="display: block; margin: auto;" /></p>
<pre class="sourceCode r"><code class="sourceCode r">race_order &lt;-<span class="st"> </span><span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">table</span>(shootings<span class="op">$</span>race)))
<span class="kw">ggplot</span>(shootings, <span class="kw">aes</span>(<span class="dt">x =</span> race)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">y =</span> (..count..)<span class="op">/</span><span class="kw">sum</span>(..count..))) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">limits =</span> race_order) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> scales<span class="op">::</span>percent)
<span class="co">#&gt; Warning: Removed 516 rows containing non-finite values (stat_count).</span></code></pre>
<p><img src="graphing-officer-shootings_files/figure-html/unnamed-chunk-25-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>We can reuse this code to make a similar graph for the gender variable.</p>
<pre class="sourceCode r"><code class="sourceCode r">race_order &lt;-<span class="st"> </span><span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">table</span>(shootings<span class="op">$</span>gender)))
<span class="kw">ggplot</span>(shootings, <span class="kw">aes</span>(<span class="dt">x =</span> gender)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">y =</span> (..count..)<span class="op">/</span><span class="kw">sum</span>(..count..))) <span class="op">+</span>
<span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">limits =</span> race_order) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> scales<span class="op">::</span>percent)
<span class="co">#&gt; Warning: Removed 5 rows containing non-finite values (stat_count).</span></code></pre>
<p><img src="graphing-officer-shootings_files/figure-html/unnamed-chunk-26-1.png" width="90%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="time-series" class="section level2">
<h2><span class="header-section-number">18.2</span> Time Series</h2>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(lubridate)
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: &#39;lubridate&#39;</span>
<span class="co">#&gt; The following object is masked from &#39;package:base&#39;:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     date</span></code></pre>
<pre class="sourceCode r"><code class="sourceCode r">shootings<span class="op">$</span>dummy &lt;-<span class="st"> </span><span class="dv">1</span>
shootings<span class="op">$</span>month_year &lt;-<span class="st"> </span><span class="kw">floor_date</span>(shootings<span class="op">$</span>date, <span class="dt">unit =</span> <span class="st">&quot;month&quot;</span>)
shootings<span class="op">$</span>year &lt;-<span class="st"> </span><span class="kw">year</span>(shootings<span class="op">$</span>date)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">monthly_shootings &lt;-<span class="st"> </span><span class="kw">aggregate</span>(dummy <span class="op">~</span><span class="st"> </span>month_year, <span class="dt">data =</span> shootings, <span class="dt">FUN =</span> sum)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(monthly_shootings, <span class="kw">aes</span>(<span class="dt">x =</span> month_year, <span class="dt">y =</span> dummy)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>()</code></pre>
<p><img src="graphing-officer-shootings_files/figure-html/unnamed-chunk-30-1.png" width="90%" style="display: block; margin: auto;" /></p>
<pre class="sourceCode r"><code class="sourceCode r">yearly_shootings &lt;-<span class="st"> </span><span class="kw">aggregate</span>(dummy <span class="op">~</span><span class="st"> </span>year, <span class="dt">data =</span> shootings, <span class="dt">FUN =</span> sum)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(yearly_shootings, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> dummy)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>()</code></pre>
<p><img src="graphing-officer-shootings_files/figure-html/unnamed-chunk-32-1.png" width="90%" style="display: block; margin: auto;" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(yearly_shootings[yearly_shootings<span class="op">$</span>year <span class="op">!=</span><span class="st"> </span><span class="dv">2019</span>, ], <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> dummy)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>()</code></pre>
<p><img src="graphing-officer-shootings_files/figure-html/unnamed-chunk-33-1.png" width="90%" style="display: block; margin: auto;" /></p>
<pre class="sourceCode r"><code class="sourceCode r">yearly_shootings &lt;-<span class="st"> </span><span class="kw">aggregate</span>(dummy <span class="op">~</span><span class="st"> </span>month_year, <span class="dt">data =</span> shootings[shootings<span class="op">$</span>armed <span class="op">==</span><span class="st"> &quot;unarmed&quot;</span>, ], <span class="dt">FUN =</span> sum)
<span class="kw">ggplot</span>(yearly_shootings, <span class="kw">aes</span>(<span class="dt">x =</span> month_year, <span class="dt">y =</span> dummy)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>()</code></pre>
<p><img src="graphing-officer-shootings_files/figure-html/unnamed-chunk-34-1.png" width="90%" style="display: block; margin: auto;" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="interactive-maps.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="scraping-tables-from-pdfs.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jacobkap/r4crim/edit/master/graphing-officer-shootings.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
