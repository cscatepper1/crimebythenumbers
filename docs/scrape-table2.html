<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>16 More scraping tables from PDFs | Crime by the Numbers</title>
  <meta name="description" content="This book introduces the programming language R and is meant for undergrads or graduate students studying criminology. R is a programming language that is well-suited to the type of work frequently done in criminology - taking messy data and turning it into useful information. While R is a useful tool for many fields of study, this book focuses on the skills criminologists should know and uses crime data for the example data sets." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="16 More scraping tables from PDFs | Crime by the Numbers" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://crimebythenumbers.com" />
  
  <meta property="og:description" content="This book introduces the programming language R and is meant for undergrads or graduate students studying criminology. R is a programming language that is well-suited to the type of work frequently done in criminology - taking messy data and turning it into useful information. While R is a useful tool for many fields of study, this book focuses on the skills criminologists should know and uses crime data for the example data sets." />
  <meta name="github-repo" content="jacobkap/crimebythenumbers" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="16 More scraping tables from PDFs | Crime by the Numbers" />
  
  <meta name="twitter:description" content="This book introduces the programming language R and is meant for undergrads or graduate students studying criminology. R is a programming language that is well-suited to the type of work frequently done in criminology - taking messy data and turning it into useful information. While R is a useful tool for many fields of study, this book focuses on the skills criminologists should know and uses crime data for the example data sets." />
  

<meta name="author" content="Jacob Kaplan" />


<meta name="date" content="2021-02-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="scrape-table.html"/>
<link rel="next" href="geocoding.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet" />
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet" />
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-99359926-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-99359926-6');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Crime by the Numbers</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-learn-to-program"><i class="fa fa-check"></i>Why learn to program?</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#scale"><i class="fa fa-check"></i>Scale</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#reproducibility"><i class="fa fa-check"></i>Reproducibility</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-you-will-learn"><i class="fa fa-check"></i>What you will learn</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#skills"><i class="fa fa-check"></i>Skills</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#data"><i class="fa fa-check"></i>Data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-you-wont-learn"><i class="fa fa-check"></i>What you won’t learn</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#simple-vs-easy"><i class="fa fa-check"></i>Simple vs Easy</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-contribute"><i class="fa fa-check"></i>How to Contribute</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author-jacob-kaplan.html"><a href="about-the-author-jacob-kaplan.html"><i class="fa fa-check"></i>About the author (Jacob Kaplan)</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html"><i class="fa fa-check"></i><b>1</b> Introduction to R and RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#using-rstudio"><i class="fa fa-check"></i><b>1.1</b> Using RStudio</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#opening-an-r-script"><i class="fa fa-check"></i><b>1.1.1</b> Opening an R Script</a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#setting-the-working-directory"><i class="fa fa-check"></i><b>1.1.2</b> Setting the working directory</a></li>
<li class="chapter" data-level="1.1.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#changing-rstudio"><i class="fa fa-check"></i><b>1.1.3</b> Changing RStudio</a></li>
<li class="chapter" data-level="1.1.4" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#helpful-cheat-sheets"><i class="fa fa-check"></i><b>1.1.4</b> Helpful Cheat Sheets</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#reading-data-into-r"><i class="fa fa-check"></i><b>1.2</b> Reading data into R</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#loading-data"><i class="fa fa-check"></i><b>1.2.1</b> Loading data</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#first-steps-to-exploring-data"><i class="fa fa-check"></i><b>1.3</b> First steps to exploring data</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#finding-help-about-functions"><i class="fa fa-check"></i><b>1.4</b> Finding help about functions</a></li>
</ul></li>
<li class="part"><span><b>I Clean</b></span></li>
<li class="chapter" data-level="2" data-path="subsetting-intro.html"><a href="subsetting-intro.html"><i class="fa fa-check"></i><b>2</b> Subsetting: Making big things small</a>
<ul>
<li class="chapter" data-level="2.1" data-path="subsetting-intro.html"><a href="subsetting-intro.html#select-specific-values"><i class="fa fa-check"></i><b>2.1</b> Select specific values</a></li>
<li class="chapter" data-level="2.2" data-path="subsetting-intro.html"><a href="subsetting-intro.html#assignment"><i class="fa fa-check"></i><b>2.2</b> Assigning values to objects (Making “things”)</a></li>
<li class="chapter" data-level="2.3" data-path="subsetting-intro.html"><a href="subsetting-intro.html#vectors"><i class="fa fa-check"></i><b>2.3</b> Vectors (collections of “things”)</a></li>
<li class="chapter" data-level="2.4" data-path="subsetting-intro.html"><a href="subsetting-intro.html#logical-values-and-operations"><i class="fa fa-check"></i><b>2.4</b> Logical values and operations</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="subsetting-intro.html"><a href="subsetting-intro.html#matching-a-single-value"><i class="fa fa-check"></i><b>2.4.1</b> Matching a single value</a></li>
<li class="chapter" data-level="2.4.2" data-path="subsetting-intro.html"><a href="subsetting-intro.html#matching-multiple-values"><i class="fa fa-check"></i><b>2.4.2</b> Matching multiple values</a></li>
<li class="chapter" data-level="2.4.3" data-path="subsetting-intro.html"><a href="subsetting-intro.html#does-not-match"><i class="fa fa-check"></i><b>2.4.3</b> Does not match</a></li>
<li class="chapter" data-level="2.4.4" data-path="subsetting-intro.html"><a href="subsetting-intro.html#greater-than-or-less-than"><i class="fa fa-check"></i><b>2.4.4</b> Greater than or less than</a></li>
<li class="chapter" data-level="2.4.5" data-path="subsetting-intro.html"><a href="subsetting-intro.html#combining-conditional-statements---or-and"><i class="fa fa-check"></i><b>2.4.5</b> Combining conditional statements - or, and</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="subsetting-intro.html"><a href="subsetting-intro.html#subsetting-a-data.frame"><i class="fa fa-check"></i><b>2.5</b> Subsetting a data.frame</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="subsetting-intro.html"><a href="subsetting-intro.html#select-specific-columns"><i class="fa fa-check"></i><b>2.5.1</b> Select specific columns</a></li>
<li class="chapter" data-level="2.5.2" data-path="subsetting-intro.html"><a href="subsetting-intro.html#select-specific-rows"><i class="fa fa-check"></i><b>2.5.2</b> Select specific rows</a></li>
<li class="chapter" data-level="2.5.3" data-path="subsetting-intro.html"><a href="subsetting-intro.html#subset-colorado-data"><i class="fa fa-check"></i><b>2.5.3</b> Subset Colorado data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="explore.html"><a href="explore.html"><i class="fa fa-check"></i><b>3</b> Exploratory data analysis</a>
<ul>
<li class="chapter" data-level="3.1" data-path="explore.html"><a href="explore.html#summary-and-table"><i class="fa fa-check"></i><b>3.1</b> Summary and Table</a></li>
<li class="chapter" data-level="3.2" data-path="explore.html"><a href="explore.html#graphing"><i class="fa fa-check"></i><b>3.2</b> Graphing</a></li>
<li class="chapter" data-level="3.3" data-path="explore.html"><a href="explore.html#aggregate"><i class="fa fa-check"></i><b>3.3</b> Aggregating (summaries of groups)</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="regular-expressions.html"><a href="regular-expressions.html"><i class="fa fa-check"></i><b>4</b> Regular Expressions</a>
<ul>
<li class="chapter" data-level="4.1" data-path="regular-expressions.html"><a href="regular-expressions.html#finding-patterns-in-text-with-grep"><i class="fa fa-check"></i><b>4.1</b> Finding patterns in text with <code>grep()</code></a></li>
<li class="chapter" data-level="4.2" data-path="regular-expressions.html"><a href="regular-expressions.html#finding-and-replacing-patterns-in-text-with-gsub"><i class="fa fa-check"></i><b>4.2</b> Finding and replacing patterns in text with <code>gsub()</code></a></li>
<li class="chapter" data-level="4.3" data-path="regular-expressions.html"><a href="regular-expressions.html#useful-special-characters"><i class="fa fa-check"></i><b>4.3</b> Useful special characters</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="regular-expressions.html"><a href="regular-expressions.html#multiple-characters"><i class="fa fa-check"></i><b>4.3.1</b> Multiple characters <code>[]</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="regular-expressions.html"><a href="regular-expressions.html#n-many-of-previous-character-n"><i class="fa fa-check"></i><b>4.3.2</b> n-many of previous character <code>{n}</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="regular-expressions.html"><a href="regular-expressions.html#n-many-to-m-many-of-previous-character-nm"><i class="fa fa-check"></i><b>4.3.3</b> n-many to m-many of previous character <code>{n,m}</code></a></li>
<li class="chapter" data-level="4.3.4" data-path="regular-expressions.html"><a href="regular-expressions.html#start-of-string"><i class="fa fa-check"></i><b>4.3.4</b> Start of string</a></li>
<li class="chapter" data-level="4.3.5" data-path="regular-expressions.html"><a href="regular-expressions.html#end-of-string"><i class="fa fa-check"></i><b>4.3.5</b> End of string <code>$</code></a></li>
<li class="chapter" data-level="4.3.6" data-path="regular-expressions.html"><a href="regular-expressions.html#anything-."><i class="fa fa-check"></i><b>4.3.6</b> Anything <code>.</code></a></li>
<li class="chapter" data-level="4.3.7" data-path="regular-expressions.html"><a href="regular-expressions.html#one-or-more-of-previous"><i class="fa fa-check"></i><b>4.3.7</b> One or more of previous <code>+</code></a></li>
<li class="chapter" data-level="4.3.8" data-path="regular-expressions.html"><a href="regular-expressions.html#zero-or-more-of-previous"><i class="fa fa-check"></i><b>4.3.8</b> Zero or more of previous <code>*</code></a></li>
<li class="chapter" data-level="4.3.9" data-path="regular-expressions.html"><a href="regular-expressions.html#multiple-patterns"><i class="fa fa-check"></i><b>4.3.9</b> Multiple patterns <code>|</code></a></li>
<li class="chapter" data-level="4.3.10" data-path="regular-expressions.html"><a href="regular-expressions.html#parentheses"><i class="fa fa-check"></i><b>4.3.10</b> Parentheses <code>()</code></a></li>
<li class="chapter" data-level="4.3.11" data-path="regular-expressions.html"><a href="regular-expressions.html#optional-text"><i class="fa fa-check"></i><b>4.3.11</b> Optional text <code>?</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="regular-expressions.html"><a href="regular-expressions.html#changing-capitalization"><i class="fa fa-check"></i><b>4.4</b> Changing capitalization</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html"><i class="fa fa-check"></i><b>5</b> Reading and Writing Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#reading-data-into-r-1"><i class="fa fa-check"></i><b>5.1</b> Reading Data into R</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#r"><i class="fa fa-check"></i><b>5.1.1</b> R</a></li>
<li class="chapter" data-level="5.1.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#excel"><i class="fa fa-check"></i><b>5.1.2</b> Excel</a></li>
<li class="chapter" data-level="5.1.3" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#stata"><i class="fa fa-check"></i><b>5.1.3</b> Stata</a></li>
<li class="chapter" data-level="5.1.4" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#sas"><i class="fa fa-check"></i><b>5.1.4</b> SAS</a></li>
<li class="chapter" data-level="5.1.5" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#spss"><i class="fa fa-check"></i><b>5.1.5</b> SPSS</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#writing-data"><i class="fa fa-check"></i><b>5.2</b> Writing Data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#r-1"><i class="fa fa-check"></i><b>5.2.1</b> R</a></li>
<li class="chapter" data-level="5.2.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#excel-1"><i class="fa fa-check"></i><b>5.2.2</b> Excel</a></li>
<li class="chapter" data-level="5.2.3" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#stata-1"><i class="fa fa-check"></i><b>5.2.3</b> Stata</a></li>
<li class="chapter" data-level="5.2.4" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#sas-1"><i class="fa fa-check"></i><b>5.2.4</b> SAS</a></li>
<li class="chapter" data-level="5.2.5" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#spss-1"><i class="fa fa-check"></i><b>5.2.5</b> SPSS</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Visualize</b></span></li>
<li class="chapter" data-level="6" data-path="graphing-intro.html"><a href="graphing-intro.html"><i class="fa fa-check"></i><b>6</b> Graphing with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="6.1" data-path="graphing-intro.html"><a href="graphing-intro.html#what-does-the-data-look-like"><i class="fa fa-check"></i><b>6.1</b> What does the data look like?</a></li>
<li class="chapter" data-level="6.2" data-path="graphing-intro.html"><a href="graphing-intro.html#graphing-data"><i class="fa fa-check"></i><b>6.2</b> Graphing data</a></li>
<li class="chapter" data-level="6.3" data-path="graphing-intro.html"><a href="graphing-intro.html#time-series-plots"><i class="fa fa-check"></i><b>6.3</b> Time-Series Plots</a></li>
<li class="chapter" data-level="6.4" data-path="graphing-intro.html"><a href="graphing-intro.html#scatter-plots"><i class="fa fa-check"></i><b>6.4</b> Scatter Plots</a></li>
<li class="chapter" data-level="6.5" data-path="graphing-intro.html"><a href="graphing-intro.html#color-blindness"><i class="fa fa-check"></i><b>6.5</b> Color blindness</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ois-graphs.html"><a href="ois-graphs.html"><i class="fa fa-check"></i><b>7</b> More graphing with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="7.1" data-path="ois-graphs.html"><a href="ois-graphs.html#exploring-data"><i class="fa fa-check"></i><b>7.1</b> Exploring Data</a></li>
<li class="chapter" data-level="7.2" data-path="ois-graphs.html"><a href="ois-graphs.html#graphing-a-single-numeric-variable"><i class="fa fa-check"></i><b>7.2</b> Graphing a Single Numeric Variable</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="ois-graphs.html"><a href="ois-graphs.html#histogram"><i class="fa fa-check"></i><b>7.2.1</b> Histogram</a></li>
<li class="chapter" data-level="7.2.2" data-path="ois-graphs.html"><a href="ois-graphs.html#density-plot"><i class="fa fa-check"></i><b>7.2.2</b> Density plot</a></li>
<li class="chapter" data-level="7.2.3" data-path="ois-graphs.html"><a href="ois-graphs.html#count-graph"><i class="fa fa-check"></i><b>7.2.3</b> Count Graph</a></li>
<li class="chapter" data-level="7.2.4" data-path="ois-graphs.html"><a href="ois-graphs.html#graphing-a-categorical-variable"><i class="fa fa-check"></i><b>7.2.4</b> Graphing a Categorical Variable</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="ois-graphs.html"><a href="ois-graphs.html#bar-graph"><i class="fa fa-check"></i><b>7.3</b> Bar graph</a></li>
<li class="chapter" data-level="7.4" data-path="ois-graphs.html"><a href="ois-graphs.html#graphing-data-over-time"><i class="fa fa-check"></i><b>7.4</b> Graphing Data Over Time</a></li>
<li class="chapter" data-level="7.5" data-path="ois-graphs.html"><a href="ois-graphs.html#pretty-graphs"><i class="fa fa-check"></i><b>7.5</b> Pretty Graphs</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="ois-graphs.html"><a href="ois-graphs.html#themes"><i class="fa fa-check"></i><b>7.5.1</b> Themes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="hotspot-maps.html"><a href="hotspot-maps.html"><i class="fa fa-check"></i><b>8</b> Hotspot maps</a>
<ul>
<li class="chapter" data-level="8.1" data-path="hotspot-maps.html"><a href="hotspot-maps.html#a-simple-map"><i class="fa fa-check"></i><b>8.1</b> A simple map</a></li>
<li class="chapter" data-level="8.2" data-path="hotspot-maps.html"><a href="hotspot-maps.html#what-really-are-maps"><i class="fa fa-check"></i><b>8.2</b> What really are maps?</a></li>
<li class="chapter" data-level="8.3" data-path="hotspot-maps.html"><a href="hotspot-maps.html#making-a-hotspot-map"><i class="fa fa-check"></i><b>8.3</b> Making a hotspot map</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="hotspot-maps.html"><a href="hotspot-maps.html#colors"><i class="fa fa-check"></i><b>8.3.1</b> Colors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="choropleth-maps.html"><a href="choropleth-maps.html"><i class="fa fa-check"></i><b>9</b> Choropleth maps</a>
<ul>
<li class="chapter" data-level="9.1" data-path="choropleth-maps.html"><a href="choropleth-maps.html#spatial-joins"><i class="fa fa-check"></i><b>9.1</b> Spatial joins</a></li>
<li class="chapter" data-level="9.2" data-path="choropleth-maps.html"><a href="choropleth-maps.html#making-choropleth-maps"><i class="fa fa-check"></i><b>9.2</b> Making choropleth maps</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="interactive-maps.html"><a href="interactive-maps.html"><i class="fa fa-check"></i><b>10</b> Interactive maps</a>
<ul>
<li class="chapter" data-level="10.1" data-path="interactive-maps.html"><a href="interactive-maps.html#why-do-interactive-graphs-matter"><i class="fa fa-check"></i><b>10.1</b> Why do interactive graphs matter?</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="interactive-maps.html"><a href="interactive-maps.html#understanding-your-data"><i class="fa fa-check"></i><b>10.1.1</b> Understanding your data</a></li>
<li class="chapter" data-level="10.1.2" data-path="interactive-maps.html"><a href="interactive-maps.html#police-departments-use-them"><i class="fa fa-check"></i><b>10.1.2</b> Police departments use them</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="interactive-maps.html"><a href="interactive-maps.html#making-the-interactive-map"><i class="fa fa-check"></i><b>10.2</b> Making the interactive map</a></li>
<li class="chapter" data-level="10.3" data-path="interactive-maps.html"><a href="interactive-maps.html#adding-popup-information"><i class="fa fa-check"></i><b>10.3</b> Adding popup information</a></li>
<li class="chapter" data-level="10.4" data-path="interactive-maps.html"><a href="interactive-maps.html#dealing-with-too-many-markers"><i class="fa fa-check"></i><b>10.4</b> Dealing with too many markers</a></li>
<li class="chapter" data-level="10.5" data-path="interactive-maps.html"><a href="interactive-maps.html#interactive-choropleth-maps"><i class="fa fa-check"></i><b>10.5</b> Interactive choropleth maps</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>11</b> R Markdown</a>
<ul>
<li class="chapter" data-level="11.1" data-path="r-markdown.html"><a href="r-markdown.html#code-1"><i class="fa fa-check"></i><b>11.1</b> Code</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="r-markdown.html"><a href="r-markdown.html#hiding-code-in-the-output"><i class="fa fa-check"></i><b>11.1.1</b> Hiding code in the output</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="r-markdown.html"><a href="r-markdown.html#inline-code"><i class="fa fa-check"></i><b>11.2</b> Inline Code</a></li>
<li class="chapter" data-level="11.3" data-path="r-markdown.html"><a href="r-markdown.html#tables"><i class="fa fa-check"></i><b>11.3</b> Tables</a></li>
<li class="chapter" data-level="11.4" data-path="r-markdown.html"><a href="r-markdown.html#footnotes"><i class="fa fa-check"></i><b>11.4</b> Footnotes</a></li>
<li class="chapter" data-level="11.5" data-path="r-markdown.html"><a href="r-markdown.html#citation"><i class="fa fa-check"></i><b>11.5</b> Citation</a></li>
<li class="chapter" data-level="11.6" data-path="r-markdown.html"><a href="r-markdown.html#spell-check"><i class="fa fa-check"></i><b>11.6</b> Spell check</a></li>
<li class="chapter" data-level="11.7" data-path="r-markdown.html"><a href="r-markdown.html#making-the-output-file"><i class="fa fa-check"></i><b>11.7</b> Making the output file</a></li>
</ul></li>
<li class="part"><span><b>III Collect</b></span></li>
<li class="chapter" data-level="12" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html"><i class="fa fa-check"></i><b>12</b> Webscraping with <code>rvest</code></a>
<ul>
<li class="chapter" data-level="12.1" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#scraping-one-page"><i class="fa fa-check"></i><b>12.1</b> Scraping one page</a></li>
<li class="chapter" data-level="12.2" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#cleaning-the-webscraped-data"><i class="fa fa-check"></i><b>12.2</b> Cleaning the webscraped data</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>13</b> Functions</a>
<ul>
<li class="chapter" data-level="13.1" data-path="functions.html"><a href="functions.html#a-simple-function"><i class="fa fa-check"></i><b>13.1</b> A simple function</a></li>
<li class="chapter" data-level="13.2" data-path="functions.html"><a href="functions.html#adding-parameters"><i class="fa fa-check"></i><b>13.2</b> Adding parameters</a></li>
<li class="chapter" data-level="13.3" data-path="functions.html"><a href="functions.html#recipes-function"><i class="fa fa-check"></i><b>13.3</b> Making a function to scrape recipes</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>14</b> For loops</a>
<ul>
<li class="chapter" data-level="14.1" data-path="for-loops.html"><a href="for-loops.html#basic-for-loops"><i class="fa fa-check"></i><b>14.1</b> Basic for loops</a></li>
<li class="chapter" data-level="14.2" data-path="for-loops.html"><a href="for-loops.html#scraping-multiple-recipes"><i class="fa fa-check"></i><b>14.2</b> Scraping multiple recipes</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="scrape-table.html"><a href="scrape-table.html"><i class="fa fa-check"></i><b>15</b> Scraping tables from PDFs</a>
<ul>
<li class="chapter" data-level="15.1" data-path="scrape-table.html"><a href="scrape-table.html#scraping-the-first-table"><i class="fa fa-check"></i><b>15.1</b> Scraping the first table</a></li>
<li class="chapter" data-level="15.2" data-path="scrape-table.html"><a href="scrape-table.html#making-a-function"><i class="fa fa-check"></i><b>15.2</b> Making a function</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="scrape-table2.html"><a href="scrape-table2.html"><i class="fa fa-check"></i><b>16</b> More scraping tables from PDFs</a>
<ul>
<li class="chapter" data-level="16.1" data-path="scrape-table2.html"><a href="scrape-table2.html#pregnant-women-incarcerated"><i class="fa fa-check"></i><b>16.1</b> Pregnant Women Incarcerated</a></li>
<li class="chapter" data-level="16.2" data-path="scrape-table2.html"><a href="scrape-table2.html#making-pdf-scraped-data-available-to-others"><i class="fa fa-check"></i><b>16.2</b> Making PDF-scraped data available to others</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="geocoding.html"><a href="geocoding.html"><i class="fa fa-check"></i><b>17</b> Geocoding</a>
<ul>
<li class="chapter" data-level="17.1" data-path="geocoding.html"><a href="geocoding.html#geocoding-a-single-address"><i class="fa fa-check"></i><b>17.1</b> Geocoding a single address</a></li>
<li class="chapter" data-level="17.2" data-path="geocoding.html"><a href="geocoding.html#making-a-function-1"><i class="fa fa-check"></i><b>17.2</b> Making a function</a></li>
<li class="chapter" data-level="17.3" data-path="geocoding.html"><a href="geocoding.html#geocoding-san-francisco-marijuana-dispensary-locations"><i class="fa fa-check"></i><b>17.3</b> Geocoding San Francisco marijuana dispensary locations</a></li>
</ul></li>
<li class="part"><span><b>IV Project Management</b></span></li>
<li class="chapter" data-level="18" data-path="mise-en-place.html"><a href="mise-en-place.html"><i class="fa fa-check"></i><b>18</b> <em>Mise en place</em></a>
<ul>
<li class="chapter" data-level="18.1" data-path="mise-en-place.html"><a href="mise-en-place.html#starting-with-a-pencil-and-paper"><i class="fa fa-check"></i><b>18.1</b> Starting with a pencil and paper</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="mise-en-place.html"><a href="mise-en-place.html#tables-and-graphs"><i class="fa fa-check"></i><b>18.1.1</b> Tables and graphs</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="mise-en-place.html"><a href="mise-en-place.html#r-projects"><i class="fa fa-check"></i><b>18.2</b> R Projects</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="mise-en-place.html"><a href="mise-en-place.html#folders"><i class="fa fa-check"></i><b>18.2.1</b> Folders</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="mise-en-place.html"><a href="mise-en-place.html#modular-r-scripts"><i class="fa fa-check"></i><b>18.3</b> Modular R scripts</a></li>
<li class="chapter" data-level="18.4" data-path="mise-en-place.html"><a href="mise-en-place.html#modular-code"><i class="fa fa-check"></i><b>18.4</b> Modular code</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="mise-en-place.html"><a href="mise-en-place.html#section-labels"><i class="fa fa-check"></i><b>18.4.1</b> Section Labels</a></li>
<li class="chapter" data-level="18.4.2" data-path="mise-en-place.html"><a href="mise-en-place.html#helper-r-scripts"><i class="fa fa-check"></i><b>18.4.2</b> Helper R Scripts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="collaboration.html"><a href="collaboration.html"><i class="fa fa-check"></i><b>19</b> Collaboration</a>
<ul>
<li class="chapter" data-level="19.1" data-path="collaboration.html"><a href="collaboration.html#code-review"><i class="fa fa-check"></i><b>19.1</b> Code review</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="collaboration.html"><a href="collaboration.html#style-guidelines"><i class="fa fa-check"></i><b>19.1.1</b> Style guidelines</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="collaboration.html"><a href="collaboration.html#documentation"><i class="fa fa-check"></i><b>19.2</b> Documentation</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="collaboration.html"><a href="collaboration.html#comments"><i class="fa fa-check"></i><b>19.2.1</b> Comments</a></li>
<li class="chapter" data-level="19.2.2" data-path="collaboration.html"><a href="collaboration.html#vignettes"><i class="fa fa-check"></i><b>19.2.2</b> Vignettes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="tests.html"><a href="tests.html"><i class="fa fa-check"></i><b>20</b> Tests</a>
<ul>
<li class="chapter" data-level="20.1" data-path="tests.html"><a href="tests.html#why-test-your-code"><i class="fa fa-check"></i><b>20.1</b> Why test your code?</a></li>
<li class="chapter" data-level="20.2" data-path="tests.html"><a href="tests.html#unit-tests"><i class="fa fa-check"></i><b>20.2</b> Unit tests</a>
<ul>
<li class="chapter" data-level="20.2.1" data-path="tests.html"><a href="tests.html#modular-test-scripts"><i class="fa fa-check"></i><b>20.2.1</b> Modular test scripts</a></li>
<li class="chapter" data-level="20.2.2" data-path="tests.html"><a href="tests.html#how-to-write-unit-tests"><i class="fa fa-check"></i><b>20.2.2</b> How to write unit tests</a></li>
<li class="chapter" data-level="20.2.3" data-path="tests.html"><a href="tests.html#what-to-test"><i class="fa fa-check"></i><b>20.2.3</b> What to test</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="tests.html"><a href="tests.html#test-driven-development-tdd"><i class="fa fa-check"></i><b>20.3</b> Test-driven development (TDD)</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>21</b> Git</a>
<ul>
<li class="chapter" data-level="21.1" data-path="git.html"><a href="git.html#what-is-git-and-why-do-i-need-it"><i class="fa fa-check"></i><b>21.1</b> What is Git and why do I need it?</a></li>
<li class="chapter" data-level="21.2" data-path="git.html"><a href="git.html#git-basics"><i class="fa fa-check"></i><b>21.2</b> Git basics</a></li>
<li class="chapter" data-level="21.3" data-path="git.html"><a href="git.html#using-git"><i class="fa fa-check"></i><b>21.3</b> Using Git</a>
<ul>
<li class="chapter" data-level="21.3.1" data-path="git.html"><a href="git.html#setting-up-git"><i class="fa fa-check"></i><b>21.3.1</b> Setting up Git</a></li>
<li class="chapter" data-level="21.3.2" data-path="git.html"><a href="git.html#setting-up-github"><i class="fa fa-check"></i><b>21.3.2</b> Setting up Github</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="git.html"><a href="git.html#setting-up-git-on-an-already-made-r-project"><i class="fa fa-check"></i><b>21.4</b> Setting up Git on an already made R Project</a></li>
<li class="chapter" data-level="21.5" data-path="git.html"><a href="git.html#using-git-through-rstudio"><i class="fa fa-check"></i><b>21.5</b> Using Git through RStudio</a></li>
<li class="chapter" data-level="21.6" data-path="git.html"><a href="git.html#when-to-commit"><i class="fa fa-check"></i><b>21.6</b> When to commit</a></li>
<li class="chapter" data-level="21.7" data-path="git.html"><a href="git.html#other-resources"><i class="fa fa-check"></i><b>21.7</b> Other resources</a></li>
</ul></li>
<li class="part"><span><b>V Data</b></span></li>
<li class="chapter" data-level="22" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>22</b> Introduction</a></li>
<li class="chapter" data-level="23" data-path="ucr.html"><a href="ucr.html"><i class="fa fa-check"></i><b>23</b> Uniform Crime Report (UCR) - Offenses Known and Clearances by Arrest</a>
<ul>
<li class="chapter" data-level="23.1" data-path="ucr.html"><a href="ucr.html#exploring-the-ucr-data"><i class="fa fa-check"></i><b>23.1</b> Exploring the UCR data</a></li>
<li class="chapter" data-level="23.2" data-path="ucr.html"><a href="ucr.html#oris---unique-agency-identifiers"><i class="fa fa-check"></i><b>23.2</b> ORIs - Unique agency identifiers</a></li>
<li class="chapter" data-level="23.3" data-path="ucr.html"><a href="ucr.html#hierarchy-rule"><i class="fa fa-check"></i><b>23.3</b> Hierarchy Rule</a></li>
<li class="chapter" data-level="23.4" data-path="ucr.html"><a href="ucr.html#which-crimes-are-included"><i class="fa fa-check"></i><b>23.4</b> Which crimes are included?</a>
<ul>
<li class="chapter" data-level="23.4.1" data-path="ucr.html"><a href="ucr.html#index-crimes"><i class="fa fa-check"></i><b>23.4.1</b> Index Crimes</a></li>
<li class="chapter" data-level="23.4.2" data-path="ucr.html"><a href="ucr.html#the-problem-with-using-index-crimes"><i class="fa fa-check"></i><b>23.4.2</b> The problem with using index crimes</a></li>
<li class="chapter" data-level="23.4.3" data-path="ucr.html"><a href="ucr.html#rape-definition-change"><i class="fa fa-check"></i><b>23.4.3</b> Rape definition change</a></li>
</ul></li>
<li class="chapter" data-level="23.5" data-path="ucr.html"><a href="ucr.html#actual-offenses-clearances-and-unfounded-offenses"><i class="fa fa-check"></i><b>23.5</b> Actual offenses, clearances, and unfounded offenses</a>
<ul>
<li class="chapter" data-level="23.5.1" data-path="ucr.html"><a href="ucr.html#actual"><i class="fa fa-check"></i><b>23.5.1</b> Actual</a></li>
<li class="chapter" data-level="23.5.2" data-path="ucr.html"><a href="ucr.html#total-cleared"><i class="fa fa-check"></i><b>23.5.2</b> Total Cleared</a></li>
<li class="chapter" data-level="23.5.3" data-path="ucr.html"><a href="ucr.html#cleared-where-all-offenders-are-under-18"><i class="fa fa-check"></i><b>23.5.3</b> Cleared Where All Offenders Are Under 18</a></li>
<li class="chapter" data-level="23.5.4" data-path="ucr.html"><a href="ucr.html#unfounded"><i class="fa fa-check"></i><b>23.5.4</b> Unfounded</a></li>
</ul></li>
<li class="chapter" data-level="23.6" data-path="ucr.html"><a href="ucr.html#number-of-months-reported"><i class="fa fa-check"></i><b>23.6</b> Number of months reported</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="useful-resources.html"><a href="useful-resources.html"><i class="fa fa-check"></i><b>A</b> Useful resources</a>
<ul>
<li class="chapter" data-level="A.1" data-path="useful-resources.html"><a href="useful-resources.html#learning-r-and-coding-issues"><i class="fa fa-check"></i><b>A.1</b> Learning R and coding issues</a></li>
<li class="chapter" data-level="A.2" data-path="useful-resources.html"><a href="useful-resources.html#data-1"><i class="fa fa-check"></i><b>A.2</b> Data</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Crime by the Numbers</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="scrape-table2" class="section level1" number="16">
<h1><span class="header-section-number">16</span> More scraping tables from PDFs</h1>
<p>In Chapter <a href="scrape-table.html#scrape-table">15</a> we used the package <code>pdftools</code> to scrape tables on arrests/seizures from the United States Border Patrol that were only available in a PDF. Given the importance of PDF scraping - hopefully by the time you read this chapter more data will be available in reasonable formats and not in PDFs - in this chapter we’ll continue working on scraping tables from PDFs. Here we will use the package <code>tabulizer</code> which has a number of features making it especially useful for grabbing tables from PDFs. One issue which we saw in Chapter <a href="scrape-table.html#scrape-table">15</a> is that the table may not be the only thing on the page - the page could also have a title, page number etc. When using <code>pdftools</code> we use regular expressions and subsetting to remove all the extra lines. Using <code>tabulizer</code> we can simply say (through a handy function) that we only want a part of the page, so we only scrape the table itself. For more info about the <code>tabulizer</code> package please see their site <a href="https://docs.ropensci.org/tabulizer/">here</a>.</p>
<p>For this chapter we’ll scrape data from the Texas Commission on Jail Standards - Abbreviated Population Report. This is a report that shows monthly data on people incarcerated in jails for counties in Texas and is available <a href="https://github.com/jacobkap/crimebythenumbers/blob/master/data/AbbreRptCurrent.pdf">here</a>. Make sure to download this file and put it in the working directory that you use to follow along.</p>
<p>This PDF is 9 pages long because of how many counties there are in Texas. Let’s take a look at what the first page looks like. If you look at the PDF yourself you’ll see that every page follows the format of the 1st page, which greatly simplifies our scrape. The data is in county-month units which means that each row of data has info for a single county in a single month. We know that because the first column is “County” and each row is a single county (this is not true is every case. For example, on page 3 there are the rows ‘Fannin 1(P)’ and ‘Fannin 2(P),’ possibly indicating that there are two jails in that county. It is unclear from this PDF what the ‘(P)’ means.). For knowing that the data is monthly, the title of this document says ‘for 06/01/2020’ indicating that it is for that date, though this doesn’t by itself mean the data is monthly - it could be daily based only on this data.</p>
<p>To know that it’s monthly data we’d have to go to the original source on the Texas Commission on Jail Standards website <a href="https://www.tcjs.state.tx.us/historical-population-reports/#1580454195676-420daca6-0a306">here</a>. On this page it says that ’Monthly population reports are available for review below," which tells us that the data is monthly. It’s important to know the unit so you can understand the data properly - primarily so you know what kinds of questions you can answer. If someone asks whether yearly trends on jail incarceration change in Texas, you can answer that with this data. If they ask whether more people are in jail on a Tuesday than on a Friday, you can’t.</p>
<p>Just to understand what units our data is in we had to look at both the PDF itself and the site it came from. This kind of multi-step process is tedious but often necessary to truly understand your data. And even now we have questions - what does the (P) that’s in some rows mean? For this we’d have to email or call the people who handle the data and ask directly. This is often the easiest way to answer your question, though different organizations have varying speeds in responding - if ever.</p>
<p>Now let’s look at what columns are available. It looks like each column is the number of people incarcerated in the jail, broken down into categories of people. For example, the first two columns after County are ‘Pretrial Felons’ and ‘Conv. Felons’ so those are probably how many people are incarcerated who are awaiting trial for a felony and those already convicted of a felony. The other columns seem to follow this same format until the last few ones which describe the jails capacity (i.e. how many people they can hold), what percent of capacity they are at, and specifically how many open beds they have.</p>
<p><img src="images/tabulizer1.PNG" /></p>
<p>Now that we’ve familiarized ourselves with the data, let’s begin scraping this data using <code>tabulizer</code>. If you don’t have this package installed, you’ll need to install it using <code>install.packages("tabulizer")</code>. Then we’ll need to run <code>library(tabulizer)</code>.</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="scrape-table2.html#cb340-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tabulizer)</span></code></pre></div>
<p>The main function that we’ll be using from the <code>tabulizer</code> package is <code>extract_tables()</code>. This function basically looks at a PDF page, figures out which part of the page is a table, and then scrapes just that table. As we’ll see, it’s not always perfect at figuring out what part of the page is a table so we can also tell it exactly where to look. You can look at all of the features of <code>extract_tables()</code> by running <code>help(extract_tables)</code>.</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="scrape-table2.html#cb341-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">extract_tables</span>(<span class="at">file =</span> <span class="st">&quot;data/AbbreRptCurrent.pdf&quot;</span>)</span>
<span id="cb341-2"><a href="scrape-table2.html#cb341-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is</span>(data)</span>
<span id="cb341-3"><a href="scrape-table2.html#cb341-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;list&quot;   &quot;vector&quot;</span></span>
<span id="cb341-4"><a href="scrape-table2.html#cb341-4" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(data)</span>
<span id="cb341-5"><a href="scrape-table2.html#cb341-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 18</span></span>
<span id="cb341-6"><a href="scrape-table2.html#cb341-6" aria-hidden="true" tabindex="-1"></a>data[[<span class="dv">1</span>]]</span>
<span id="cb341-7"><a href="scrape-table2.html#cb341-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]     [,2]       [,3]     [,4]           [,5]        [,6]        </span></span>
<span id="cb341-8"><a href="scrape-table2.html#cb341-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;&quot;       &quot;&quot;         &quot;&quot;       &quot;Conv. Felons&quot; &quot;&quot;          &quot;Parole&quot;    </span></span>
<span id="cb341-9"><a href="scrape-table2.html#cb341-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;&quot;       &quot;&quot;         &quot;&quot;       &quot;Sentenced to&quot; &quot;&quot;          &quot;Violators&quot; </span></span>
<span id="cb341-10"><a href="scrape-table2.html#cb341-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;&quot;       &quot;&quot;         &quot;&quot;       &quot;County Jail&quot;  &quot;&quot;          &quot;with a New&quot;</span></span>
<span id="cb341-11"><a href="scrape-table2.html#cb341-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;&quot;       &quot;Pretrial&quot; &quot;Conv.&quot;  &quot;&quot;             &quot;Parole&quot;    &quot;&quot;          </span></span>
<span id="cb341-12"><a href="scrape-table2.html#cb341-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;&quot;       &quot;&quot;         &quot;&quot;       &quot;time&quot;         &quot;&quot;          &quot;Charge&quot;    </span></span>
<span id="cb341-13"><a href="scrape-table2.html#cb341-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;County&quot; &quot;Felons&quot;   &quot;Felons&quot; &quot;&quot;             &quot;Violators&quot; &quot;&quot;          </span></span>
<span id="cb341-14"><a href="scrape-table2.html#cb341-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,7]       [,8]    [,9]       [,10]     [,11]      [,12]        </span></span>
<span id="cb341-15"><a href="scrape-table2.html#cb341-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;&quot;         &quot;&quot;      &quot;&quot;         &quot;&quot;        &quot;&quot;         &quot;Conv. SJF&quot;  </span></span>
<span id="cb341-16"><a href="scrape-table2.html#cb341-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;&quot;         &quot;&quot;      &quot;&quot;         &quot;&quot;        &quot;&quot;         &quot;Sentenced&quot;  </span></span>
<span id="cb341-17"><a href="scrape-table2.html#cb341-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;&quot;         &quot;&quot;      &quot;&quot;         &quot;&quot;        &quot;&quot;         &quot;to Co. Jail&quot;</span></span>
<span id="cb341-18"><a href="scrape-table2.html#cb341-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;Pretrial&quot; &quot;Conv.&quot; &quot;Bench&quot;    &quot;&quot;        &quot;Pretrial&quot; &quot;&quot;           </span></span>
<span id="cb341-19"><a href="scrape-table2.html#cb341-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;&quot;         &quot;&quot;      &quot;&quot;         &quot;&quot;        &quot;&quot;         &quot;Time&quot;       </span></span>
<span id="cb341-20"><a href="scrape-table2.html#cb341-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;Misd.&quot;    &quot;Misd.&quot; &quot;Warrants&quot; &quot;Federal&quot; &quot;SJF&quot;      &quot;&quot;           </span></span>
<span id="cb341-21"><a href="scrape-table2.html#cb341-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,13]           [,14]    [,15]   [,16]      [,17]        [,18]     </span></span>
<span id="cb341-22"><a href="scrape-table2.html#cb341-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;Conv.&quot;         &quot;&quot;       &quot;&quot;      &quot;&quot;         &quot;&quot;           &quot;&quot;        </span></span>
<span id="cb341-23"><a href="scrape-table2.html#cb341-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;SJF&quot;           &quot;&quot;       &quot;&quot;      &quot;&quot;         &quot;&quot;           &quot;&quot;        </span></span>
<span id="cb341-24"><a href="scrape-table2.html#cb341-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;Sentenced&quot;     &quot;&quot;       &quot;&quot;      &quot;&quot;         &quot;&quot;           &quot;&quot;        </span></span>
<span id="cb341-25"><a href="scrape-table2.html#cb341-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;&quot;              &quot;Total&quot;  &quot;Total&quot; &quot;Total&quot;    &quot;Total&quot;      &quot;Total&quot;   </span></span>
<span id="cb341-26"><a href="scrape-table2.html#cb341-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;to State Jail&quot; &quot;&quot;       &quot;&quot;      &quot;&quot;         &quot;&quot;           &quot;&quot;        </span></span>
<span id="cb341-27"><a href="scrape-table2.html#cb341-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;&quot;              &quot;Others&quot; &quot;Local&quot; &quot;Contract&quot; &quot;Population&quot; &quot;Capacity&quot;</span></span>
<span id="cb341-28"><a href="scrape-table2.html#cb341-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,19]      [,20]      </span></span>
<span id="cb341-29"><a href="scrape-table2.html#cb341-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;&quot;         &quot;&quot;         </span></span>
<span id="cb341-30"><a href="scrape-table2.html#cb341-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;&quot;         &quot;&quot;         </span></span>
<span id="cb341-31"><a href="scrape-table2.html#cb341-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;&quot;         &quot;&quot;         </span></span>
<span id="cb341-32"><a href="scrape-table2.html#cb341-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;% of&quot;     &quot;Available&quot;</span></span>
<span id="cb341-33"><a href="scrape-table2.html#cb341-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;&quot;         &quot;&quot;         </span></span>
<span id="cb341-34"><a href="scrape-table2.html#cb341-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;Capacity&quot; &quot;Beds&quot;</span></span>
<span id="cb341-35"><a href="scrape-table2.html#cb341-35" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data[[<span class="dv">2</span>]])</span>
<span id="cb341-36"><a href="scrape-table2.html#cb341-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]        [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]</span></span>
<span id="cb341-37"><a href="scrape-table2.html#cb341-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;Anderson&quot;  &quot;81&quot; &quot;13&quot; &quot;3&quot;  &quot;1&quot;  &quot;5&quot;  &quot;12&quot; &quot;1&quot;  &quot;0&quot;  &quot;0&quot;   &quot;21&quot;  &quot;0&quot;  </span></span>
<span id="cb341-38"><a href="scrape-table2.html#cb341-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;Andrews&quot;   &quot;23&quot; &quot;11&quot; &quot;0&quot;  &quot;2&quot;  &quot;4&quot;  &quot;11&quot; &quot;0&quot;  &quot;0&quot;  &quot;0&quot;   &quot;5&quot;   &quot;0&quot;  </span></span>
<span id="cb341-39"><a href="scrape-table2.html#cb341-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;Angelina&quot;  &quot;79&quot; &quot;35&quot; &quot;4&quot;  &quot;6&quot;  &quot;0&quot;  &quot;14&quot; &quot;0&quot;  &quot;3&quot;  &quot;0&quot;   &quot;23&quot;  &quot;0&quot;  </span></span>
<span id="cb341-40"><a href="scrape-table2.html#cb341-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;Aransas&quot;   &quot;23&quot; &quot;10&quot; &quot;0&quot;  &quot;2&quot;  &quot;6&quot;  &quot;7&quot;  &quot;0&quot;  &quot;6&quot;  &quot;73&quot;  &quot;2&quot;   &quot;0&quot;  </span></span>
<span id="cb341-41"><a href="scrape-table2.html#cb341-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;Archer&quot;    &quot;12&quot; &quot;3&quot;  &quot;0&quot;  &quot;0&quot;  &quot;1&quot;  &quot;3&quot;  &quot;1&quot;  &quot;1&quot;  &quot;2&quot;   &quot;5&quot;   &quot;0&quot;  </span></span>
<span id="cb341-42"><a href="scrape-table2.html#cb341-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;Armstrong&quot; &quot;1&quot;  &quot;1&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;   &quot;0&quot;   &quot;0&quot;  </span></span>
<span id="cb341-43"><a href="scrape-table2.html#cb341-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,13] [,14] [,15] [,16] [,17] [,18] [,19]   [,20]</span></span>
<span id="cb341-44"><a href="scrape-table2.html#cb341-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;1&quot;   &quot;0&quot;   &quot;138&quot; &quot;0&quot;   &quot;138&quot; &quot;300&quot; &quot;46.00&quot; &quot;132&quot;</span></span>
<span id="cb341-45"><a href="scrape-table2.html#cb341-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;6&quot;   &quot;0&quot;   &quot;35&quot;  &quot;0&quot;   &quot;35&quot;  &quot;50&quot;  &quot;70.00&quot; &quot;10&quot; </span></span>
<span id="cb341-46"><a href="scrape-table2.html#cb341-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;3&quot;   &quot;1&quot;   &quot;168&quot; &quot;0&quot;   &quot;168&quot; &quot;279&quot; &quot;60.22&quot; &quot;83&quot; </span></span>
<span id="cb341-47"><a href="scrape-table2.html#cb341-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;0&quot;   &quot;0&quot;   &quot;56&quot;  &quot;73&quot;  &quot;129&quot; &quot;212&quot; &quot;60.85&quot; &quot;62&quot; </span></span>
<span id="cb341-48"><a href="scrape-table2.html#cb341-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;0&quot;   &quot;1&quot;   &quot;26&quot;  &quot;9&quot;   &quot;35&quot;  &quot;48&quot;  &quot;72.92&quot; &quot;0&quot;  </span></span>
<span id="cb341-49"><a href="scrape-table2.html#cb341-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;0&quot;   &quot;0&quot;   &quot;2&quot;   &quot;0&quot;   &quot;2&quot;   &quot;8&quot;   &quot;25.00&quot; &quot;0&quot;</span></span></code></pre></div>
<p>Above is scraping code and some output when running <code>extract_tables()</code> on our PDF using all of the default options in that function. The only parameter we put in the function is <code>file = "data/Abbreviated Pop Rpt Dec 2017.pdf"</code>. This is just telling the function where to look for the PDF. I have the PDF in the data folder of my project; you’ll need to change this to have <code>extract_tables()</code> look in the right place for the PDF on your computer.</p>
<p>You can see from the output that the scrape was successful - but our work isn’t done yet. The results from <code>is(data)</code> say that the scrape returned a list, and from <code>length(data)</code> we learn that it’s a list of length 18. Why is this? We have 9 pages so it is reasonable that we would have 9 lists since we have one table per page, but we shouldn’t have 19 tables. Let’s look again at just the first table - as it is a list, we’ll need double square brackets to pull just the first element in the list.</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="scrape-table2.html#cb342-1" aria-hidden="true" tabindex="-1"></a>data[[<span class="dv">1</span>]]</span>
<span id="cb342-2"><a href="scrape-table2.html#cb342-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]     [,2]       [,3]     [,4]           [,5]        [,6]        </span></span>
<span id="cb342-3"><a href="scrape-table2.html#cb342-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;&quot;       &quot;&quot;         &quot;&quot;       &quot;Conv. Felons&quot; &quot;&quot;          &quot;Parole&quot;    </span></span>
<span id="cb342-4"><a href="scrape-table2.html#cb342-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;&quot;       &quot;&quot;         &quot;&quot;       &quot;Sentenced to&quot; &quot;&quot;          &quot;Violators&quot; </span></span>
<span id="cb342-5"><a href="scrape-table2.html#cb342-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;&quot;       &quot;&quot;         &quot;&quot;       &quot;County Jail&quot;  &quot;&quot;          &quot;with a New&quot;</span></span>
<span id="cb342-6"><a href="scrape-table2.html#cb342-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;&quot;       &quot;Pretrial&quot; &quot;Conv.&quot;  &quot;&quot;             &quot;Parole&quot;    &quot;&quot;          </span></span>
<span id="cb342-7"><a href="scrape-table2.html#cb342-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;&quot;       &quot;&quot;         &quot;&quot;       &quot;time&quot;         &quot;&quot;          &quot;Charge&quot;    </span></span>
<span id="cb342-8"><a href="scrape-table2.html#cb342-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;County&quot; &quot;Felons&quot;   &quot;Felons&quot; &quot;&quot;             &quot;Violators&quot; &quot;&quot;          </span></span>
<span id="cb342-9"><a href="scrape-table2.html#cb342-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,7]       [,8]    [,9]       [,10]     [,11]      [,12]        </span></span>
<span id="cb342-10"><a href="scrape-table2.html#cb342-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;&quot;         &quot;&quot;      &quot;&quot;         &quot;&quot;        &quot;&quot;         &quot;Conv. SJF&quot;  </span></span>
<span id="cb342-11"><a href="scrape-table2.html#cb342-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;&quot;         &quot;&quot;      &quot;&quot;         &quot;&quot;        &quot;&quot;         &quot;Sentenced&quot;  </span></span>
<span id="cb342-12"><a href="scrape-table2.html#cb342-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;&quot;         &quot;&quot;      &quot;&quot;         &quot;&quot;        &quot;&quot;         &quot;to Co. Jail&quot;</span></span>
<span id="cb342-13"><a href="scrape-table2.html#cb342-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;Pretrial&quot; &quot;Conv.&quot; &quot;Bench&quot;    &quot;&quot;        &quot;Pretrial&quot; &quot;&quot;           </span></span>
<span id="cb342-14"><a href="scrape-table2.html#cb342-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;&quot;         &quot;&quot;      &quot;&quot;         &quot;&quot;        &quot;&quot;         &quot;Time&quot;       </span></span>
<span id="cb342-15"><a href="scrape-table2.html#cb342-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;Misd.&quot;    &quot;Misd.&quot; &quot;Warrants&quot; &quot;Federal&quot; &quot;SJF&quot;      &quot;&quot;           </span></span>
<span id="cb342-16"><a href="scrape-table2.html#cb342-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,13]           [,14]    [,15]   [,16]      [,17]        [,18]     </span></span>
<span id="cb342-17"><a href="scrape-table2.html#cb342-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;Conv.&quot;         &quot;&quot;       &quot;&quot;      &quot;&quot;         &quot;&quot;           &quot;&quot;        </span></span>
<span id="cb342-18"><a href="scrape-table2.html#cb342-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;SJF&quot;           &quot;&quot;       &quot;&quot;      &quot;&quot;         &quot;&quot;           &quot;&quot;        </span></span>
<span id="cb342-19"><a href="scrape-table2.html#cb342-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;Sentenced&quot;     &quot;&quot;       &quot;&quot;      &quot;&quot;         &quot;&quot;           &quot;&quot;        </span></span>
<span id="cb342-20"><a href="scrape-table2.html#cb342-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;&quot;              &quot;Total&quot;  &quot;Total&quot; &quot;Total&quot;    &quot;Total&quot;      &quot;Total&quot;   </span></span>
<span id="cb342-21"><a href="scrape-table2.html#cb342-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;to State Jail&quot; &quot;&quot;       &quot;&quot;      &quot;&quot;         &quot;&quot;           &quot;&quot;        </span></span>
<span id="cb342-22"><a href="scrape-table2.html#cb342-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;&quot;              &quot;Others&quot; &quot;Local&quot; &quot;Contract&quot; &quot;Population&quot; &quot;Capacity&quot;</span></span>
<span id="cb342-23"><a href="scrape-table2.html#cb342-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,19]      [,20]      </span></span>
<span id="cb342-24"><a href="scrape-table2.html#cb342-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;&quot;         &quot;&quot;         </span></span>
<span id="cb342-25"><a href="scrape-table2.html#cb342-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;&quot;         &quot;&quot;         </span></span>
<span id="cb342-26"><a href="scrape-table2.html#cb342-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;&quot;         &quot;&quot;         </span></span>
<span id="cb342-27"><a href="scrape-table2.html#cb342-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;% of&quot;     &quot;Available&quot;</span></span>
<span id="cb342-28"><a href="scrape-table2.html#cb342-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;&quot;         &quot;&quot;         </span></span>
<span id="cb342-29"><a href="scrape-table2.html#cb342-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;Capacity&quot; &quot;Beds&quot;</span></span></code></pre></div>
<p>The results from <code>data[[1]]</code> provide some answers. It has the right number of columns but only 6 rows! This is our first table so should be the entire table we can see on page 1. Instead, it appears to be just the column names, with 6 rows because some column names are on multiple rows. Here’s the issue, we can read the table and easily see that the column names may be on multiple rows but belong together, and that they are part of the table. <code>tabulizer</code> can’t see this obvious fact as we can, it must rely on a series of rules to indicate what is part of a table and what isn’t. For example, having white space between columns and thin black lines around rows tells it where each row and column is. Our issue is that the column names appear to just be text until there is a thick black line and (in <code>tabulizer's</code> mind) the table begins, so it keeps the column name part separate from the rest of the table. Now let’s look closer at table 2 and see if it is correct for the table on page 1 of our PDF.</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="scrape-table2.html#cb343-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data[[<span class="dv">2</span>]])</span>
<span id="cb343-2"><a href="scrape-table2.html#cb343-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]        [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]</span></span>
<span id="cb343-3"><a href="scrape-table2.html#cb343-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;Anderson&quot;  &quot;81&quot; &quot;13&quot; &quot;3&quot;  &quot;1&quot;  &quot;5&quot;  &quot;12&quot; &quot;1&quot;  &quot;0&quot;  &quot;0&quot;   &quot;21&quot;  &quot;0&quot;  </span></span>
<span id="cb343-4"><a href="scrape-table2.html#cb343-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;Andrews&quot;   &quot;23&quot; &quot;11&quot; &quot;0&quot;  &quot;2&quot;  &quot;4&quot;  &quot;11&quot; &quot;0&quot;  &quot;0&quot;  &quot;0&quot;   &quot;5&quot;   &quot;0&quot;  </span></span>
<span id="cb343-5"><a href="scrape-table2.html#cb343-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;Angelina&quot;  &quot;79&quot; &quot;35&quot; &quot;4&quot;  &quot;6&quot;  &quot;0&quot;  &quot;14&quot; &quot;0&quot;  &quot;3&quot;  &quot;0&quot;   &quot;23&quot;  &quot;0&quot;  </span></span>
<span id="cb343-6"><a href="scrape-table2.html#cb343-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;Aransas&quot;   &quot;23&quot; &quot;10&quot; &quot;0&quot;  &quot;2&quot;  &quot;6&quot;  &quot;7&quot;  &quot;0&quot;  &quot;6&quot;  &quot;73&quot;  &quot;2&quot;   &quot;0&quot;  </span></span>
<span id="cb343-7"><a href="scrape-table2.html#cb343-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;Archer&quot;    &quot;12&quot; &quot;3&quot;  &quot;0&quot;  &quot;0&quot;  &quot;1&quot;  &quot;3&quot;  &quot;1&quot;  &quot;1&quot;  &quot;2&quot;   &quot;5&quot;   &quot;0&quot;  </span></span>
<span id="cb343-8"><a href="scrape-table2.html#cb343-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;Armstrong&quot; &quot;1&quot;  &quot;1&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;   &quot;0&quot;   &quot;0&quot;  </span></span>
<span id="cb343-9"><a href="scrape-table2.html#cb343-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,13] [,14] [,15] [,16] [,17] [,18] [,19]   [,20]</span></span>
<span id="cb343-10"><a href="scrape-table2.html#cb343-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;1&quot;   &quot;0&quot;   &quot;138&quot; &quot;0&quot;   &quot;138&quot; &quot;300&quot; &quot;46.00&quot; &quot;132&quot;</span></span>
<span id="cb343-11"><a href="scrape-table2.html#cb343-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;6&quot;   &quot;0&quot;   &quot;35&quot;  &quot;0&quot;   &quot;35&quot;  &quot;50&quot;  &quot;70.00&quot; &quot;10&quot; </span></span>
<span id="cb343-12"><a href="scrape-table2.html#cb343-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;3&quot;   &quot;1&quot;   &quot;168&quot; &quot;0&quot;   &quot;168&quot; &quot;279&quot; &quot;60.22&quot; &quot;83&quot; </span></span>
<span id="cb343-13"><a href="scrape-table2.html#cb343-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;0&quot;   &quot;0&quot;   &quot;56&quot;  &quot;73&quot;  &quot;129&quot; &quot;212&quot; &quot;60.85&quot; &quot;62&quot; </span></span>
<span id="cb343-14"><a href="scrape-table2.html#cb343-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;0&quot;   &quot;1&quot;   &quot;26&quot;  &quot;9&quot;   &quot;35&quot;  &quot;48&quot;  &quot;72.92&quot; &quot;0&quot;  </span></span>
<span id="cb343-15"><a href="scrape-table2.html#cb343-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;0&quot;   &quot;0&quot;   &quot;2&quot;   &quot;0&quot;   &quot;2&quot;   &quot;8&quot;   &quot;25.00&quot; &quot;0&quot;</span></span>
<span id="cb343-16"><a href="scrape-table2.html#cb343-16" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(data[[<span class="dv">2</span>]])</span>
<span id="cb343-17"><a href="scrape-table2.html#cb343-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [,1]         [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]</span></span>
<span id="cb343-18"><a href="scrape-table2.html#cb343-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [24,] &quot;Brooks&quot;     &quot;15&quot; &quot;1&quot;  &quot;1&quot;  &quot;1&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;   &quot;0&quot;   &quot;0&quot;  </span></span>
<span id="cb343-19"><a href="scrape-table2.html#cb343-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25,] &quot;Brooks (P)&quot; &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;164&quot; &quot;0&quot;   &quot;0&quot;  </span></span>
<span id="cb343-20"><a href="scrape-table2.html#cb343-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [26,] &quot;Brown&quot;      &quot;70&quot; &quot;20&quot; &quot;0&quot;  &quot;7&quot;  &quot;20&quot; &quot;9&quot;  &quot;0&quot;  &quot;2&quot;  &quot;0&quot;   &quot;0&quot;   &quot;3&quot;  </span></span>
<span id="cb343-21"><a href="scrape-table2.html#cb343-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [27,] &quot;Burleson&quot;   &quot;19&quot; &quot;2&quot;  &quot;0&quot;  &quot;2&quot;  &quot;0&quot;  &quot;3&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;   &quot;0&quot;   &quot;0&quot;  </span></span>
<span id="cb343-22"><a href="scrape-table2.html#cb343-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [28,] &quot;Burnet&quot;     &quot;57&quot; &quot;23&quot; &quot;1&quot;  &quot;5&quot;  &quot;9&quot;  &quot;3&quot;  &quot;0&quot;  &quot;1&quot;  &quot;0&quot;   &quot;10&quot;  &quot;1&quot;  </span></span>
<span id="cb343-23"><a href="scrape-table2.html#cb343-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [29,] &quot;Caldwell&quot;   &quot;89&quot; &quot;4&quot;  &quot;0&quot;  &quot;3&quot;  &quot;2&quot;  &quot;26&quot; &quot;1&quot;  &quot;2&quot;  &quot;19&quot;  &quot;13&quot;  &quot;0&quot;  </span></span>
<span id="cb343-24"><a href="scrape-table2.html#cb343-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [,13] [,14] [,15] [,16] [,17] [,18] [,19]   [,20]</span></span>
<span id="cb343-25"><a href="scrape-table2.html#cb343-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [24,] &quot;0&quot;   &quot;0&quot;   &quot;18&quot;  &quot;0&quot;   &quot;18&quot;  &quot;36&quot;  &quot;50.00&quot; &quot;14&quot; </span></span>
<span id="cb343-26"><a href="scrape-table2.html#cb343-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25,] &quot;0&quot;   &quot;0&quot;   &quot;0&quot;   &quot;408&quot; &quot;408&quot; &quot;652&quot; &quot;62.58&quot; &quot;179&quot;</span></span>
<span id="cb343-27"><a href="scrape-table2.html#cb343-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [26,] &quot;0&quot;   &quot;2&quot;   &quot;133&quot; &quot;7&quot;   &quot;140&quot; &quot;196&quot; &quot;71.43&quot; &quot;36&quot; </span></span>
<span id="cb343-28"><a href="scrape-table2.html#cb343-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [27,] &quot;0&quot;   &quot;1&quot;   &quot;27&quot;  &quot;0&quot;   &quot;27&quot;  &quot;96&quot;  &quot;28.13&quot; &quot;59&quot; </span></span>
<span id="cb343-29"><a href="scrape-table2.html#cb343-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [28,] &quot;0&quot;   &quot;0&quot;   &quot;110&quot; &quot;158&quot; &quot;268&quot; &quot;595&quot; &quot;45.04&quot; &quot;268&quot;</span></span>
<span id="cb343-30"><a href="scrape-table2.html#cb343-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [29,] &quot;3&quot;   &quot;0&quot;   &quot;143&quot; &quot;21&quot;  &quot;164&quot; &quot;301&quot; &quot;54.49&quot; &quot;107&quot;</span></span></code></pre></div>
<p>We’re looking just at the <code>head()</code> and <code>tail()</code> to get the first and 6 six rows as otherwise we’d print out all 29 rows in that table. When you are exploring you own data, you’ll probably want to be more thorough and ensure that rows around the middle are also correct - but this is a good first pass. If you look at the output the table and compare it to the PDF, you’ll see that the scrape was successful. Every row is where it should be and the columns are correct - unlike using <code>pdftools()</code> we have the results already in proper columns. One thing to note is that this data isn’t in a data.frame format, it’s in a matrix. Matrices are the default output of <code>extract_tables()</code> though you can set it to output a data.frame by setting the parameter <code>output = "data.frame"</code>. In our case we actually wouldn’t want that due to the issue of the column names.</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="scrape-table2.html#cb344-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">extract_tables</span>(<span class="at">file =</span> <span class="st">&quot;data/AbbreRptCurrent.pdf&quot;</span>, <span class="at">output =</span> <span class="st">&quot;data.frame&quot;</span>)</span>
<span id="cb344-2"><a href="scrape-table2.html#cb344-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data[[<span class="dv">2</span>]])</span>
<span id="cb344-3"><a href="scrape-table2.html#cb344-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Anderson X81 X13 X3 X1 X5 X12 X1.1 X0 X0.1 X21 X0.2 X1.2 X0.3 X138 X0.4</span></span>
<span id="cb344-4"><a href="scrape-table2.html#cb344-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   Andrews  23  11  0  2  4  11    0  0    0   5    0    6    0   35    0</span></span>
<span id="cb344-5"><a href="scrape-table2.html#cb344-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  Angelina  79  35  4  6  0  14    0  3    0  23    0    3    1  168    0</span></span>
<span id="cb344-6"><a href="scrape-table2.html#cb344-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   Aransas  23  10  0  2  6   7    0  6   73   2    0    0    0   56   73</span></span>
<span id="cb344-7"><a href="scrape-table2.html#cb344-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4    Archer  12   3  0  0  1   3    1  1    2   5    0    0    1   26    9</span></span>
<span id="cb344-8"><a href="scrape-table2.html#cb344-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Armstrong   1   1  0  0  0   0    0  0    0   0    0    0    0    2    0</span></span>
<span id="cb344-9"><a href="scrape-table2.html#cb344-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  Atascosa  54   2  0  8  4  21    0  5    0  29    0    4    0  127   29</span></span>
<span id="cb344-10"><a href="scrape-table2.html#cb344-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   X138.1 X300 X46.00 X132</span></span>
<span id="cb344-11"><a href="scrape-table2.html#cb344-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     35   50  70.00   10</span></span>
<span id="cb344-12"><a href="scrape-table2.html#cb344-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2    168  279  60.22   83</span></span>
<span id="cb344-13"><a href="scrape-table2.html#cb344-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3    129  212  60.85   62</span></span>
<span id="cb344-14"><a href="scrape-table2.html#cb344-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4     35   48  72.92    0</span></span>
<span id="cb344-15"><a href="scrape-table2.html#cb344-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5      2    8  25.00    0</span></span>
<span id="cb344-16"><a href="scrape-table2.html#cb344-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6    156  250  62.40   69</span></span></code></pre></div>
<p>Above we reran the <code>extract_tables()</code> code and just added a parameter to make the output a data.frame instead of a matrix. Now it sets the first row - which should be the columns - as the column name, which is not correct. We’ll have to fix the column names first before we can convert the result from a matrix to a data.frame.</p>
<p>We’ll use the <code>apply()</code> function on our data to create column names from it. The <code>apply()</code> function is actual part of a “family” of similar function which essentially operate as quicker for loops - we could have done a for loop to solve this problem. The <code>apply()</code> function takes as an input a vector or matrix data set, and then performs some function on either its rows or its columns. Our first input is our data, the first element of the <code>data</code> list. Then we put the number 2 to indicate that we want it to perform our function on each column of the matrix - if we put 1, that would perform the function on each row. So now what function to use on this data? We want to combine each row together into a single string per column. To do that we can use the <code>paste()</code> function and use the <code>collapse</code> parameter to combine multiple strings to a single string. So after the 2 we enter <code>paste</code>, and then just add <code>collapse = ""</code> (the "" means that we’re not putting anything between the strings when combining them) separated by a comma. Let’s see what it returns.</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="scrape-table2.html#cb345-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(data[[<span class="dv">1</span>]], <span class="dv">2</span>, paste, <span class="at">collapse =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb345-2"><a href="scrape-table2.html#cb345-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                             X                           X.1 </span></span>
<span id="cb345-3"><a href="scrape-table2.html#cb345-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                      &quot;County&quot;              &quot;PretrialFelons&quot; </span></span>
<span id="cb345-4"><a href="scrape-table2.html#cb345-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                           X.2                  Conv..Felons </span></span>
<span id="cb345-5"><a href="scrape-table2.html#cb345-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                 &quot;Conv.Felons&quot; &quot;Sentenced toCounty Jailtime&quot; </span></span>
<span id="cb345-6"><a href="scrape-table2.html#cb345-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                           X.3                        Parole </span></span>
<span id="cb345-7"><a href="scrape-table2.html#cb345-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             &quot;ParoleViolators&quot;   &quot;Violatorswith a NewCharge&quot; </span></span>
<span id="cb345-8"><a href="scrape-table2.html#cb345-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                           X.4                           X.5 </span></span>
<span id="cb345-9"><a href="scrape-table2.html#cb345-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               &quot;PretrialMisd.&quot;                  &quot;Conv.Misd.&quot; </span></span>
<span id="cb345-10"><a href="scrape-table2.html#cb345-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                           X.6                           X.7 </span></span>
<span id="cb345-11"><a href="scrape-table2.html#cb345-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               &quot;BenchWarrants&quot;                     &quot;Federal&quot; </span></span>
<span id="cb345-12"><a href="scrape-table2.html#cb345-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                           X.8                     Conv..SJF </span></span>
<span id="cb345-13"><a href="scrape-table2.html#cb345-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                 &quot;PretrialSJF&quot;    &quot;Sentencedto Co. JailTime&quot; </span></span>
<span id="cb345-14"><a href="scrape-table2.html#cb345-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                         Conv.                           X.9 </span></span>
<span id="cb345-15"><a href="scrape-table2.html#cb345-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &quot;SJFSentencedto State Jail&quot;                 &quot;TotalOthers&quot; </span></span>
<span id="cb345-16"><a href="scrape-table2.html#cb345-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                          X.10                          X.11 </span></span>
<span id="cb345-17"><a href="scrape-table2.html#cb345-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                  &quot;TotalLocal&quot;               &quot;TotalContract&quot; </span></span>
<span id="cb345-18"><a href="scrape-table2.html#cb345-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                          X.12                          X.13 </span></span>
<span id="cb345-19"><a href="scrape-table2.html#cb345-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             &quot;TotalPopulation&quot;               &quot;TotalCapacity&quot; </span></span>
<span id="cb345-20"><a href="scrape-table2.html#cb345-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                          X.14                          X.15 </span></span>
<span id="cb345-21"><a href="scrape-table2.html#cb345-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                &quot;% ofCapacity&quot;               &quot;AvailableBeds&quot;</span></span></code></pre></div>
<p>Now we have a vector of 20 strings, one per column in our data. We will use this to name the columns in our data set with the actual info from the scraped table. One helper function first. The column names don’t follow conventional R style for column names - it has spaces, uppercase letters, punctuation other than the underscore. To easily fix this we can use the <code>make_clean_names()</code> function from the <code>janitor</code> package. If you don’t have this package installed, install it using <code>install.packages("janitor")</code>. We’ll first save the results of the above <code>apply()</code> function as a vector we can call <code>column_names</code> and then run the <code>make_clean_names()</code> function on it. The input to <code>make_clean_names()</code> is the vector of strings (our column names) and it’ll return that vector but now with names in R’s common style.</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="scrape-table2.html#cb346-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb346-2"><a href="scrape-table2.html#cb346-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb346-3"><a href="scrape-table2.html#cb346-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Attaching package: &#39;janitor&#39;</span></span>
<span id="cb346-4"><a href="scrape-table2.html#cb346-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The following objects are masked from &#39;package:stats&#39;:</span></span>
<span id="cb346-5"><a href="scrape-table2.html#cb346-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb346-6"><a href="scrape-table2.html#cb346-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     chisq.test, fisher.test</span></span>
<span id="cb346-7"><a href="scrape-table2.html#cb346-7" aria-hidden="true" tabindex="-1"></a>column_names <span class="ot">&lt;-</span> <span class="fu">apply</span>(data[[<span class="dv">1</span>]], <span class="dv">2</span>, paste, <span class="at">collapse =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb346-8"><a href="scrape-table2.html#cb346-8" aria-hidden="true" tabindex="-1"></a>column_names <span class="ot">&lt;-</span> <span class="fu">make_clean_names</span>(column_names)</span>
<span id="cb346-9"><a href="scrape-table2.html#cb346-9" aria-hidden="true" tabindex="-1"></a>column_names</span>
<span id="cb346-10"><a href="scrape-table2.html#cb346-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;county&quot;                       &quot;pretrial_felons&quot;             </span></span>
<span id="cb346-11"><a href="scrape-table2.html#cb346-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] &quot;conv_felons&quot;                  &quot;sentenced_to_county_jailtime&quot;</span></span>
<span id="cb346-12"><a href="scrape-table2.html#cb346-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] &quot;parole_violators&quot;             &quot;violatorswith_a_new_charge&quot;  </span></span>
<span id="cb346-13"><a href="scrape-table2.html#cb346-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;pretrial_misd&quot;                &quot;conv_misd&quot;                   </span></span>
<span id="cb346-14"><a href="scrape-table2.html#cb346-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9] &quot;bench_warrants&quot;               &quot;federal&quot;                     </span></span>
<span id="cb346-15"><a href="scrape-table2.html#cb346-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] &quot;pretrial_sjf&quot;                 &quot;sentencedto_co_jail_time&quot;    </span></span>
<span id="cb346-16"><a href="scrape-table2.html#cb346-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] &quot;sjf_sentencedto_state_jail&quot;   &quot;total_others&quot;                </span></span>
<span id="cb346-17"><a href="scrape-table2.html#cb346-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [15] &quot;total_local&quot;                  &quot;total_contract&quot;              </span></span>
<span id="cb346-18"><a href="scrape-table2.html#cb346-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [17] &quot;total_population&quot;             &quot;total_capacity&quot;              </span></span>
<span id="cb346-19"><a href="scrape-table2.html#cb346-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19] &quot;percent_of_capacity&quot;          &quot;available_beds&quot;</span></span></code></pre></div>
<p>Now the column names are in the proper style. And notice the 19th value, it changed from the percent sign to the word “percent.”</p>
<p>We can combine the results from the first table - the column names - with that of the second table - the actual data - to have a complete table from page 1 of our PDF. We do this simply by making table 2 a data.frame and using <code>names()</code> to rename the columns to the ones we made above. Since this is the table from page 1 of the PDF, we’ll call the object <code>page1_table</code>.</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="scrape-table2.html#cb347-1" aria-hidden="true" tabindex="-1"></a>page1_table <span class="ot">&lt;-</span> data[[<span class="dv">2</span>]]</span>
<span id="cb347-2"><a href="scrape-table2.html#cb347-2" aria-hidden="true" tabindex="-1"></a>page1_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(page1_table)</span>
<span id="cb347-3"><a href="scrape-table2.html#cb347-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(page1_table) <span class="ot">&lt;-</span> column_names</span>
<span id="cb347-4"><a href="scrape-table2.html#cb347-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(page1_table)</span>
<span id="cb347-5"><a href="scrape-table2.html#cb347-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      county pretrial_felons conv_felons sentenced_to_county_jailtime</span></span>
<span id="cb347-6"><a href="scrape-table2.html#cb347-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   Andrews              23          11                            0</span></span>
<span id="cb347-7"><a href="scrape-table2.html#cb347-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  Angelina              79          35                            4</span></span>
<span id="cb347-8"><a href="scrape-table2.html#cb347-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   Aransas              23          10                            0</span></span>
<span id="cb347-9"><a href="scrape-table2.html#cb347-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4    Archer              12           3                            0</span></span>
<span id="cb347-10"><a href="scrape-table2.html#cb347-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Armstrong               1           1                            0</span></span>
<span id="cb347-11"><a href="scrape-table2.html#cb347-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  Atascosa              54           2                            0</span></span>
<span id="cb347-12"><a href="scrape-table2.html#cb347-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   parole_violators violatorswith_a_new_charge pretrial_misd conv_misd</span></span>
<span id="cb347-13"><a href="scrape-table2.html#cb347-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1                2                          4            11         0</span></span>
<span id="cb347-14"><a href="scrape-table2.html#cb347-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2                6                          0            14         0</span></span>
<span id="cb347-15"><a href="scrape-table2.html#cb347-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3                2                          6             7         0</span></span>
<span id="cb347-16"><a href="scrape-table2.html#cb347-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4                0                          1             3         1</span></span>
<span id="cb347-17"><a href="scrape-table2.html#cb347-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5                0                          0             0         0</span></span>
<span id="cb347-18"><a href="scrape-table2.html#cb347-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6                8                          4            21         0</span></span>
<span id="cb347-19"><a href="scrape-table2.html#cb347-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   bench_warrants federal pretrial_sjf sentencedto_co_jail_time</span></span>
<span id="cb347-20"><a href="scrape-table2.html#cb347-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1              0       0            5                        0</span></span>
<span id="cb347-21"><a href="scrape-table2.html#cb347-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2              3       0           23                        0</span></span>
<span id="cb347-22"><a href="scrape-table2.html#cb347-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3              6      73            2                        0</span></span>
<span id="cb347-23"><a href="scrape-table2.html#cb347-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4              1       2            5                        0</span></span>
<span id="cb347-24"><a href="scrape-table2.html#cb347-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5              0       0            0                        0</span></span>
<span id="cb347-25"><a href="scrape-table2.html#cb347-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6              5       0           29                        0</span></span>
<span id="cb347-26"><a href="scrape-table2.html#cb347-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sjf_sentencedto_state_jail total_others total_local total_contract</span></span>
<span id="cb347-27"><a href="scrape-table2.html#cb347-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1                          6            0          35              0</span></span>
<span id="cb347-28"><a href="scrape-table2.html#cb347-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2                          3            1         168              0</span></span>
<span id="cb347-29"><a href="scrape-table2.html#cb347-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3                          0            0          56             73</span></span>
<span id="cb347-30"><a href="scrape-table2.html#cb347-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4                          0            1          26              9</span></span>
<span id="cb347-31"><a href="scrape-table2.html#cb347-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5                          0            0           2              0</span></span>
<span id="cb347-32"><a href="scrape-table2.html#cb347-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6                          4            0         127             29</span></span>
<span id="cb347-33"><a href="scrape-table2.html#cb347-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   total_population total_capacity percent_of_capacity available_beds</span></span>
<span id="cb347-34"><a href="scrape-table2.html#cb347-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1               35             50               70.00             10</span></span>
<span id="cb347-35"><a href="scrape-table2.html#cb347-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2              168            279               60.22             83</span></span>
<span id="cb347-36"><a href="scrape-table2.html#cb347-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3              129            212               60.85             62</span></span>
<span id="cb347-37"><a href="scrape-table2.html#cb347-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4               35             48               72.92              0</span></span>
<span id="cb347-38"><a href="scrape-table2.html#cb347-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5                2              8               25.00              0</span></span>
<span id="cb347-39"><a href="scrape-table2.html#cb347-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6              156            250               62.40             69</span></span>
<span id="cb347-40"><a href="scrape-table2.html#cb347-40" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(page1_table)</span>
<span id="cb347-41"><a href="scrape-table2.html#cb347-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        county pretrial_felons conv_felons sentenced_to_county_jailtime</span></span>
<span id="cb347-42"><a href="scrape-table2.html#cb347-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 23     Brooks              15           1                            1</span></span>
<span id="cb347-43"><a href="scrape-table2.html#cb347-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 24 Brooks (P)               0           0                            0</span></span>
<span id="cb347-44"><a href="scrape-table2.html#cb347-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 25      Brown              70          20                            0</span></span>
<span id="cb347-45"><a href="scrape-table2.html#cb347-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 26   Burleson              19           2                            0</span></span>
<span id="cb347-46"><a href="scrape-table2.html#cb347-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 27     Burnet              57          23                            1</span></span>
<span id="cb347-47"><a href="scrape-table2.html#cb347-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 28   Caldwell              89           4                            0</span></span>
<span id="cb347-48"><a href="scrape-table2.html#cb347-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    parole_violators violatorswith_a_new_charge pretrial_misd conv_misd</span></span>
<span id="cb347-49"><a href="scrape-table2.html#cb347-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 23                1                          0             0         0</span></span>
<span id="cb347-50"><a href="scrape-table2.html#cb347-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 24                0                          0             0         0</span></span>
<span id="cb347-51"><a href="scrape-table2.html#cb347-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 25                7                         20             9         0</span></span>
<span id="cb347-52"><a href="scrape-table2.html#cb347-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 26                2                          0             3         0</span></span>
<span id="cb347-53"><a href="scrape-table2.html#cb347-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 27                5                          9             3         0</span></span>
<span id="cb347-54"><a href="scrape-table2.html#cb347-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 28                3                          2            26         1</span></span>
<span id="cb347-55"><a href="scrape-table2.html#cb347-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    bench_warrants federal pretrial_sjf sentencedto_co_jail_time</span></span>
<span id="cb347-56"><a href="scrape-table2.html#cb347-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 23              0       0            0                        0</span></span>
<span id="cb347-57"><a href="scrape-table2.html#cb347-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 24              0     164            0                        0</span></span>
<span id="cb347-58"><a href="scrape-table2.html#cb347-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 25              2       0            0                        3</span></span>
<span id="cb347-59"><a href="scrape-table2.html#cb347-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 26              0       0            0                        0</span></span>
<span id="cb347-60"><a href="scrape-table2.html#cb347-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 27              1       0           10                        1</span></span>
<span id="cb347-61"><a href="scrape-table2.html#cb347-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 28              2      19           13                        0</span></span>
<span id="cb347-62"><a href="scrape-table2.html#cb347-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    sjf_sentencedto_state_jail total_others total_local total_contract</span></span>
<span id="cb347-63"><a href="scrape-table2.html#cb347-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 23                          0            0          18              0</span></span>
<span id="cb347-64"><a href="scrape-table2.html#cb347-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 24                          0            0           0            408</span></span>
<span id="cb347-65"><a href="scrape-table2.html#cb347-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 25                          0            2         133              7</span></span>
<span id="cb347-66"><a href="scrape-table2.html#cb347-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 26                          0            1          27              0</span></span>
<span id="cb347-67"><a href="scrape-table2.html#cb347-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 27                          0            0         110            158</span></span>
<span id="cb347-68"><a href="scrape-table2.html#cb347-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 28                          3            0         143             21</span></span>
<span id="cb347-69"><a href="scrape-table2.html#cb347-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    total_population total_capacity percent_of_capacity available_beds</span></span>
<span id="cb347-70"><a href="scrape-table2.html#cb347-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 23               18             36               50.00             14</span></span>
<span id="cb347-71"><a href="scrape-table2.html#cb347-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 24              408            652               62.58            179</span></span>
<span id="cb347-72"><a href="scrape-table2.html#cb347-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 25              140            196               71.43             36</span></span>
<span id="cb347-73"><a href="scrape-table2.html#cb347-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 26               27             96               28.13             59</span></span>
<span id="cb347-74"><a href="scrape-table2.html#cb347-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 27              268            595               45.04            268</span></span>
<span id="cb347-75"><a href="scrape-table2.html#cb347-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 28              164            301               54.49            107</span></span></code></pre></div>
<p>Looking at the results of <code>head()</code> and <code>tail()</code> (if this was data that you were using in your project you’d want to look closer than just these checks) shows that we’ve done this correctly. The values are right and the column names are correct. Complete the rest of the PDF on your own. You can follow the same steps as above but now that we’ve made the <code>column_names</code> object you can reuse that for the other tables. This is only true because each page has the same column names. Otherwise you’d have to fix the column names for each page of the PDF.</p>
<p>So why did I choose this example when it highlights a limitation of an otherwise very effective R package? A lot of the work you do in R is going to be like the example we went through - there are tools to solve <em>most</em> of the data problems, but you’ll need to spend time fixing the extra issues. And since a lot of problems are fairly unique (at least insofar as there are differences in your exact problem even if problems are generally similar) there’s usually not a R function to solve everything. Below is another (brief) example of the <code>tabulizer</code> package working perfectly - but with a few issues just due to how the data is arranged on the PDF.</p>
<div id="pregnant-women-incarcerated" class="section level2" number="16.1">
<h2><span class="header-section-number">16.1</span> Pregnant Women Incarcerated</h2>
<p>We’ll finish this lesson with another example of data from Texas - this time using data on the number of pregnant women booked in Texas county jails. This data has a unique challenge, it has 10 columns but we want to make it have only 2. In the data (shown below), it starts with a column of county names, then a column of the number of pregnant women booked into that county’s jail. Next is another column of county names - instead of continuing onto another page, this data just makes new columns when it runs out of room. We’ll scrape this PDF using <code>tabulizer()</code> and then work to fix this multiple-column issue. The file is called “PregnantFemaleReportingCurrent.pdf” and is available on GitHub <a href="https://github.com/jacobkap/crimebythenumbers/blob/master/data/PregnantFemaleReportingCurrent.pdf">here</a>. Make sure to download this file and put it in the proper working directory for the <code>extract_tables()</code> function we use below.</p>
<p><img src="images/pregnant.PNG" /></p>
<p>Notice that this data doesn’t even have column names. Whereas earlier in this chapter we have to combine multiple rows to form the column names, here we will have to create the names entirely ourselves. This is always a bit risky as maybe next month the table will change and if we hard-code any column names, we’ll either have code that breaks or - much more dangerous - mislabel the columns without noticing. In cases like this we have no other choice, but if you intend to scrape something that recurring - that is, that you’ll scrape a future version of - be careful about situations like this.</p>
<p>We’ll start scraping this PDF using the standard <code>extract_tables()</code> function without any parameters other than the file name. This is usually a good start since it’s quick and often works - and if it doesn’t, we haven’t lost much time checking. Since we know <code>extract_tables()</code> will return a list by default, we’ll save the result of <code>extract_tables()</code> as an object called <code>data</code> and then just pull the first element (i.e. the only element if this works) from that list.</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="scrape-table2.html#cb348-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">extract_tables</span>(<span class="at">file =</span> <span class="st">&quot;data/PregnantFemaleReportingCurrent.pdf&quot;</span>)</span>
<span id="cb348-2"><a href="scrape-table2.html#cb348-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data[[<span class="dv">1</span>]]</span>
<span id="cb348-3"><a href="scrape-table2.html#cb348-3" aria-hidden="true" tabindex="-1"></a>data</span>
<span id="cb348-4"><a href="scrape-table2.html#cb348-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [,1]            [,2] [,3]          [,4] [,5]            [,6]</span></span>
<span id="cb348-5"><a href="scrape-table2.html#cb348-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1,] &quot;Anderson&quot;      &quot;0&quot;  &quot;Delta&quot;       &quot;0&quot;  &quot;Irion&quot;         &quot;0&quot; </span></span>
<span id="cb348-6"><a href="scrape-table2.html#cb348-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2,] &quot;Andrews&quot;       &quot;1&quot;  &quot;Denton&quot;      &quot;3&quot;  &quot;Jack&quot;          &quot;0&quot; </span></span>
<span id="cb348-7"><a href="scrape-table2.html#cb348-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3,] &quot;Angelina&quot;      &quot;0&quot;  &quot;DeWitt&quot;      &quot;0&quot;  &quot;Jackson&quot;       &quot;1&quot; </span></span>
<span id="cb348-8"><a href="scrape-table2.html#cb348-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4,] &quot;Aransas&quot;       &quot;0&quot;  &quot;Dickens&quot;     &quot;0&quot;  &quot;Jasper&quot;        &quot;0&quot; </span></span>
<span id="cb348-9"><a href="scrape-table2.html#cb348-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5,] &quot;Archer&quot;        &quot;1&quot;  &quot;Dickens (P)&quot; &quot;0&quot;  &quot;Jeff Davis&quot;    &quot;0&quot; </span></span>
<span id="cb348-10"><a href="scrape-table2.html#cb348-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6,] &quot;Armstrong&quot;     &quot;0&quot;  &quot;Dimmit&quot;      &quot;0&quot;  &quot;Jefferson&quot;     &quot;0&quot; </span></span>
<span id="cb348-11"><a href="scrape-table2.html#cb348-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7,] &quot;Atascosa&quot;      &quot;0&quot;  &quot;Donley&quot;      &quot;0&quot;  &quot;Jefferson (P)&quot; &quot;0&quot; </span></span>
<span id="cb348-12"><a href="scrape-table2.html#cb348-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8,] &quot;Austin&quot;        &quot;0&quot;  &quot;Duval&quot;       &quot;0&quot;  &quot;Jim Hogg&quot;      &quot;0&quot; </span></span>
<span id="cb348-13"><a href="scrape-table2.html#cb348-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9,] &quot;Bailey&quot;        &quot;0&quot;  &quot;Eastland&quot;    &quot;0&quot;  &quot;Jim Wells&quot;     &quot;0&quot; </span></span>
<span id="cb348-14"><a href="scrape-table2.html#cb348-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10,] &quot;Bandera&quot;       &quot;0&quot;  &quot;Ector&quot;       &quot;3&quot;  &quot;Johnson&quot;       &quot;2&quot; </span></span>
<span id="cb348-15"><a href="scrape-table2.html#cb348-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11,] &quot;Bastrop&quot;       &quot;0&quot;  &quot;Edwards&quot;     &quot;0&quot;  &quot;Jones&quot;         &quot;0&quot; </span></span>
<span id="cb348-16"><a href="scrape-table2.html#cb348-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [12,] &quot;Baylor&quot;        &quot;0&quot;  &quot;El Paso&quot;     &quot;8&quot;  &quot;Karnes&quot;        &quot;0&quot; </span></span>
<span id="cb348-17"><a href="scrape-table2.html#cb348-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13,] &quot;Bee&quot;           &quot;0&quot;  &quot;Ellis&quot;       &quot;0&quot;  &quot;Karnes (P)&quot;    &quot;0&quot; </span></span>
<span id="cb348-18"><a href="scrape-table2.html#cb348-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [14,] &quot;Bell&quot;          &quot;9&quot;  &quot;Erath&quot;       &quot;0&quot;  &quot;Kaufman&quot;       &quot;3&quot; </span></span>
<span id="cb348-19"><a href="scrape-table2.html#cb348-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [15,] &quot;Bexar&quot;         &quot;27&quot; &quot;Falls&quot;       &quot;0&quot;  &quot;Kendall&quot;       &quot;1&quot; </span></span>
<span id="cb348-20"><a href="scrape-table2.html#cb348-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [16,] &quot;Blanco&quot;        &quot;0&quot;  &quot;Fannin 1(P)&quot; &quot;0&quot;  &quot;Kenedy&quot;        &quot;0&quot; </span></span>
<span id="cb348-21"><a href="scrape-table2.html#cb348-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [17,] &quot;Borden&quot;        &quot;0&quot;  &quot;Fannin 2(P)&quot; &quot;2&quot;  &quot;Kent&quot;          &quot;0&quot; </span></span>
<span id="cb348-22"><a href="scrape-table2.html#cb348-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [18,] &quot;Bosque&quot;        &quot;0&quot;  &quot;Fayette&quot;     &quot;0&quot;  &quot;Kerr&quot;          &quot;1&quot; </span></span>
<span id="cb348-23"><a href="scrape-table2.html#cb348-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19,] &quot;Bowie (P)&quot;     &quot;0&quot;  &quot;Fisher&quot;      &quot;0&quot;  &quot;Kimble&quot;        &quot;0&quot; </span></span>
<span id="cb348-24"><a href="scrape-table2.html#cb348-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [20,] &quot;Brazoria&quot;      &quot;2&quot;  &quot;Floyd&quot;       &quot;0&quot;  &quot;King&quot;          &quot;0&quot; </span></span>
<span id="cb348-25"><a href="scrape-table2.html#cb348-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [21,] &quot;Brazos&quot;        &quot;5&quot;  &quot;Foard&quot;       &quot;0&quot;  &quot;Kinney&quot;        &quot;0&quot; </span></span>
<span id="cb348-26"><a href="scrape-table2.html#cb348-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [22,] &quot;Brewster&quot;      &quot;0&quot;  &quot;Fort Bend&quot;   &quot;4&quot;  &quot;Kleberg&quot;       &quot;1&quot; </span></span>
<span id="cb348-27"><a href="scrape-table2.html#cb348-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [23,] &quot;Briscoe&quot;       &quot;0&quot;  &quot;Franklin&quot;    &quot;0&quot;  &quot;Knox&quot;          &quot;0&quot; </span></span>
<span id="cb348-28"><a href="scrape-table2.html#cb348-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [24,] &quot;Brooks&quot;        &quot;0&quot;  &quot;Freestone&quot;   &quot;1&quot;  &quot;La Salle&quot;      &quot;0&quot; </span></span>
<span id="cb348-29"><a href="scrape-table2.html#cb348-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25,] &quot;Brooks (P)&quot;    &quot;1&quot;  &quot;Frio (P)&quot;    &quot;0&quot;  &quot;Lamar&quot;         &quot;0&quot; </span></span>
<span id="cb348-30"><a href="scrape-table2.html#cb348-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [26,] &quot;Brown&quot;         &quot;1&quot;  &quot;Gaines&quot;      &quot;0&quot;  &quot;Lamb&quot;          &quot;0&quot; </span></span>
<span id="cb348-31"><a href="scrape-table2.html#cb348-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [27,] &quot;Burleson&quot;      &quot;1&quot;  &quot;Galveston&quot;   &quot;5&quot;  &quot;Lampasas&quot;      &quot;0&quot; </span></span>
<span id="cb348-32"><a href="scrape-table2.html#cb348-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [28,] &quot;Burnet 1(P)&quot;   &quot;5&quot;  &quot;Garza&quot;       &quot;0&quot;  &quot;Lavaca&quot;        &quot;0&quot; </span></span>
<span id="cb348-33"><a href="scrape-table2.html#cb348-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [29,] &quot;Caldwell&quot;      &quot;0&quot;  &quot;Gillespie&quot;   &quot;0&quot;  &quot;Lee&quot;           &quot;0&quot; </span></span>
<span id="cb348-34"><a href="scrape-table2.html#cb348-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [30,] &quot;Calhoun&quot;       &quot;1&quot;  &quot;Glasscock&quot;   &quot;0&quot;  &quot;Leon&quot;          &quot;0&quot; </span></span>
<span id="cb348-35"><a href="scrape-table2.html#cb348-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [31,] &quot;Callahan&quot;      &quot;0&quot;  &quot;Goliad&quot;      &quot;0&quot;  &quot;Liberty (P)&quot;   &quot;3&quot; </span></span>
<span id="cb348-36"><a href="scrape-table2.html#cb348-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [32,] &quot;Cameron&quot;       &quot;6&quot;  &quot;Gonzales&quot;    &quot;1&quot;  &quot;Limestone&quot;     &quot;0&quot; </span></span>
<span id="cb348-37"><a href="scrape-table2.html#cb348-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [33,] &quot;Camp&quot;          &quot;0&quot;  &quot;Gray&quot;        &quot;1&quot;  &quot;Lipscomb&quot;      &quot;0&quot; </span></span>
<span id="cb348-38"><a href="scrape-table2.html#cb348-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [34,] &quot;Carson&quot;        &quot;0&quot;  &quot;Grayson&quot;     &quot;4&quot;  &quot;Live Oak&quot;      &quot;0&quot; </span></span>
<span id="cb348-39"><a href="scrape-table2.html#cb348-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [35,] &quot;Cass&quot;          &quot;0&quot;  &quot;Gregg&quot;       &quot;1&quot;  &quot;Llano&quot;         &quot;1&quot; </span></span>
<span id="cb348-40"><a href="scrape-table2.html#cb348-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [36,] &quot;Castro&quot;        &quot;0&quot;  &quot;Grimes&quot;      &quot;0&quot;  &quot;Loving&quot;        &quot;0&quot; </span></span>
<span id="cb348-41"><a href="scrape-table2.html#cb348-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [37,] &quot;Chambers&quot;      &quot;0&quot;  &quot;Guadalupe&quot;   &quot;6&quot;  &quot;Lubbock&quot;       &quot;9&quot; </span></span>
<span id="cb348-42"><a href="scrape-table2.html#cb348-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38,] &quot;Cherokee&quot;      &quot;0&quot;  &quot;Hale&quot;        &quot;1&quot;  &quot;Lynn&quot;          &quot;0&quot; </span></span>
<span id="cb348-43"><a href="scrape-table2.html#cb348-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [39,] &quot;Childress&quot;     &quot;0&quot;  &quot;Hall&quot;        &quot;0&quot;  &quot;Madison&quot;       &quot;0&quot; </span></span>
<span id="cb348-44"><a href="scrape-table2.html#cb348-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [40,] &quot;Clay&quot;          &quot;0&quot;  &quot;Hamilton&quot;    &quot;0&quot;  &quot;Marion&quot;        &quot;0&quot; </span></span>
<span id="cb348-45"><a href="scrape-table2.html#cb348-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [41,] &quot;Cochran&quot;       &quot;0&quot;  &quot;Hansford&quot;    &quot;0&quot;  &quot;Martin&quot;        &quot;0&quot; </span></span>
<span id="cb348-46"><a href="scrape-table2.html#cb348-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [42,] &quot;Coke&quot;          &quot;0&quot;  &quot;Hardeman&quot;    &quot;0&quot;  &quot;Mason&quot;         &quot;0&quot; </span></span>
<span id="cb348-47"><a href="scrape-table2.html#cb348-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [43,] &quot;Coleman&quot;       &quot;0&quot;  &quot;Hardin&quot;      &quot;0&quot;  &quot;Matagorda&quot;     &quot;0&quot; </span></span>
<span id="cb348-48"><a href="scrape-table2.html#cb348-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [44,] &quot;Collin&quot;        &quot;9&quot;  &quot;Harris&quot;      &quot;19&quot; &quot;Maverick&quot;      &quot;1&quot; </span></span>
<span id="cb348-49"><a href="scrape-table2.html#cb348-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [45,] &quot;Collingsworth&quot; &quot;0&quot;  &quot;Harrison&quot;    &quot;0&quot;  &quot;Maverick (P)&quot;  &quot;0&quot; </span></span>
<span id="cb348-50"><a href="scrape-table2.html#cb348-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [46,] &quot;Colorado&quot;      &quot;0&quot;  &quot;Haskell (P)&quot; &quot;2&quot;  &quot;McCulloch&quot;     &quot;0&quot; </span></span>
<span id="cb348-51"><a href="scrape-table2.html#cb348-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [47,] &quot;Comal&quot;         &quot;0&quot;  &quot;Hays&quot;        &quot;0&quot;  &quot;McLennan&quot;      &quot;6&quot; </span></span>
<span id="cb348-52"><a href="scrape-table2.html#cb348-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [48,] &quot;Comanche&quot;      &quot;0&quot;  &quot;Hemphill&quot;    &quot;0&quot;  &quot;McLennan 1(P)&quot; &quot;0&quot; </span></span>
<span id="cb348-53"><a href="scrape-table2.html#cb348-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [49,] &quot;Concho&quot;        &quot;0&quot;  &quot;Henderson&quot;   &quot;2&quot;  &quot;McLennan 2(P)&quot; &quot;0&quot; </span></span>
<span id="cb348-54"><a href="scrape-table2.html#cb348-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [50,] &quot;Cooke&quot;         &quot;2&quot;  &quot;Hidalgo&quot;     &quot;6&quot;  &quot;McMullen&quot;      &quot;0&quot; </span></span>
<span id="cb348-55"><a href="scrape-table2.html#cb348-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [51,] &quot;Coryell&quot;       &quot;1&quot;  &quot;Hidalgo (P)&quot; &quot;0&quot;  &quot;Medina&quot;        &quot;0&quot; </span></span>
<span id="cb348-56"><a href="scrape-table2.html#cb348-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [52,] &quot;Cottle&quot;        &quot;0&quot;  &quot;Hill&quot;        &quot;0&quot;  &quot;Menard&quot;        &quot;0&quot; </span></span>
<span id="cb348-57"><a href="scrape-table2.html#cb348-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [53,] &quot;Crane&quot;         &quot;0&quot;  &quot;Hockley&quot;     &quot;1&quot;  &quot;Midland&quot;       &quot;2&quot; </span></span>
<span id="cb348-58"><a href="scrape-table2.html#cb348-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [54,] &quot;Crockett&quot;      &quot;0&quot;  &quot;Hood&quot;        &quot;3&quot;  &quot;Milam&quot;         &quot;0&quot; </span></span>
<span id="cb348-59"><a href="scrape-table2.html#cb348-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [55,] &quot;Crosby&quot;        &quot;0&quot;  &quot;Hopkins&quot;     &quot;1&quot;  &quot;Mills&quot;         &quot;0&quot; </span></span>
<span id="cb348-60"><a href="scrape-table2.html#cb348-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [56,] &quot;Culberson&quot;     &quot;0&quot;  &quot;Houston&quot;     &quot;0&quot;  &quot;Mitchell&quot;      &quot;0&quot; </span></span>
<span id="cb348-61"><a href="scrape-table2.html#cb348-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [57,] &quot;Dallam&quot;        &quot;0&quot;  &quot;Howard&quot;      &quot;2&quot;  &quot;Montague&quot;      &quot;0&quot; </span></span>
<span id="cb348-62"><a href="scrape-table2.html#cb348-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [58,] &quot;Dallas&quot;        &quot;22&quot; &quot;Hudspeth&quot;    &quot;0&quot;  &quot;Montgomery&quot;    &quot;9&quot; </span></span>
<span id="cb348-63"><a href="scrape-table2.html#cb348-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [59,] &quot;Dawson&quot;        &quot;0&quot;  &quot;Hunt&quot;        &quot;2&quot;  &quot;Moore&quot;         &quot;0&quot; </span></span>
<span id="cb348-64"><a href="scrape-table2.html#cb348-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [60,] &quot;Deaf Smith&quot;    &quot;0&quot;  &quot;Hutchinson&quot;  &quot;0&quot;  &quot;Morris&quot;        &quot;0&quot; </span></span>
<span id="cb348-65"><a href="scrape-table2.html#cb348-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [,7]            [,8] [,9]            [,10]</span></span>
<span id="cb348-66"><a href="scrape-table2.html#cb348-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1,] &quot;Motley&quot;        &quot;0&quot;  &quot;Upton&quot;         &quot;0&quot;  </span></span>
<span id="cb348-67"><a href="scrape-table2.html#cb348-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2,] &quot;Nacogdoches&quot;   &quot;2&quot;  &quot;Uvalde&quot;        &quot;0&quot;  </span></span>
<span id="cb348-68"><a href="scrape-table2.html#cb348-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3,] &quot;Navarro&quot;       &quot;2&quot;  &quot;Val Verde (P)&quot; &quot;1&quot;  </span></span>
<span id="cb348-69"><a href="scrape-table2.html#cb348-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4,] &quot;Newton&quot;        &quot;0&quot;  &quot;Van Zandt&quot;     &quot;0&quot;  </span></span>
<span id="cb348-70"><a href="scrape-table2.html#cb348-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5,] &quot;Newton (P)&quot;    &quot;0&quot;  &quot;Victoria&quot;      &quot;1&quot;  </span></span>
<span id="cb348-71"><a href="scrape-table2.html#cb348-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6,] &quot;Nolan&quot;         &quot;2&quot;  &quot;Walker&quot;        &quot;1&quot;  </span></span>
<span id="cb348-72"><a href="scrape-table2.html#cb348-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7,] &quot;Nueces&quot;        &quot;4&quot;  &quot;Waller&quot;        &quot;0&quot;  </span></span>
<span id="cb348-73"><a href="scrape-table2.html#cb348-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8,] &quot;Ochiltree&quot;     &quot;0&quot;  &quot;Ward&quot;          &quot;0&quot;  </span></span>
<span id="cb348-74"><a href="scrape-table2.html#cb348-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9,] &quot;Oldham&quot;        &quot;0&quot;  &quot;Washington&quot;    &quot;0&quot;  </span></span>
<span id="cb348-75"><a href="scrape-table2.html#cb348-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10,] &quot;Orange&quot;        &quot;0&quot;  &quot;Webb&quot;          &quot;3&quot;  </span></span>
<span id="cb348-76"><a href="scrape-table2.html#cb348-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11,] &quot;Palo Pinto&quot;    &quot;1&quot;  &quot;Wharton&quot;       &quot;1&quot;  </span></span>
<span id="cb348-77"><a href="scrape-table2.html#cb348-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [12,] &quot;Panola&quot;        &quot;0&quot;  &quot;Wheeler&quot;       &quot;0&quot;  </span></span>
<span id="cb348-78"><a href="scrape-table2.html#cb348-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13,] &quot;Parker&quot;        &quot;1&quot;  &quot;Wichita&quot;       &quot;3&quot;  </span></span>
<span id="cb348-79"><a href="scrape-table2.html#cb348-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [14,] &quot;Parmer&quot;        &quot;0&quot;  &quot;Wilbarger&quot;     &quot;0&quot;  </span></span>
<span id="cb348-80"><a href="scrape-table2.html#cb348-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [15,] &quot;Pecos&quot;         &quot;0&quot;  &quot;Willacy&quot;       &quot;0&quot;  </span></span>
<span id="cb348-81"><a href="scrape-table2.html#cb348-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [16,] &quot;Polk&quot;          &quot;0&quot;  &quot;Williamson&quot;    &quot;2&quot;  </span></span>
<span id="cb348-82"><a href="scrape-table2.html#cb348-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [17,] &quot;Polk (P)&quot;      &quot;0&quot;  &quot;Wilson&quot;        &quot;0&quot;  </span></span>
<span id="cb348-83"><a href="scrape-table2.html#cb348-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [18,] &quot;Potter&quot;        &quot;4&quot;  &quot;Winkler&quot;       &quot;0&quot;  </span></span>
<span id="cb348-84"><a href="scrape-table2.html#cb348-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19,] &quot;Presidio&quot;      &quot;0&quot;  &quot;Wise&quot;          &quot;1&quot;  </span></span>
<span id="cb348-85"><a href="scrape-table2.html#cb348-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [20,] &quot;Rains&quot;         &quot;0&quot;  &quot;Wood&quot;          &quot;0&quot;  </span></span>
<span id="cb348-86"><a href="scrape-table2.html#cb348-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [21,] &quot;Randall&quot;       &quot;0&quot;  &quot;Yoakum&quot;        &quot;0&quot;  </span></span>
<span id="cb348-87"><a href="scrape-table2.html#cb348-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [22,] &quot;Reagan&quot;        &quot;0&quot;  &quot;Young&quot;         &quot;0&quot;  </span></span>
<span id="cb348-88"><a href="scrape-table2.html#cb348-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [23,] &quot;Real&quot;          &quot;0&quot;  &quot;Zapata&quot;        &quot;0&quot;  </span></span>
<span id="cb348-89"><a href="scrape-table2.html#cb348-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [24,] &quot;Red River&quot;     &quot;0&quot;  &quot;Zavala&quot;        &quot;0&quot;  </span></span>
<span id="cb348-90"><a href="scrape-table2.html#cb348-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25,] &quot;Reeves&quot;        &quot;0&quot;  &quot;Zavala (P)&quot;    &quot;0&quot;  </span></span>
<span id="cb348-91"><a href="scrape-table2.html#cb348-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [26,] &quot;Refugio&quot;       &quot;1&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-92"><a href="scrape-table2.html#cb348-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [27,] &quot;Roberts&quot;       &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-93"><a href="scrape-table2.html#cb348-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [28,] &quot;Robertson&quot;     &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-94"><a href="scrape-table2.html#cb348-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [29,] &quot;Rockwall&quot;      &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-95"><a href="scrape-table2.html#cb348-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [30,] &quot;Runnels&quot;       &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-96"><a href="scrape-table2.html#cb348-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [31,] &quot;Rusk&quot;          &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-97"><a href="scrape-table2.html#cb348-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [32,] &quot;Sabine&quot;        &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-98"><a href="scrape-table2.html#cb348-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [33,] &quot;San Augustine&quot; &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-99"><a href="scrape-table2.html#cb348-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [34,] &quot;San Jacinto&quot;   &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-100"><a href="scrape-table2.html#cb348-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [35,] &quot;San Patricio&quot;  &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-101"><a href="scrape-table2.html#cb348-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [36,] &quot;San Saba&quot;      &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-102"><a href="scrape-table2.html#cb348-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [37,] &quot;Schleicher&quot;    &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-103"><a href="scrape-table2.html#cb348-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [38,] &quot;Scurry&quot;        &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-104"><a href="scrape-table2.html#cb348-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [39,] &quot;Shackelford&quot;   &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-105"><a href="scrape-table2.html#cb348-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [40,] &quot;Shelby&quot;        &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-106"><a href="scrape-table2.html#cb348-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [41,] &quot;Sherman&quot;       &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-107"><a href="scrape-table2.html#cb348-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [42,] &quot;Smith&quot;         &quot;9&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-108"><a href="scrape-table2.html#cb348-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [43,] &quot;Somervell&quot;     &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-109"><a href="scrape-table2.html#cb348-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [44,] &quot;Starr&quot;         &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-110"><a href="scrape-table2.html#cb348-110" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [45,] &quot;Stephens&quot;      &quot;1&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-111"><a href="scrape-table2.html#cb348-111" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [46,] &quot;Sterling&quot;      &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-112"><a href="scrape-table2.html#cb348-112" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [47,] &quot;Stonewall&quot;     &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-113"><a href="scrape-table2.html#cb348-113" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [48,] &quot;Sutton&quot;        &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-114"><a href="scrape-table2.html#cb348-114" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [49,] &quot;Swisher&quot;       &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-115"><a href="scrape-table2.html#cb348-115" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [50,] &quot;Tarrant&quot;       &quot;34&quot; &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-116"><a href="scrape-table2.html#cb348-116" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [51,] &quot;Taylor&quot;        &quot;6&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-117"><a href="scrape-table2.html#cb348-117" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [52,] &quot;Terrell&quot;       &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-118"><a href="scrape-table2.html#cb348-118" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [53,] &quot;Terry&quot;         &quot;1&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-119"><a href="scrape-table2.html#cb348-119" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [54,] &quot;Throckmorton&quot;  &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-120"><a href="scrape-table2.html#cb348-120" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [55,] &quot;Titus&quot;         &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-121"><a href="scrape-table2.html#cb348-121" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [56,] &quot;Tom Green&quot;     &quot;2&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-122"><a href="scrape-table2.html#cb348-122" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [57,] &quot;Travis&quot;        &quot;10&quot; &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-123"><a href="scrape-table2.html#cb348-123" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [58,] &quot;Trinity&quot;       &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-124"><a href="scrape-table2.html#cb348-124" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [59,] &quot;Tyler&quot;         &quot;0&quot;  &quot;&quot;              &quot;&quot;   </span></span>
<span id="cb348-125"><a href="scrape-table2.html#cb348-125" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [60,] &quot;Upshur&quot;        &quot;0&quot;  &quot;&quot;              &quot;&quot;</span></span></code></pre></div>
<p>If we check the output from the above code to the PDF, we can see that it worked. Every column in the PDF is in our output and the values were scraped correctly. This is great! Now we want to make two columns - “county” and “pregnant_females_booked” (or whatever you’d like to call it) - from these 10. As usual with R, there are a few ways we can do this. We’ll just do two ways. First, since there are only 10 columns, we can just do it manually. We can use square bracket [] notation to grab specific columns using the column number (since the data is a matrix and not a data.frame we can’t use dollar sign notation even if we wanted to). Let’s print out the head of all the county columns. We can see from the PDF that these are columns 1, 3, 5, 7, and 9. So can use a vector of numbers to get that <code>c(1, 3, 5, 7, 9)</code>.</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="scrape-table2.html#cb349-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data[, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)])</span>
<span id="cb349-2"><a href="scrape-table2.html#cb349-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]        [,2]          [,3]         [,4]          [,5]           </span></span>
<span id="cb349-3"><a href="scrape-table2.html#cb349-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;Anderson&quot;  &quot;Delta&quot;       &quot;Irion&quot;      &quot;Motley&quot;      &quot;Upton&quot;        </span></span>
<span id="cb349-4"><a href="scrape-table2.html#cb349-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;Andrews&quot;   &quot;Denton&quot;      &quot;Jack&quot;       &quot;Nacogdoches&quot; &quot;Uvalde&quot;       </span></span>
<span id="cb349-5"><a href="scrape-table2.html#cb349-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;Angelina&quot;  &quot;DeWitt&quot;      &quot;Jackson&quot;    &quot;Navarro&quot;     &quot;Val Verde (P)&quot;</span></span>
<span id="cb349-6"><a href="scrape-table2.html#cb349-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;Aransas&quot;   &quot;Dickens&quot;     &quot;Jasper&quot;     &quot;Newton&quot;      &quot;Van Zandt&quot;    </span></span>
<span id="cb349-7"><a href="scrape-table2.html#cb349-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;Archer&quot;    &quot;Dickens (P)&quot; &quot;Jeff Davis&quot; &quot;Newton (P)&quot;  &quot;Victoria&quot;     </span></span>
<span id="cb349-8"><a href="scrape-table2.html#cb349-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;Armstrong&quot; &quot;Dimmit&quot;      &quot;Jefferson&quot;  &quot;Nolan&quot;       &quot;Walker&quot;</span></span></code></pre></div>
<p>Now again for the “pregnant_females_booked” column.</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="scrape-table2.html#cb350-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data[, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>)])</span>
<span id="cb350-2"><a href="scrape-table2.html#cb350-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span id="cb350-3"><a href="scrape-table2.html#cb350-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot; </span></span>
<span id="cb350-4"><a href="scrape-table2.html#cb350-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;1&quot;  &quot;3&quot;  &quot;0&quot;  &quot;2&quot;  &quot;0&quot; </span></span>
<span id="cb350-5"><a href="scrape-table2.html#cb350-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;0&quot;  &quot;0&quot;  &quot;1&quot;  &quot;2&quot;  &quot;1&quot; </span></span>
<span id="cb350-6"><a href="scrape-table2.html#cb350-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot; </span></span>
<span id="cb350-7"><a href="scrape-table2.html#cb350-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;1&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;1&quot; </span></span>
<span id="cb350-8"><a href="scrape-table2.html#cb350-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;2&quot;  &quot;1&quot;</span></span></code></pre></div>
<p>These results look right so we can make a data.frame using the <code>data.frame()</code> and having the input be from the above code - removing the <code>head()</code> function since we want every now. Conveniently, <code>data.frame()</code> allows us to name the columns we are making so we’ll name the two columns “county” and “pregnant_females_booked.” We’ll save the result as <code>data</code> and check out the <code>head()</code> and <code>tail()</code> of that data.frame.</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="scrape-table2.html#cb351-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">county =</span> <span class="fu">c</span>(data[, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)]),</span>
<span id="cb351-2"><a href="scrape-table2.html#cb351-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">pregnant_females_booked =</span> <span class="fu">c</span>(data[, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>)]))</span>
<span id="cb351-3"><a href="scrape-table2.html#cb351-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span>
<span id="cb351-4"><a href="scrape-table2.html#cb351-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      county pregnant_females_booked</span></span>
<span id="cb351-5"><a href="scrape-table2.html#cb351-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  Anderson                       0</span></span>
<span id="cb351-6"><a href="scrape-table2.html#cb351-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   Andrews                       1</span></span>
<span id="cb351-7"><a href="scrape-table2.html#cb351-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Angelina                       0</span></span>
<span id="cb351-8"><a href="scrape-table2.html#cb351-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   Aransas                       0</span></span>
<span id="cb351-9"><a href="scrape-table2.html#cb351-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5    Archer                       1</span></span>
<span id="cb351-10"><a href="scrape-table2.html#cb351-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Armstrong                       0</span></span>
<span id="cb351-11"><a href="scrape-table2.html#cb351-11" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(data)</span>
<span id="cb351-12"><a href="scrape-table2.html#cb351-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     county pregnant_females_booked</span></span>
<span id="cb351-13"><a href="scrape-table2.html#cb351-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 295                               </span></span>
<span id="cb351-14"><a href="scrape-table2.html#cb351-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 296                               </span></span>
<span id="cb351-15"><a href="scrape-table2.html#cb351-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 297                               </span></span>
<span id="cb351-16"><a href="scrape-table2.html#cb351-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 298                               </span></span>
<span id="cb351-17"><a href="scrape-table2.html#cb351-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 299                               </span></span>
<span id="cb351-18"><a href="scrape-table2.html#cb351-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 300</span></span></code></pre></div>
<p>These results look good! We now have only two columns and the fix six rows (from <code>head()</code>) look right. Why are the last six rows all empty? Look back at the PDF. The final two columns are shorter than the others, so <code>extract_tables()</code> interprets them as empty strings "". We can subset those away using a conditional statement remove any row with an empty string in either column. Since we know that if there’s an empty string in one of the columns it will also be there in the other, we only need to run this once.</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="scrape-table2.html#cb352-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data[data<span class="sc">$</span>county <span class="sc">!=</span> <span class="st">&quot;&quot;</span>, ]</span>
<span id="cb352-2"><a href="scrape-table2.html#cb352-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span>
<span id="cb352-3"><a href="scrape-table2.html#cb352-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      county pregnant_females_booked</span></span>
<span id="cb352-4"><a href="scrape-table2.html#cb352-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  Anderson                       0</span></span>
<span id="cb352-5"><a href="scrape-table2.html#cb352-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   Andrews                       1</span></span>
<span id="cb352-6"><a href="scrape-table2.html#cb352-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Angelina                       0</span></span>
<span id="cb352-7"><a href="scrape-table2.html#cb352-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   Aransas                       0</span></span>
<span id="cb352-8"><a href="scrape-table2.html#cb352-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5    Archer                       1</span></span>
<span id="cb352-9"><a href="scrape-table2.html#cb352-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Armstrong                       0</span></span>
<span id="cb352-10"><a href="scrape-table2.html#cb352-10" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(data)</span>
<span id="cb352-11"><a href="scrape-table2.html#cb352-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         county pregnant_females_booked</span></span>
<span id="cb352-12"><a href="scrape-table2.html#cb352-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 260       Wood                       0</span></span>
<span id="cb352-13"><a href="scrape-table2.html#cb352-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 261     Yoakum                       0</span></span>
<span id="cb352-14"><a href="scrape-table2.html#cb352-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 262      Young                       0</span></span>
<span id="cb352-15"><a href="scrape-table2.html#cb352-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 263     Zapata                       0</span></span>
<span id="cb352-16"><a href="scrape-table2.html#cb352-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 264     Zavala                       0</span></span>
<span id="cb352-17"><a href="scrape-table2.html#cb352-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 265 Zavala (P)                       0</span></span></code></pre></div>
<p>Now the results from <code>tail()</code> look right. First, I’m rerunning the code to scrape the PDF since now our <code>data</code> data set is already cleaned from above.</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="scrape-table2.html#cb353-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">extract_tables</span>(<span class="at">file =</span> <span class="st">&quot;data/PregnantFemaleReportingCurrent.pdf&quot;</span>)</span>
<span id="cb353-2"><a href="scrape-table2.html#cb353-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data[[<span class="dv">1</span>]]</span></code></pre></div>
<p>We’ll use a toy example now with a vector of numbers from 1 to 10 <code>1:10</code> which we can call <code>x</code>.</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="scrape-table2.html#cb354-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb354-2"><a href="scrape-table2.html#cb354-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb354-3"><a href="scrape-table2.html#cb354-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>Now say we want every value of x and want to use Booleans (true or false value) to get it. Since we need a vector of 10 values since we’d need one for every element in <code>x</code>. Specifically, we’d be using square bracket [] notation to subset (in this case not really a true subset since we’d return all the original values) and write ten TRUEs in the square brackets [].</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="scrape-table2.html#cb355-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)]</span>
<span id="cb355-2"><a href="scrape-table2.html#cb355-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>If you’re reading the code carefully, you might have notices that I only wrote nine TRUE values. Since R was expecting 10 values, when I only gave it nine, it started again from the beginning and used the first value in place of the expected tenth value. If we only wrote one TRUEs, R would just repeat that all 10 times.</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="scrape-table2.html#cb356-1" aria-hidden="true" tabindex="-1"></a>x[<span class="cn">TRUE</span>]</span>
<span id="cb356-2"><a href="scrape-table2.html#cb356-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>What happens when the value isn’t always TRUE? It’ll recycle it the exact same way. Let’s try using now a vector <code>c(TRUE, FALSE)</code>.</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="scrape-table2.html#cb357-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>)]</span>
<span id="cb357-2"><a href="scrape-table2.html#cb357-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 3 5 7 9</span></span></code></pre></div>
<p>It returns only the odd numbers. That’s because the first value in our vector is TRUE so it returns the first value of <code>x</code> which is 1. The next value is FALSE so it does not return the second value of <code>x</code> which is 2. R then “recycles” our vector and uses the first value in our vector (TRUE) to interpret how to subset the third value of <code>x</code> (3). Since it’s TRUE, it returns 3. But now the value for 4 is FALSE so it doesn’t return it. The process repeats again until the end of the subset. Since every other value is returned, it returns only the odd numbers. We can use R’s method of “recycling” a vector that is shorter than it expects to solve our pregnant females booked issue. Indeed we can use this exact <code>c(TRUE, FALSE)</code> vector to select only the odd columns. Reversing it to <code>c(FALSE, TRUE)</code> gives us only the even columns. So we’ll copy over the code that made the data.frame last time and change the <code>c(data[, c(1, 3, 5, 7, 9)]</code> to <code>c(data[, c(TRUE, FALSE)])</code> and the <code>c(data[, c(2, 4, 6, 8, 10)])</code> to <code>c(data[, c(FALSE, TRUE)])</code>. Since the issue of empty strings is still there, we’ll reuse the <code>data &lt;- data[data$county != "", ]</code> we made above to fix it.</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="scrape-table2.html#cb358-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">county =</span> <span class="fu">c</span>(data[, <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>)]),</span>
<span id="cb358-2"><a href="scrape-table2.html#cb358-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">pregnant_females_booked =</span> <span class="fu">c</span>(data[, <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>)]))</span>
<span id="cb358-3"><a href="scrape-table2.html#cb358-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data[data<span class="sc">$</span>county <span class="sc">!=</span> <span class="st">&quot;&quot;</span>, ]</span>
<span id="cb358-4"><a href="scrape-table2.html#cb358-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span>
<span id="cb358-5"><a href="scrape-table2.html#cb358-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      county pregnant_females_booked</span></span>
<span id="cb358-6"><a href="scrape-table2.html#cb358-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  Anderson                       0</span></span>
<span id="cb358-7"><a href="scrape-table2.html#cb358-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   Andrews                       1</span></span>
<span id="cb358-8"><a href="scrape-table2.html#cb358-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Angelina                       0</span></span>
<span id="cb358-9"><a href="scrape-table2.html#cb358-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   Aransas                       0</span></span>
<span id="cb358-10"><a href="scrape-table2.html#cb358-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5    Archer                       1</span></span>
<span id="cb358-11"><a href="scrape-table2.html#cb358-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Armstrong                       0</span></span>
<span id="cb358-12"><a href="scrape-table2.html#cb358-12" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(data)</span>
<span id="cb358-13"><a href="scrape-table2.html#cb358-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         county pregnant_females_booked</span></span>
<span id="cb358-14"><a href="scrape-table2.html#cb358-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 260       Wood                       0</span></span>
<span id="cb358-15"><a href="scrape-table2.html#cb358-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 261     Yoakum                       0</span></span>
<span id="cb358-16"><a href="scrape-table2.html#cb358-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 262      Young                       0</span></span>
<span id="cb358-17"><a href="scrape-table2.html#cb358-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 263     Zapata                       0</span></span>
<span id="cb358-18"><a href="scrape-table2.html#cb358-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 264     Zavala                       0</span></span>
<span id="cb358-19"><a href="scrape-table2.html#cb358-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 265 Zavala (P)                       0</span></span></code></pre></div>
</div>
<div id="making-pdf-scraped-data-available-to-others" class="section level2" number="16.2">
<h2><span class="header-section-number">16.2</span> Making PDF-scraped data available to others</h2>
<p>You’ve now seen two examples of scraping tables from PDFs using the <code>tabulizer()</code> package and a few more from the <code>pdftools</code> package in Chapter <a href="scrape-table.html#scrape-table">15</a>. These lessons should get you started on most PDF scraping, but every PDF is different so don’t rely on the functions alone to do all of the work. You’ll still likely have to spend some time cleaning up the data afterwards to make it usable. This chapter is being written in 2020 which should be long after we ever need to get data from PDFs - it should be available in much easier to access formats. However, often we still need to scrape PDFs to get data necessary for research.</p>
<p>Given the effort you’ll spend in scraping a PDF - and the relative rarity of this skill in criminology - I recommend that you help others by making your data available to the public. There are several current websites that let you do this but I recommend <a href="https://www.icpsr.umich.edu/web/pages/NACJD/index.html">openICPSR</a>. openICPSR is the version of <a href="https://www.icpsr.umich.edu/web/pages/">ICPSR</a> (Inter-university Consortium for Political and Social Research) which is essentially a massive repository of data. openICPSR lets people submit data for free (under a certain limit, 3GB per submission as of mid-2020) and has a number of features to make it easier to store and document the data. This includes a section to describe your data in text form, fill out tags to help people search for the data, and answer (optional) questions on how the data collection and the geographic and temporal scope of the data. If you decide to update the data, it’ll keep a link to your older submission so you essentially have versions of the data. When you update the data, I recommend having a section on the submission description describing the changes in each version. This is useful for record-keeping and (though be careful because the link to the submission also changes when you update it so you’ll need to change that if you have links on any document such as a CV). Below are a few images showing the submission page for one of my submissions that has many versions (and corresponding version notes).</p>
<p><img src="images/openICPSR1.PNG" /></p>
<p><img src="images/openICPSR2.PNG" /></p>
<p><img src="images/openICPSR3.PNG" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="scrape-table.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="geocoding.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": true,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jacobkap/crimebythenumbers/edit/master/pdf-tables2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["crimebythenumbers.pdf", "PDF"], ["crimebythenumbers.epub", "EPUB"]],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
