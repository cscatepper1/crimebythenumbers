<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>24 More scraping tables from PDFs | Crime by the Numbers: A Criminologist’s Guide to R</title>
  <meta name="description" content="A guide to learning R for the purpose of conducting quantitative research. This covers collecting and cleaning data, and visualizing it in graphs and maps." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="24 More scraping tables from PDFs | Crime by the Numbers: A Criminologist’s Guide to R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://crimebythenumbers.com" />
  
  <meta property="og:description" content="A guide to learning R for the purpose of conducting quantitative research. This covers collecting and cleaning data, and visualizing it in graphs and maps." />
  <meta name="github-repo" content="jacobkap/crimebythenumbers" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="24 More scraping tables from PDFs | Crime by the Numbers: A Criminologist’s Guide to R" />
  
  <meta name="twitter:description" content="A guide to learning R for the purpose of conducting quantitative research. This covers collecting and cleaning data, and visualizing it in graphs and maps." />
  

<meta name="author" content="Jacob Kaplan" />


<meta name="date" content="2021-12-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="scrape-table.html"/>
<link rel="next" href="geocoding.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet" />
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet" />
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-99359926-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-99359926-6');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Crime by the Numbers: A Criminologist's Guide to R</a></strong></li>

<li class="divider"></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#why-learn-to-program"><i class="fa fa-check"></i><b>1.1</b> Why learn to program?</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#scale"><i class="fa fa-check"></i><b>1.1.1</b> Scale</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#reproducibility"><i class="fa fa-check"></i><b>1.1.2</b> Reproducibility</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#what-you-will-learn"><i class="fa fa-check"></i><b>1.2</b> What you will learn</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#skills"><i class="fa fa-check"></i><b>1.2.1</b> Skills</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#what-you-wont-learn"><i class="fa fa-check"></i><b>1.3</b> What you won’t learn</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#simple-vs-easy"><i class="fa fa-check"></i><b>1.4</b> Simple vs Easy</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#how-to-read-this-book"><i class="fa fa-check"></i><b>1.5</b> How to read this book</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#citing-this-book"><i class="fa fa-check"></i><b>1.6</b> Citing this book</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#how-to-contribute-to-this-book"><i class="fa fa-check"></i><b>1.7</b> How to contribute to this book</a></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#where-to-find-data-included-in-this-book"><i class="fa fa-check"></i><b>1.8</b> Where to find data included in this book</a></li>
<li class="chapter" data-level="1.9" data-path="index.html"><a href="index.html#where-to-find-code-included-in-this-book"><i class="fa fa-check"></i><b>1.9</b> Where to find code included in this book</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the author</a></li>
<li class="chapter" data-level="2" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html"><i class="fa fa-check"></i><b>2</b> A soup to nuts project example</a>
<ul>
<li class="chapter" data-level="2.1" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#big-picture-data-example"><i class="fa fa-check"></i><b>2.1</b> Big picture data example</a></li>
<li class="chapter" data-level="2.2" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#little-picture-data-example"><i class="fa fa-check"></i><b>2.2</b> Little picture data example</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#loading-packages"><i class="fa fa-check"></i><b>2.2.1</b> Loading packages</a></li>
<li class="chapter" data-level="2.2.2" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#loading-data"><i class="fa fa-check"></i><b>2.2.2</b> Loading data</a></li>
<li class="chapter" data-level="2.2.3" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#cleaning"><i class="fa fa-check"></i><b>2.2.3</b> Cleaning</a></li>
<li class="chapter" data-level="2.2.4" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#aggregating"><i class="fa fa-check"></i><b>2.2.4</b> Aggregating</a></li>
<li class="chapter" data-level="2.2.5" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#graphing"><i class="fa fa-check"></i><b>2.2.5</b> Graphing</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#reusing-and-modifying-code"><i class="fa fa-check"></i><b>2.3</b> Reusing and modifying code</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="intro-to-r.html"><a href="intro-to-r.html"><i class="fa fa-check"></i><b>3</b> Introduction to R and RStudio</a>
<ul>
<li class="chapter" data-level="3.1" data-path="intro-to-r.html"><a href="intro-to-r.html#using-rstudio"><i class="fa fa-check"></i><b>3.1</b> Using RStudio</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="intro-to-r.html"><a href="intro-to-r.html#opening-an-r-script"><i class="fa fa-check"></i><b>3.1.1</b> Opening an R Script</a></li>
<li class="chapter" data-level="3.1.2" data-path="intro-to-r.html"><a href="intro-to-r.html#setting-the-working-directory"><i class="fa fa-check"></i><b>3.1.2</b> Setting the working directory</a></li>
<li class="chapter" data-level="3.1.3" data-path="intro-to-r.html"><a href="intro-to-r.html#changing-rstudio"><i class="fa fa-check"></i><b>3.1.3</b> Changing RStudio</a></li>
<li class="chapter" data-level="3.1.4" data-path="intro-to-r.html"><a href="intro-to-r.html#helpful-cheat-sheets"><i class="fa fa-check"></i><b>3.1.4</b> Helpful Cheat Sheets</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="intro-to-r.html"><a href="intro-to-r.html#assignment"><i class="fa fa-check"></i><b>3.2</b> Assigning variables</a></li>
<li class="chapter" data-level="3.3" data-path="intro-to-r.html"><a href="intro-to-r.html#functions-intro"><i class="fa fa-check"></i><b>3.3</b> What are functions (and packages)?</a></li>
<li class="chapter" data-level="3.4" data-path="intro-to-r.html"><a href="intro-to-r.html#reading-data-into-r"><i class="fa fa-check"></i><b>3.4</b> Reading data into R</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="intro-to-r.html"><a href="intro-to-r.html#loading-data-intro"><i class="fa fa-check"></i><b>3.4.1</b> Loading data</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="intro-to-r.html"><a href="intro-to-r.html#first-steps-to-exploring-data"><i class="fa fa-check"></i><b>3.5</b> First steps to exploring data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>4</b> Data types and structures</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-types.html"><a href="data-types.html#section-data-types"><i class="fa fa-check"></i><b>4.1</b> Data types</a></li>
<li class="chapter" data-level="4.2" data-path="data-types.html"><a href="data-types.html#data-structures"><i class="fa fa-check"></i><b>4.2</b> Data structures</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-types.html"><a href="data-types.html#vectors"><i class="fa fa-check"></i><b>4.2.1</b> Vectors (collections of “things”)</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-types.html"><a href="data-types.html#dataframes"><i class="fa fa-check"></i><b>4.2.2</b> Data.frames</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-types.html"><a href="data-types.html#other-data-structures"><i class="fa fa-check"></i><b>4.2.3</b> Other data structures</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html"><i class="fa fa-check"></i><b>5</b> Reading and writing Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#reading-data-into-r-1"><i class="fa fa-check"></i><b>5.1</b> Reading Data into R</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#r"><i class="fa fa-check"></i><b>5.1.1</b> R</a></li>
<li class="chapter" data-level="5.1.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#excel"><i class="fa fa-check"></i><b>5.1.2</b> Excel</a></li>
<li class="chapter" data-level="5.1.3" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#stata"><i class="fa fa-check"></i><b>5.1.3</b> Stata</a></li>
<li class="chapter" data-level="5.1.4" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#sas"><i class="fa fa-check"></i><b>5.1.4</b> SAS</a></li>
<li class="chapter" data-level="5.1.5" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#spss"><i class="fa fa-check"></i><b>5.1.5</b> SPSS</a></li>
<li class="chapter" data-level="5.1.6" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#fixed-width-ascii"><i class="fa fa-check"></i><b>5.1.6</b> Fixed-width ASCII</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#writing-data"><i class="fa fa-check"></i><b>5.2</b> Writing Data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#r-1"><i class="fa fa-check"></i><b>5.2.1</b> R</a></li>
<li class="chapter" data-level="5.2.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#rda-and-.rdata"><i class="fa fa-check"></i><b>5.2.2</b> .rda and .rdata</a></li>
<li class="chapter" data-level="5.2.3" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#rds"><i class="fa fa-check"></i><b>5.2.3</b> .rds</a></li>
<li class="chapter" data-level="5.2.4" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#excel-1"><i class="fa fa-check"></i><b>5.2.4</b> Excel</a></li>
<li class="chapter" data-level="5.2.5" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#stata-1"><i class="fa fa-check"></i><b>5.2.5</b> Stata</a></li>
<li class="chapter" data-level="5.2.6" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#sas-1"><i class="fa fa-check"></i><b>5.2.6</b> SAS</a></li>
<li class="chapter" data-level="5.2.7" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#spss-1"><i class="fa fa-check"></i><b>5.2.7</b> SPSS</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Project Management</b></span></li>
<li class="chapter" data-level="6" data-path="mise-en-place.html"><a href="mise-en-place.html"><i class="fa fa-check"></i><b>6</b> <em>Mise en place</em></a>
<ul>
<li class="chapter" data-level="6.1" data-path="mise-en-place.html"><a href="mise-en-place.html#starting-with-a-pencil-and-paper"><i class="fa fa-check"></i><b>6.1</b> Starting with a pencil and paper</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="mise-en-place.html"><a href="mise-en-place.html#tables-and-graphs"><i class="fa fa-check"></i><b>6.1.1</b> Tables and graphs</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="mise-en-place.html"><a href="mise-en-place.html#r-projects"><i class="fa fa-check"></i><b>6.2</b> R Projects</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="mise-en-place.html"><a href="mise-en-place.html#folders"><i class="fa fa-check"></i><b>6.2.1</b> Folders</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="mise-en-place.html"><a href="mise-en-place.html#modular-r-scripts"><i class="fa fa-check"></i><b>6.3</b> Modular R scripts</a></li>
<li class="chapter" data-level="6.4" data-path="mise-en-place.html"><a href="mise-en-place.html#modular-code"><i class="fa fa-check"></i><b>6.4</b> Modular code</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="mise-en-place.html"><a href="mise-en-place.html#section-labels"><i class="fa fa-check"></i><b>6.4.1</b> Section Labels</a></li>
<li class="chapter" data-level="6.4.2" data-path="mise-en-place.html"><a href="mise-en-place.html#helper-r-scripts"><i class="fa fa-check"></i><b>6.4.2</b> Helper R Scripts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="collaboration.html"><a href="collaboration.html"><i class="fa fa-check"></i><b>7</b> Collaboration</a>
<ul>
<li class="chapter" data-level="7.1" data-path="collaboration.html"><a href="collaboration.html#code-review"><i class="fa fa-check"></i><b>7.1</b> Code review</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="collaboration.html"><a href="collaboration.html#style-guidelines"><i class="fa fa-check"></i><b>7.1.1</b> Style guidelines</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="collaboration.html"><a href="collaboration.html#documentation"><i class="fa fa-check"></i><b>7.2</b> Documentation</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="collaboration.html"><a href="collaboration.html#comments"><i class="fa fa-check"></i><b>7.2.1</b> Comments</a></li>
<li class="chapter" data-level="7.2.2" data-path="collaboration.html"><a href="collaboration.html#vignettes"><i class="fa fa-check"></i><b>7.2.2</b> Vignettes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>8</b> R Markdown</a>
<ul>
<li class="chapter" data-level="8.1" data-path="r-markdown.html"><a href="r-markdown.html#code-1"><i class="fa fa-check"></i><b>8.1</b> Code</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="r-markdown.html"><a href="r-markdown.html#hiding-code-in-the-output"><i class="fa fa-check"></i><b>8.1.1</b> Hiding code in the output</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="r-markdown.html"><a href="r-markdown.html#inline-code"><i class="fa fa-check"></i><b>8.2</b> Inline Code</a></li>
<li class="chapter" data-level="8.3" data-path="r-markdown.html"><a href="r-markdown.html#tables"><i class="fa fa-check"></i><b>8.3</b> Tables</a></li>
<li class="chapter" data-level="8.4" data-path="r-markdown.html"><a href="r-markdown.html#footnotes"><i class="fa fa-check"></i><b>8.4</b> Footnotes</a></li>
<li class="chapter" data-level="8.5" data-path="r-markdown.html"><a href="r-markdown.html#citation"><i class="fa fa-check"></i><b>8.5</b> Citation</a></li>
<li class="chapter" data-level="8.6" data-path="r-markdown.html"><a href="r-markdown.html#spell-check"><i class="fa fa-check"></i><b>8.6</b> Spell check</a></li>
<li class="chapter" data-level="8.7" data-path="r-markdown.html"><a href="r-markdown.html#making-the-output-file"><i class="fa fa-check"></i><b>8.7</b> Making the output file</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tests.html"><a href="tests.html"><i class="fa fa-check"></i><b>9</b> Testing your code</a>
<ul>
<li class="chapter" data-level="9.1" data-path="tests.html"><a href="tests.html#why-test-your-code"><i class="fa fa-check"></i><b>9.1</b> Why test your code?</a></li>
<li class="chapter" data-level="9.2" data-path="tests.html"><a href="tests.html#unit-tests"><i class="fa fa-check"></i><b>9.2</b> Unit tests</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="tests.html"><a href="tests.html#modular-test-scripts"><i class="fa fa-check"></i><b>9.2.1</b> Modular test scripts</a></li>
<li class="chapter" data-level="9.2.2" data-path="tests.html"><a href="tests.html#how-to-write-unit-tests"><i class="fa fa-check"></i><b>9.2.2</b> How to write unit tests</a></li>
<li class="chapter" data-level="9.2.3" data-path="tests.html"><a href="tests.html#what-to-test"><i class="fa fa-check"></i><b>9.2.3</b> What to test</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="tests.html"><a href="tests.html#test-driven-development-tdd"><i class="fa fa-check"></i><b>9.3</b> Test-driven development (TDD)</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>10</b> Git</a>
<ul>
<li class="chapter" data-level="10.1" data-path="git.html"><a href="git.html#what-is-git-and-why-do-i-need-it"><i class="fa fa-check"></i><b>10.1</b> What is Git and why do I need it?</a></li>
<li class="chapter" data-level="10.2" data-path="git.html"><a href="git.html#git-basics"><i class="fa fa-check"></i><b>10.2</b> Git basics</a></li>
<li class="chapter" data-level="10.3" data-path="git.html"><a href="git.html#using-git"><i class="fa fa-check"></i><b>10.3</b> Using Git</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="git.html"><a href="git.html#setting-up-git"><i class="fa fa-check"></i><b>10.3.1</b> Setting up Git</a></li>
<li class="chapter" data-level="10.3.2" data-path="git.html"><a href="git.html#setting-up-github"><i class="fa fa-check"></i><b>10.3.2</b> Setting up GitHub</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="git.html"><a href="git.html#setting-up-git-on-an-already-made-r-project"><i class="fa fa-check"></i><b>10.4</b> Setting up Git on an already made R Project</a></li>
<li class="chapter" data-level="10.5" data-path="git.html"><a href="git.html#using-git-through-rstudio"><i class="fa fa-check"></i><b>10.5</b> Using Git through RStudio</a></li>
<li class="chapter" data-level="10.6" data-path="git.html"><a href="git.html#when-to-commit"><i class="fa fa-check"></i><b>10.6</b> When to commit</a></li>
<li class="chapter" data-level="10.7" data-path="git.html"><a href="git.html#other-resources"><i class="fa fa-check"></i><b>10.7</b> Other resources</a></li>
</ul></li>
<li class="part"><span><b>III Clean</b></span></li>
<li class="chapter" data-level="11" data-path="subsetting-intro.html"><a href="subsetting-intro.html"><i class="fa fa-check"></i><b>11</b> Subsetting: Making big things small</a>
<ul>
<li class="chapter" data-level="11.1" data-path="subsetting-intro.html"><a href="subsetting-intro.html#select-specific-values"><i class="fa fa-check"></i><b>11.1</b> Select specific values</a></li>
<li class="chapter" data-level="11.2" data-path="subsetting-intro.html"><a href="subsetting-intro.html#logical-values-and-operations"><i class="fa fa-check"></i><b>11.2</b> Logical values and operations</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="subsetting-intro.html"><a href="subsetting-intro.html#matching-a-single-value"><i class="fa fa-check"></i><b>11.2.1</b> Matching a single value</a></li>
<li class="chapter" data-level="11.2.2" data-path="subsetting-intro.html"><a href="subsetting-intro.html#matching-multiple-values"><i class="fa fa-check"></i><b>11.2.2</b> Matching multiple values</a></li>
<li class="chapter" data-level="11.2.3" data-path="subsetting-intro.html"><a href="subsetting-intro.html#does-not-match"><i class="fa fa-check"></i><b>11.2.3</b> Does not match</a></li>
<li class="chapter" data-level="11.2.4" data-path="subsetting-intro.html"><a href="subsetting-intro.html#greater-than-or-less-than"><i class="fa fa-check"></i><b>11.2.4</b> Greater than or less than</a></li>
<li class="chapter" data-level="11.2.5" data-path="subsetting-intro.html"><a href="subsetting-intro.html#combining-conditional-statements---or-and"><i class="fa fa-check"></i><b>11.2.5</b> Combining conditional statements - or, and</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="subsetting-intro.html"><a href="subsetting-intro.html#subsetting-a-data.frame"><i class="fa fa-check"></i><b>11.3</b> Subsetting a data.frame</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="subsetting-intro.html"><a href="subsetting-intro.html#select-specific-columns"><i class="fa fa-check"></i><b>11.3.1</b> Select specific columns</a></li>
<li class="chapter" data-level="11.3.2" data-path="subsetting-intro.html"><a href="subsetting-intro.html#select-specific-rows"><i class="fa fa-check"></i><b>11.3.2</b> Select specific rows</a></li>
<li class="chapter" data-level="11.3.3" data-path="subsetting-intro.html"><a href="subsetting-intro.html#subset-colorado-data"><i class="fa fa-check"></i><b>11.3.3</b> Subset Colorado data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="explore.html"><a href="explore.html"><i class="fa fa-check"></i><b>12</b> Exploratory data analysis</a>
<ul>
<li class="chapter" data-level="12.1" data-path="explore.html"><a href="explore.html#summary-and-table"><i class="fa fa-check"></i><b>12.1</b> Summary and Table</a></li>
<li class="chapter" data-level="12.2" data-path="explore.html"><a href="explore.html#graphing-1"><i class="fa fa-check"></i><b>12.2</b> Graphing</a></li>
<li class="chapter" data-level="12.3" data-path="explore.html"><a href="explore.html#aggregate"><i class="fa fa-check"></i><b>12.3</b> Aggregating (summaries of groups)</a></li>
<li class="chapter" data-level="12.4" data-path="explore.html"><a href="explore.html#dplyr-pipes"><i class="fa fa-check"></i><b>12.4</b> Pipes in <code>dplyr</code></a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="regular-expressions.html"><a href="regular-expressions.html"><i class="fa fa-check"></i><b>13</b> Regular Expressions</a>
<ul>
<li class="chapter" data-level="13.1" data-path="regular-expressions.html"><a href="regular-expressions.html#finding-patterns-in-text-with-grep"><i class="fa fa-check"></i><b>13.1</b> Finding patterns in text with <code>grep()</code></a></li>
<li class="chapter" data-level="13.2" data-path="regular-expressions.html"><a href="regular-expressions.html#finding-and-replacing-patterns-in-text-with-gsub"><i class="fa fa-check"></i><b>13.2</b> Finding and replacing patterns in text with <code>gsub()</code></a></li>
<li class="chapter" data-level="13.3" data-path="regular-expressions.html"><a href="regular-expressions.html#useful-special-characters"><i class="fa fa-check"></i><b>13.3</b> Useful special characters</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="regular-expressions.html"><a href="regular-expressions.html#multiple-characters"><i class="fa fa-check"></i><b>13.3.1</b> Multiple characters <code>[]</code></a></li>
<li class="chapter" data-level="13.3.2" data-path="regular-expressions.html"><a href="regular-expressions.html#n-many-of-previous-character-n"><i class="fa fa-check"></i><b>13.3.2</b> n-many of previous character <code>{n}</code></a></li>
<li class="chapter" data-level="13.3.3" data-path="regular-expressions.html"><a href="regular-expressions.html#n-many-to-m-many-of-previous-character-nm"><i class="fa fa-check"></i><b>13.3.3</b> n-many to m-many of previous character <code>{n,m}</code></a></li>
<li class="chapter" data-level="13.3.4" data-path="regular-expressions.html"><a href="regular-expressions.html#start-of-string"><i class="fa fa-check"></i><b>13.3.4</b> Start of string</a></li>
<li class="chapter" data-level="13.3.5" data-path="regular-expressions.html"><a href="regular-expressions.html#end-of-string"><i class="fa fa-check"></i><b>13.3.5</b> End of string <code>$</code></a></li>
<li class="chapter" data-level="13.3.6" data-path="regular-expressions.html"><a href="regular-expressions.html#anything-."><i class="fa fa-check"></i><b>13.3.6</b> Anything <code>.</code></a></li>
<li class="chapter" data-level="13.3.7" data-path="regular-expressions.html"><a href="regular-expressions.html#one-or-more-of-previous"><i class="fa fa-check"></i><b>13.3.7</b> One or more of previous <code>+</code></a></li>
<li class="chapter" data-level="13.3.8" data-path="regular-expressions.html"><a href="regular-expressions.html#zero-or-more-of-previous"><i class="fa fa-check"></i><b>13.3.8</b> Zero or more of previous <code>*</code></a></li>
<li class="chapter" data-level="13.3.9" data-path="regular-expressions.html"><a href="regular-expressions.html#multiple-patterns"><i class="fa fa-check"></i><b>13.3.9</b> Multiple patterns <code>|</code></a></li>
<li class="chapter" data-level="13.3.10" data-path="regular-expressions.html"><a href="regular-expressions.html#parentheses"><i class="fa fa-check"></i><b>13.3.10</b> Parentheses <code>()</code></a></li>
<li class="chapter" data-level="13.3.11" data-path="regular-expressions.html"><a href="regular-expressions.html#optional-text"><i class="fa fa-check"></i><b>13.3.11</b> Optional text <code>?</code></a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="regular-expressions.html"><a href="regular-expressions.html#changing-capitalization"><i class="fa fa-check"></i><b>13.4</b> Changing capitalization</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="reshaping.html"><a href="reshaping.html"><i class="fa fa-check"></i><b>14</b> Reshaping data</a>
<ul>
<li class="chapter" data-level="14.1" data-path="reshaping.html"><a href="reshaping.html#reshaping-a-single-column"><i class="fa fa-check"></i><b>14.1</b> Reshaping a single column</a></li>
<li class="chapter" data-level="14.2" data-path="reshaping.html"><a href="reshaping.html#reshaping-multiple-columns"><i class="fa fa-check"></i><b>14.2</b> Reshaping multiple columns</a></li>
</ul></li>
<li class="part"><span><b>IV Visualize</b></span></li>
<li class="chapter" data-level="15" data-path="graphing-intro.html"><a href="graphing-intro.html"><i class="fa fa-check"></i><b>15</b> Graphing with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="15.1" data-path="graphing-intro.html"><a href="graphing-intro.html#what-does-the-data-look-like"><i class="fa fa-check"></i><b>15.1</b> What does the data look like?</a></li>
<li class="chapter" data-level="15.2" data-path="graphing-intro.html"><a href="graphing-intro.html#graphing-data"><i class="fa fa-check"></i><b>15.2</b> Graphing data</a></li>
<li class="chapter" data-level="15.3" data-path="graphing-intro.html"><a href="graphing-intro.html#time-series-plots"><i class="fa fa-check"></i><b>15.3</b> Time-Series Plots</a></li>
<li class="chapter" data-level="15.4" data-path="graphing-intro.html"><a href="graphing-intro.html#scatter-plots"><i class="fa fa-check"></i><b>15.4</b> Scatter Plots</a></li>
<li class="chapter" data-level="15.5" data-path="graphing-intro.html"><a href="graphing-intro.html#color-blindness"><i class="fa fa-check"></i><b>15.5</b> Color blindness</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="ois-graphs.html"><a href="ois-graphs.html"><i class="fa fa-check"></i><b>16</b> More graphing with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="16.1" data-path="ois-graphs.html"><a href="ois-graphs.html#exploring-data"><i class="fa fa-check"></i><b>16.1</b> Exploring data</a></li>
<li class="chapter" data-level="16.2" data-path="ois-graphs.html"><a href="ois-graphs.html#graphing-a-single-numeric-variable"><i class="fa fa-check"></i><b>16.2</b> Graphing a single numeric variable</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="ois-graphs.html"><a href="ois-graphs.html#histogram"><i class="fa fa-check"></i><b>16.2.1</b> Histogram</a></li>
<li class="chapter" data-level="16.2.2" data-path="ois-graphs.html"><a href="ois-graphs.html#density-plot"><i class="fa fa-check"></i><b>16.2.2</b> Density plot</a></li>
<li class="chapter" data-level="16.2.3" data-path="ois-graphs.html"><a href="ois-graphs.html#count-graph"><i class="fa fa-check"></i><b>16.2.3</b> Count graph</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="ois-graphs.html"><a href="ois-graphs.html#graphing-a-categorical-variable"><i class="fa fa-check"></i><b>16.3</b> Graphing a categorical variable</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="ois-graphs.html"><a href="ois-graphs.html#bar-graph"><i class="fa fa-check"></i><b>16.3.1</b> Bar graph</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="ois-graphs.html"><a href="ois-graphs.html#graphing-data-over-time"><i class="fa fa-check"></i><b>16.4</b> Graphing data over time</a></li>
<li class="chapter" data-level="16.5" data-path="ois-graphs.html"><a href="ois-graphs.html#pretty-graphs"><i class="fa fa-check"></i><b>16.5</b> Pretty graphs</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="ois-graphs.html"><a href="ois-graphs.html#themes"><i class="fa fa-check"></i><b>16.5.1</b> Themes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="hotspot-maps.html"><a href="hotspot-maps.html"><i class="fa fa-check"></i><b>17</b> Hotspot maps</a>
<ul>
<li class="chapter" data-level="17.1" data-path="hotspot-maps.html"><a href="hotspot-maps.html#a-simple-map"><i class="fa fa-check"></i><b>17.1</b> A simple map</a></li>
<li class="chapter" data-level="17.2" data-path="hotspot-maps.html"><a href="hotspot-maps.html#what-really-are-maps"><i class="fa fa-check"></i><b>17.2</b> What really are maps?</a></li>
<li class="chapter" data-level="17.3" data-path="hotspot-maps.html"><a href="hotspot-maps.html#making-a-hotspot-map"><i class="fa fa-check"></i><b>17.3</b> Making a hotspot map</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="hotspot-maps.html"><a href="hotspot-maps.html#colors"><i class="fa fa-check"></i><b>17.3.1</b> Colors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="choropleth-maps.html"><a href="choropleth-maps.html"><i class="fa fa-check"></i><b>18</b> Choropleth maps</a>
<ul>
<li class="chapter" data-level="18.1" data-path="choropleth-maps.html"><a href="choropleth-maps.html#spatial-joins"><i class="fa fa-check"></i><b>18.1</b> Spatial joins</a></li>
<li class="chapter" data-level="18.2" data-path="choropleth-maps.html"><a href="choropleth-maps.html#making-choropleth-maps"><i class="fa fa-check"></i><b>18.2</b> Making choropleth maps</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="interactive-maps.html"><a href="interactive-maps.html"><i class="fa fa-check"></i><b>19</b> Interactive maps</a>
<ul>
<li class="chapter" data-level="19.1" data-path="interactive-maps.html"><a href="interactive-maps.html#why-do-interactive-graphs-matter"><i class="fa fa-check"></i><b>19.1</b> Why do interactive graphs matter?</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="interactive-maps.html"><a href="interactive-maps.html#understanding-your-data"><i class="fa fa-check"></i><b>19.1.1</b> Understanding your data</a></li>
<li class="chapter" data-level="19.1.2" data-path="interactive-maps.html"><a href="interactive-maps.html#police-departments-use-them"><i class="fa fa-check"></i><b>19.1.2</b> Police departments use them</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="interactive-maps.html"><a href="interactive-maps.html#making-the-interactive-map"><i class="fa fa-check"></i><b>19.2</b> Making the interactive map</a></li>
<li class="chapter" data-level="19.3" data-path="interactive-maps.html"><a href="interactive-maps.html#adding-popup-information"><i class="fa fa-check"></i><b>19.3</b> Adding popup information</a></li>
<li class="chapter" data-level="19.4" data-path="interactive-maps.html"><a href="interactive-maps.html#dealing-with-too-many-markers"><i class="fa fa-check"></i><b>19.4</b> Dealing with too many markers</a></li>
<li class="chapter" data-level="19.5" data-path="interactive-maps.html"><a href="interactive-maps.html#interactive-choropleth-maps"><i class="fa fa-check"></i><b>19.5</b> Interactive choropleth maps</a></li>
</ul></li>
<li class="part"><span><b>V Collect</b></span></li>
<li class="chapter" data-level="20" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html"><i class="fa fa-check"></i><b>20</b> Webscraping with <code>rvest</code></a>
<ul>
<li class="chapter" data-level="20.1" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#scraping-one-page"><i class="fa fa-check"></i><b>20.1</b> Scraping one page</a></li>
<li class="chapter" data-level="20.2" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#cleaning-the-webscraped-data"><i class="fa fa-check"></i><b>20.2</b> Cleaning the webscraped data</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>21</b> Functions</a>
<ul>
<li class="chapter" data-level="21.1" data-path="functions.html"><a href="functions.html#a-simple-function"><i class="fa fa-check"></i><b>21.1</b> A simple function</a></li>
<li class="chapter" data-level="21.2" data-path="functions.html"><a href="functions.html#adding-parameters"><i class="fa fa-check"></i><b>21.2</b> Adding parameters</a></li>
<li class="chapter" data-level="21.3" data-path="functions.html"><a href="functions.html#recipes-function"><i class="fa fa-check"></i><b>21.3</b> Making a function to scrape recipes</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>22</b> For loops</a>
<ul>
<li class="chapter" data-level="22.1" data-path="for-loops.html"><a href="for-loops.html#basic-for-loops"><i class="fa fa-check"></i><b>22.1</b> Basic for loops</a></li>
<li class="chapter" data-level="22.2" data-path="for-loops.html"><a href="for-loops.html#scraping-multiple-recipes"><i class="fa fa-check"></i><b>22.2</b> Scraping multiple recipes</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="scrape-table.html"><a href="scrape-table.html"><i class="fa fa-check"></i><b>23</b> Scraping tables from PDFs</a>
<ul>
<li class="chapter" data-level="23.1" data-path="scrape-table.html"><a href="scrape-table.html#scraping-the-first-table"><i class="fa fa-check"></i><b>23.1</b> Scraping the first table</a></li>
<li class="chapter" data-level="23.2" data-path="scrape-table.html"><a href="scrape-table.html#making-a-function"><i class="fa fa-check"></i><b>23.2</b> Making a function</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="scrape-table2.html"><a href="scrape-table2.html"><i class="fa fa-check"></i><b>24</b> More scraping tables from PDFs</a>
<ul>
<li class="chapter" data-level="24.1" data-path="scrape-table2.html"><a href="scrape-table2.html#texas-jail-data"><i class="fa fa-check"></i><b>24.1</b> Texas jail data</a></li>
<li class="chapter" data-level="24.2" data-path="scrape-table2.html"><a href="scrape-table2.html#pregnant-women-incarcerated"><i class="fa fa-check"></i><b>24.2</b> Pregnant women incarcerated</a></li>
<li class="chapter" data-level="24.3" data-path="scrape-table2.html"><a href="scrape-table2.html#making-pdf-scraped-data-available-to-others"><i class="fa fa-check"></i><b>24.3</b> Making PDF-scraped data available to others</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="geocoding.html"><a href="geocoding.html"><i class="fa fa-check"></i><b>25</b> Geocoding</a>
<ul>
<li class="chapter" data-level="25.1" data-path="geocoding.html"><a href="geocoding.html#geocoding-a-single-address"><i class="fa fa-check"></i><b>25.1</b> Geocoding a single address</a></li>
<li class="chapter" data-level="25.2" data-path="geocoding.html"><a href="geocoding.html#geocoding-san-francisco-marijuana-dispensary-locations"><i class="fa fa-check"></i><b>25.2</b> Geocoding San Francisco marijuana dispensary locations</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Crime by the Numbers: A Criminologist’s Guide to R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="scrape-table2" class="section level1" number="24">
<h1><span class="header-section-number">24</span> More scraping tables from PDFs</h1>
<p>For this chapter you’ll need the following files, which are available for download <a href="https://github.com/jacobkap/r4crimz/tree/master/data">here</a>: AbbreRptCurrent.pdf and PregnantFemaleReportingCurrent.pdf.</p>
<p>In Chapter <a href="scrape-table.html#scrape-table">23</a> we used the package <code>pdftools</code> to scrape tables on arrests/seizures from the US Customs and Border Protection that were only available in a PDF. Given the importance of PDF scraping, in this chapter we’ll continue working on scraping tables from PDFs. Here, we will use the package <code>tabulizer</code> which has a number of features making it especially useful for grabbing tables from PDFs.</p>
<p>One issue which we saw in Chapter <a href="scrape-table.html#scrape-table">23</a> is that the table may not be the only thing on the page - the page could also have a title, page number, etc. When using <code>pdftools</code> we use regular expressions and subsetting to remove all the extra lines. Using <code>tabulizer</code> we can simply say (through a handy function) that we only want a part of the page, so we only scrape the table itself. For more info about the <code>tabulizer</code> package please see its site <a href="https://docs.ropensci.org/tabulizer/">here</a>.</p>
<div id="texas-jail-data" class="section level2" number="24.1">
<h2><span class="header-section-number">24.1</span> Texas jail data</h2>
<p>For this chapter we’ll scrape data from the Texas Commission on Jail Standards - Abbreviated Population Report. This is a report that shows monthly data on people incarcerated in jails for counties in Texas. This PDF is 9 pages long because of how many counties there are in Texas. Let’s take a look at what the first page looks like. If you look at the PDF yourself you’ll see that every page follows the format of the 1st page, which greatly simplifies our scrape. The data is in county-month units which means that each row of data has info for a single county in a single month. We know that because the first column is “County” and each row is a single county (this is not true in every case. For example, on page 3 there are the rows “Fannin 1(P)” and “Fannin 2(P),” possibly indicating that there are two jails in that county. It is unclear from this PDF what the “(P)” means.). For knowing that the data is monthly, the title of this document says “for 06/01/2020” indicating that it is for that date, though this doesn’t by itself mean the data is monthly - it could be daily based only on this data.</p>
<p>To know for sure that it is monthly data we’d have to go to the original source on the Texas Commission on Jail Standards website <a href="https://www.tcjs.state.tx.us/historical-population-reports/#1580454195676-420daca6-0a306">here</a>. On this page it says that “Monthly population reports are available for review below,” which tells us that the data is monthly. It’s important to know the unit so you can understand the data properly - primarily so you know what kinds of questions you can answer. If someone asks whether yearly trends on jail incarceration change in Texas, you can answer that with this data. If they ask whether more people are in jail on a Tuesday than on a Friday, you can’t.</p>
<p>Just to understand what units our data is in we had to look at both the PDF itself and the site it came from. This kind of multi-step process is tedious but often necessary to truly understand your data. And even now we have questions - what does the (P) that’s in some rows mean? For this we’d have to email or call the people who handle the data and ask directly. This is often the easiest way to answer your question, though different organizations have varying speeds in responding - if ever.</p>
<p>Now let’s look at what columns are available. It looks like each column is the number of people incarcerated in the jail, broken down into categories of people. For example, the first two columns after County are “Pretrial Felons” and “Conv. Felons” so those are probably how many people are incarcerated who are awaiting trial for a felony and those already convicted of a felony. The other columns seem to follow this same format until the last few ones which describe the jails capacity (i.e. how many people they can hold), what percent of capacity they are at, and specifically how many open beds they have.</p>
<p><img src="images/tabulizer1.PNG" width="90%"  style="display: block; margin: auto;" /></p>
<p>Now that we’ve familiarized ourselves with the data, let’s begin scraping this data using <code>tabulizer</code>. If you don’t have this package installed, you’ll need to install it using <code>install.packages("tabulizer")</code>. Then we’ll need to run <code>library(tabulizer)</code>.</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb426-1"><a href="scrape-table2.html#cb426-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tabulizer&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb427-1"><a href="scrape-table2.html#cb427-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tabulizer)</span></code></pre></div>
<p>The main function that we’ll be using from the <code>tabulizer</code> package is <code>extract_tables()</code>. In the parentheses we need to put the name of our PDF (in quotes). This function basically looks at a PDF page, figures out which part of the page is a table, and then scrapes just that table. As we’ll see, it’s not always perfect at figuring out what part of the page is a table so we can also tell it exactly where to look. You can look at all of the features of <code>extract_tables()</code> by running <code>help(extract_tables)</code>.</p>
<div class="sourceCode" id="cb428"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb428-1"><a href="scrape-table2.html#cb428-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">extract_tables</span>(<span class="at">file =</span> <span class="st">&quot;data/AbbreRptCurrent.pdf&quot;</span>)</span></code></pre></div>
<p>Normally we’d now look at the <code>head()</code> of our data object, but if we did that it would print out a very large amount of information. Instead, we’ll check how long our object is using <code>length()</code> which tells us how many elements a vector or list has. We’ll also check what type of data it is since different types of data (e.g. vector, data.frame) operate differently.</p>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb429-1"><a href="scrape-table2.html#cb429-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(data)</span>
<span id="cb429-2"><a href="scrape-table2.html#cb429-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 18</span></span>
<span id="cb429-3"><a href="scrape-table2.html#cb429-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is</span>(data)</span>
<span id="cb429-4"><a href="scrape-table2.html#cb429-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;list&quot;   &quot;vector&quot;</span></span></code></pre></div>
<p>We learn that it is a list of length of 18, or has 18 elements in it. Why is this? We have 9 pages so it is reasonable that we would have 9 lists since we have one table per page, but we shouldn’t have 18 tables.</p>
<p>Back in Section <a href="data-types.html#other-data-structures">4.2.3</a> I said that lists are one of the data types that we don’t have to worry about as we don’t use them much in this book. That’s still true. Our data object is a list and we want to convert this to a data.frame as quickly as possible. The important thing to know when interacting with a list is that subsetting here uses two pairs of square brackets <code>[[]]</code> instead of one pair of square brackets for a normal vector.</p>
<p>Let’s look again at just the first table in our object, subsetting using <code>[[1]]</code>.</p>
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb430-1"><a href="scrape-table2.html#cb430-1" aria-hidden="true" tabindex="-1"></a>data[[<span class="dv">1</span>]]</span>
<span id="cb430-2"><a href="scrape-table2.html#cb430-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]     [,2]       [,3]     [,4]           [,5]        [,6]        </span></span>
<span id="cb430-3"><a href="scrape-table2.html#cb430-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;&quot;       &quot;&quot;         &quot;&quot;       &quot;Conv. Felons&quot; &quot;&quot;          &quot;Parole&quot;    </span></span>
<span id="cb430-4"><a href="scrape-table2.html#cb430-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;&quot;       &quot;&quot;         &quot;&quot;       &quot;Sentenced to&quot; &quot;&quot;          &quot;Violators&quot; </span></span>
<span id="cb430-5"><a href="scrape-table2.html#cb430-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;&quot;       &quot;&quot;         &quot;&quot;       &quot;County Jail&quot;  &quot;&quot;          &quot;with a New&quot;</span></span>
<span id="cb430-6"><a href="scrape-table2.html#cb430-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;&quot;       &quot;Pretrial&quot; &quot;Conv.&quot;  &quot;&quot;             &quot;Parole&quot;    &quot;&quot;          </span></span>
<span id="cb430-7"><a href="scrape-table2.html#cb430-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;&quot;       &quot;&quot;         &quot;&quot;       &quot;time&quot;         &quot;&quot;          &quot;Charge&quot;    </span></span>
<span id="cb430-8"><a href="scrape-table2.html#cb430-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;County&quot; &quot;Felons&quot;   &quot;Felons&quot; &quot;&quot;             &quot;Violators&quot; &quot;&quot;          </span></span>
<span id="cb430-9"><a href="scrape-table2.html#cb430-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,7]       [,8]    [,9]       [,10]     [,11]      [,12]        </span></span>
<span id="cb430-10"><a href="scrape-table2.html#cb430-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;&quot;         &quot;&quot;      &quot;&quot;         &quot;&quot;        &quot;&quot;         &quot;Conv. SJF&quot;  </span></span>
<span id="cb430-11"><a href="scrape-table2.html#cb430-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;&quot;         &quot;&quot;      &quot;&quot;         &quot;&quot;        &quot;&quot;         &quot;Sentenced&quot;  </span></span>
<span id="cb430-12"><a href="scrape-table2.html#cb430-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;&quot;         &quot;&quot;      &quot;&quot;         &quot;&quot;        &quot;&quot;         &quot;to Co. Jail&quot;</span></span>
<span id="cb430-13"><a href="scrape-table2.html#cb430-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;Pretrial&quot; &quot;Conv.&quot; &quot;Bench&quot;    &quot;&quot;        &quot;Pretrial&quot; &quot;&quot;           </span></span>
<span id="cb430-14"><a href="scrape-table2.html#cb430-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;&quot;         &quot;&quot;      &quot;&quot;         &quot;&quot;        &quot;&quot;         &quot;Time&quot;       </span></span>
<span id="cb430-15"><a href="scrape-table2.html#cb430-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;Misd.&quot;    &quot;Misd.&quot; &quot;Warrants&quot; &quot;Federal&quot; &quot;SJF&quot;      &quot;&quot;           </span></span>
<span id="cb430-16"><a href="scrape-table2.html#cb430-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,13]           [,14]    [,15]   [,16]      [,17]        [,18]     </span></span>
<span id="cb430-17"><a href="scrape-table2.html#cb430-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;Conv.&quot;         &quot;&quot;       &quot;&quot;      &quot;&quot;         &quot;&quot;           &quot;&quot;        </span></span>
<span id="cb430-18"><a href="scrape-table2.html#cb430-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;SJF&quot;           &quot;&quot;       &quot;&quot;      &quot;&quot;         &quot;&quot;           &quot;&quot;        </span></span>
<span id="cb430-19"><a href="scrape-table2.html#cb430-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;Sentenced&quot;     &quot;&quot;       &quot;&quot;      &quot;&quot;         &quot;&quot;           &quot;&quot;        </span></span>
<span id="cb430-20"><a href="scrape-table2.html#cb430-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;&quot;              &quot;Total&quot;  &quot;Total&quot; &quot;Total&quot;    &quot;Total&quot;      &quot;Total&quot;   </span></span>
<span id="cb430-21"><a href="scrape-table2.html#cb430-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;to State Jail&quot; &quot;&quot;       &quot;&quot;      &quot;&quot;         &quot;&quot;           &quot;&quot;        </span></span>
<span id="cb430-22"><a href="scrape-table2.html#cb430-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;&quot;              &quot;Others&quot; &quot;Local&quot; &quot;Contract&quot; &quot;Population&quot; &quot;Capacity&quot;</span></span>
<span id="cb430-23"><a href="scrape-table2.html#cb430-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,19]      [,20]      </span></span>
<span id="cb430-24"><a href="scrape-table2.html#cb430-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;&quot;         &quot;&quot;         </span></span>
<span id="cb430-25"><a href="scrape-table2.html#cb430-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;&quot;         &quot;&quot;         </span></span>
<span id="cb430-26"><a href="scrape-table2.html#cb430-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;&quot;         &quot;&quot;         </span></span>
<span id="cb430-27"><a href="scrape-table2.html#cb430-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;% of&quot;     &quot;Available&quot;</span></span>
<span id="cb430-28"><a href="scrape-table2.html#cb430-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;&quot;         &quot;&quot;         </span></span>
<span id="cb430-29"><a href="scrape-table2.html#cb430-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;Capacity&quot; &quot;Beds&quot;</span></span></code></pre></div>
<p>The results from <code>data[[1]]</code> provide some answers. It has the right number of columns but only 6 rows! This is our first table so should be the entire table we can see on page 1. Instead, it appears to be just the column names, with 6 rows because some column names are on multiple rows. Here’s the issue, we can read the table and easily see that the column names may be on multiple rows but belong together, and that they are part of the table. <code>tabulizer</code> can’t see this obvious fact. It must rely on a series of rules to indicate what is part of a table and what isn’t.</p>
<p>For example, having white space between columns and thin black lines around rows tells it where each row and column is. Our issue is that the column names appear to just be text until there is a thick black line and (in <code>tabulizer's</code> mind) the table begins, so it keeps the column name part separate from the rest of the table. Now let’s look closer at the second element in our data object and see if it is correct for the table on page 1 of our PDF.</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb431-1"><a href="scrape-table2.html#cb431-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data[[<span class="dv">2</span>]])</span>
<span id="cb431-2"><a href="scrape-table2.html#cb431-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]        [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]</span></span>
<span id="cb431-3"><a href="scrape-table2.html#cb431-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;Anderson&quot;  &quot;81&quot; &quot;13&quot; &quot;3&quot;  &quot;1&quot;  &quot;5&quot;  &quot;12&quot; &quot;1&quot;  &quot;0&quot;  &quot;0&quot;   &quot;21&quot;  &quot;0&quot;  </span></span>
<span id="cb431-4"><a href="scrape-table2.html#cb431-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;Andrews&quot;   &quot;23&quot; &quot;11&quot; &quot;0&quot;  &quot;2&quot;  &quot;4&quot;  &quot;11&quot; &quot;0&quot;  &quot;0&quot;  &quot;0&quot;   &quot;5&quot;   &quot;0&quot;  </span></span>
<span id="cb431-5"><a href="scrape-table2.html#cb431-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;Angelina&quot;  &quot;79&quot; &quot;35&quot; &quot;4&quot;  &quot;6&quot;  &quot;0&quot;  &quot;14&quot; &quot;0&quot;  &quot;3&quot;  &quot;0&quot;   &quot;23&quot;  &quot;0&quot;  </span></span>
<span id="cb431-6"><a href="scrape-table2.html#cb431-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;Aransas&quot;   &quot;23&quot; &quot;10&quot; &quot;0&quot;  &quot;2&quot;  &quot;6&quot;  &quot;7&quot;  &quot;0&quot;  &quot;6&quot;  &quot;73&quot;  &quot;2&quot;   &quot;0&quot;  </span></span>
<span id="cb431-7"><a href="scrape-table2.html#cb431-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;Archer&quot;    &quot;12&quot; &quot;3&quot;  &quot;0&quot;  &quot;0&quot;  &quot;1&quot;  &quot;3&quot;  &quot;1&quot;  &quot;1&quot;  &quot;2&quot;   &quot;5&quot;   &quot;0&quot;  </span></span>
<span id="cb431-8"><a href="scrape-table2.html#cb431-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;Armstrong&quot; &quot;1&quot;  &quot;1&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;   &quot;0&quot;   &quot;0&quot;  </span></span>
<span id="cb431-9"><a href="scrape-table2.html#cb431-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,13] [,14] [,15] [,16] [,17] [,18] [,19]   [,20]</span></span>
<span id="cb431-10"><a href="scrape-table2.html#cb431-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;1&quot;   &quot;0&quot;   &quot;138&quot; &quot;0&quot;   &quot;138&quot; &quot;300&quot; &quot;46.00&quot; &quot;132&quot;</span></span>
<span id="cb431-11"><a href="scrape-table2.html#cb431-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;6&quot;   &quot;0&quot;   &quot;35&quot;  &quot;0&quot;   &quot;35&quot;  &quot;50&quot;  &quot;70.00&quot; &quot;10&quot; </span></span>
<span id="cb431-12"><a href="scrape-table2.html#cb431-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;3&quot;   &quot;1&quot;   &quot;168&quot; &quot;0&quot;   &quot;168&quot; &quot;279&quot; &quot;60.22&quot; &quot;83&quot; </span></span>
<span id="cb431-13"><a href="scrape-table2.html#cb431-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;0&quot;   &quot;0&quot;   &quot;56&quot;  &quot;73&quot;  &quot;129&quot; &quot;212&quot; &quot;60.85&quot; &quot;62&quot; </span></span>
<span id="cb431-14"><a href="scrape-table2.html#cb431-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;0&quot;   &quot;1&quot;   &quot;26&quot;  &quot;9&quot;   &quot;35&quot;  &quot;48&quot;  &quot;72.92&quot; &quot;0&quot;  </span></span>
<span id="cb431-15"><a href="scrape-table2.html#cb431-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;0&quot;   &quot;0&quot;   &quot;2&quot;   &quot;0&quot;   &quot;2&quot;   &quot;8&quot;   &quot;25.00&quot; &quot;0&quot;</span></span>
<span id="cb431-16"><a href="scrape-table2.html#cb431-16" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(data[[<span class="dv">2</span>]])</span>
<span id="cb431-17"><a href="scrape-table2.html#cb431-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [,1]         [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]</span></span>
<span id="cb431-18"><a href="scrape-table2.html#cb431-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [24,] &quot;Brooks&quot;     &quot;15&quot; &quot;1&quot;  &quot;1&quot;  &quot;1&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;   &quot;0&quot;   &quot;0&quot;  </span></span>
<span id="cb431-19"><a href="scrape-table2.html#cb431-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25,] &quot;Brooks (P)&quot; &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;164&quot; &quot;0&quot;   &quot;0&quot;  </span></span>
<span id="cb431-20"><a href="scrape-table2.html#cb431-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [26,] &quot;Brown&quot;      &quot;70&quot; &quot;20&quot; &quot;0&quot;  &quot;7&quot;  &quot;20&quot; &quot;9&quot;  &quot;0&quot;  &quot;2&quot;  &quot;0&quot;   &quot;0&quot;   &quot;3&quot;  </span></span>
<span id="cb431-21"><a href="scrape-table2.html#cb431-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [27,] &quot;Burleson&quot;   &quot;19&quot; &quot;2&quot;  &quot;0&quot;  &quot;2&quot;  &quot;0&quot;  &quot;3&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;   &quot;0&quot;   &quot;0&quot;  </span></span>
<span id="cb431-22"><a href="scrape-table2.html#cb431-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [28,] &quot;Burnet&quot;     &quot;57&quot; &quot;23&quot; &quot;1&quot;  &quot;5&quot;  &quot;9&quot;  &quot;3&quot;  &quot;0&quot;  &quot;1&quot;  &quot;0&quot;   &quot;10&quot;  &quot;1&quot;  </span></span>
<span id="cb431-23"><a href="scrape-table2.html#cb431-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [29,] &quot;Caldwell&quot;   &quot;89&quot; &quot;4&quot;  &quot;0&quot;  &quot;3&quot;  &quot;2&quot;  &quot;26&quot; &quot;1&quot;  &quot;2&quot;  &quot;19&quot;  &quot;13&quot;  &quot;0&quot;  </span></span>
<span id="cb431-24"><a href="scrape-table2.html#cb431-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [,13] [,14] [,15] [,16] [,17] [,18] [,19]   [,20]</span></span>
<span id="cb431-25"><a href="scrape-table2.html#cb431-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [24,] &quot;0&quot;   &quot;0&quot;   &quot;18&quot;  &quot;0&quot;   &quot;18&quot;  &quot;36&quot;  &quot;50.00&quot; &quot;14&quot; </span></span>
<span id="cb431-26"><a href="scrape-table2.html#cb431-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25,] &quot;0&quot;   &quot;0&quot;   &quot;0&quot;   &quot;408&quot; &quot;408&quot; &quot;652&quot; &quot;62.58&quot; &quot;179&quot;</span></span>
<span id="cb431-27"><a href="scrape-table2.html#cb431-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [26,] &quot;0&quot;   &quot;2&quot;   &quot;133&quot; &quot;7&quot;   &quot;140&quot; &quot;196&quot; &quot;71.43&quot; &quot;36&quot; </span></span>
<span id="cb431-28"><a href="scrape-table2.html#cb431-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [27,] &quot;0&quot;   &quot;1&quot;   &quot;27&quot;  &quot;0&quot;   &quot;27&quot;  &quot;96&quot;  &quot;28.13&quot; &quot;59&quot; </span></span>
<span id="cb431-29"><a href="scrape-table2.html#cb431-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [28,] &quot;0&quot;   &quot;0&quot;   &quot;110&quot; &quot;158&quot; &quot;268&quot; &quot;595&quot; &quot;45.04&quot; &quot;268&quot;</span></span>
<span id="cb431-30"><a href="scrape-table2.html#cb431-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [29,] &quot;3&quot;   &quot;0&quot;   &quot;143&quot; &quot;21&quot;  &quot;164&quot; &quot;301&quot; &quot;54.49&quot; &quot;107&quot;</span></span></code></pre></div>
<p>We’re looking just at the <code>head()</code> and <code>tail()</code> to get the first and last six rows as otherwise we’d print out all 29 rows in that table. When you are exploring your own data, you’ll probably want to be more thorough and ensure that rows around the middle are also correct - but this is a good first pass. If you look at the output we just printed out and compare it to the PDF, you’ll see that the scrape was successful. Every row is where it should be and the columns are correct - unlike when using <code>pdftools()</code>, we have the results already in proper columns.</p>
<p>One thing to note is that this data isn’t in a data.frame format, it’s in a matrix. Matrices are the default output of <code>extract_tables()</code> though you can set it to output a data.frame by setting the parameter <code>output = "data.frame"</code>. In our case we actually wouldn’t want that due to the issue of the column names. As shown below, outputting to a data.frame will automatically take the first row of data and convert that to column names. So now we have our first county as the column names, which is not correct. Note too that the function added “X” before the column names which are numbers. That’s because column names cannot start with a number so the function tries to fix it by adding the “X” to the start.</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb432-1"><a href="scrape-table2.html#cb432-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">extract_tables</span>(<span class="at">file =</span> <span class="st">&quot;data/AbbreRptCurrent.pdf&quot;</span>, <span class="at">output =</span> <span class="st">&quot;data.frame&quot;</span>)</span>
<span id="cb432-2"><a href="scrape-table2.html#cb432-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data[[<span class="dv">2</span>]])</span>
<span id="cb432-3"><a href="scrape-table2.html#cb432-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Anderson X81 X13 X3 X1 X5 X12 X1.1 X0 X0.1 X21 X0.2 X1.2 X0.3 X138 X0.4</span></span>
<span id="cb432-4"><a href="scrape-table2.html#cb432-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   Andrews  23  11  0  2  4  11    0  0    0   5    0    6    0   35    0</span></span>
<span id="cb432-5"><a href="scrape-table2.html#cb432-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  Angelina  79  35  4  6  0  14    0  3    0  23    0    3    1  168    0</span></span>
<span id="cb432-6"><a href="scrape-table2.html#cb432-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   Aransas  23  10  0  2  6   7    0  6   73   2    0    0    0   56   73</span></span>
<span id="cb432-7"><a href="scrape-table2.html#cb432-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4    Archer  12   3  0  0  1   3    1  1    2   5    0    0    1   26    9</span></span>
<span id="cb432-8"><a href="scrape-table2.html#cb432-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Armstrong   1   1  0  0  0   0    0  0    0   0    0    0    0    2    0</span></span>
<span id="cb432-9"><a href="scrape-table2.html#cb432-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  Atascosa  54   2  0  8  4  21    0  5    0  29    0    4    0  127   29</span></span>
<span id="cb432-10"><a href="scrape-table2.html#cb432-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   X138.1 X300 X46.00 X132</span></span>
<span id="cb432-11"><a href="scrape-table2.html#cb432-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     35   50  70.00   10</span></span>
<span id="cb432-12"><a href="scrape-table2.html#cb432-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2    168  279  60.22   83</span></span>
<span id="cb432-13"><a href="scrape-table2.html#cb432-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3    129  212  60.85   62</span></span>
<span id="cb432-14"><a href="scrape-table2.html#cb432-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4     35   48  72.92    0</span></span>
<span id="cb432-15"><a href="scrape-table2.html#cb432-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5      2    8  25.00    0</span></span>
<span id="cb432-16"><a href="scrape-table2.html#cb432-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6    156  250  62.40   69</span></span></code></pre></div>
<p>Let’s rerun the <code>extract_tables()</code> function, this time keeping it as outputting a matrix.</p>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb433-1"><a href="scrape-table2.html#cb433-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">extract_tables</span>(<span class="at">file =</span> <span class="st">&quot;data/AbbreRptCurrent.pdf&quot;</span>)</span></code></pre></div>
<p>Since the column names are the same on each page, we can set the names manually. There are 20 columns so this will be a lot of writing, but it’s simpler and quicker than trying to do it programmatically. Since each table will have the same column names, we’ll want to create a vector with the column names to use for every table. Following normal naming conventions, we’ll make everything lowercase and the only punctuation we’ll use is an underscore.</p>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb434-1"><a href="scrape-table2.html#cb434-1" aria-hidden="true" tabindex="-1"></a>column_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;county&quot;</span>,</span>
<span id="cb434-2"><a href="scrape-table2.html#cb434-2" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;pretrial_felons&quot;</span>,</span>
<span id="cb434-3"><a href="scrape-table2.html#cb434-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;conv_felons&quot;</span>,</span>
<span id="cb434-4"><a href="scrape-table2.html#cb434-4" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;conv_felons_sentence_to_county_jail_time&quot;</span>,</span>
<span id="cb434-5"><a href="scrape-table2.html#cb434-5" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;parole_violators&quot;</span>,</span>
<span id="cb434-6"><a href="scrape-table2.html#cb434-6" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;parole_violators_with_a_new_charge&quot;</span>,</span>
<span id="cb434-7"><a href="scrape-table2.html#cb434-7" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;pretrial_misd&quot;</span>,</span>
<span id="cb434-8"><a href="scrape-table2.html#cb434-8" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;conv_misd&quot;</span>,</span>
<span id="cb434-9"><a href="scrape-table2.html#cb434-9" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;bench_warrants&quot;</span>,</span>
<span id="cb434-10"><a href="scrape-table2.html#cb434-10" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;federal&quot;</span>,</span>
<span id="cb434-11"><a href="scrape-table2.html#cb434-11" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;pretrial_sjf&quot;</span>,</span>
<span id="cb434-12"><a href="scrape-table2.html#cb434-12" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;conv_sjf_sentenced_to_co_jail_time&quot;</span>,</span>
<span id="cb434-13"><a href="scrape-table2.html#cb434-13" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;conv_sjf_sentence_to_state_jail&quot;</span>,</span>
<span id="cb434-14"><a href="scrape-table2.html#cb434-14" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;total_others&quot;</span>,</span>
<span id="cb434-15"><a href="scrape-table2.html#cb434-15" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;total_local&quot;</span>,</span>
<span id="cb434-16"><a href="scrape-table2.html#cb434-16" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;total_contract&quot;</span>,</span>
<span id="cb434-17"><a href="scrape-table2.html#cb434-17" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;total_population&quot;</span>,</span>
<span id="cb434-18"><a href="scrape-table2.html#cb434-18" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;total_capacity&quot;</span>,</span>
<span id="cb434-19"><a href="scrape-table2.html#cb434-19" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;percent_of_capacity&quot;</span>,</span>
<span id="cb434-20"><a href="scrape-table2.html#cb434-20" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;available_beds&quot;</span>)</span></code></pre></div>
<p>We can combine the results from this vector with that of the second table to have a complete table from page 1 of our PDF. We do this first by making the second element from our data object into a data.frame. Then we use <code>names()</code> and assign the column names to that of the vector of names we just made. Since this is the table from page 1 of the PDF, we’ll call the object <em>page1_table</em>. We’ll look just at the <code>head()</code> of our <em>page1_table</em> object.</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb435-1"><a href="scrape-table2.html#cb435-1" aria-hidden="true" tabindex="-1"></a>page1_table <span class="ot">&lt;-</span> data[[<span class="dv">2</span>]]</span>
<span id="cb435-2"><a href="scrape-table2.html#cb435-2" aria-hidden="true" tabindex="-1"></a>page1_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(page1_table)</span>
<span id="cb435-3"><a href="scrape-table2.html#cb435-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(page1_table) <span class="ot">&lt;-</span> column_names</span>
<span id="cb435-4"><a href="scrape-table2.html#cb435-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(page1_table)</span>
<span id="cb435-5"><a href="scrape-table2.html#cb435-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      county pretrial_felons conv_felons</span></span>
<span id="cb435-6"><a href="scrape-table2.html#cb435-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  Anderson              81          13</span></span>
<span id="cb435-7"><a href="scrape-table2.html#cb435-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   Andrews              23          11</span></span>
<span id="cb435-8"><a href="scrape-table2.html#cb435-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Angelina              79          35</span></span>
<span id="cb435-9"><a href="scrape-table2.html#cb435-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   Aransas              23          10</span></span>
<span id="cb435-10"><a href="scrape-table2.html#cb435-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5    Archer              12           3</span></span>
<span id="cb435-11"><a href="scrape-table2.html#cb435-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Armstrong               1           1</span></span>
<span id="cb435-12"><a href="scrape-table2.html#cb435-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   conv_felons_sentence_to_county_jail_time parole_violators</span></span>
<span id="cb435-13"><a href="scrape-table2.html#cb435-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1                                        3                1</span></span>
<span id="cb435-14"><a href="scrape-table2.html#cb435-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2                                        0                2</span></span>
<span id="cb435-15"><a href="scrape-table2.html#cb435-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3                                        4                6</span></span>
<span id="cb435-16"><a href="scrape-table2.html#cb435-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4                                        0                2</span></span>
<span id="cb435-17"><a href="scrape-table2.html#cb435-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5                                        0                0</span></span>
<span id="cb435-18"><a href="scrape-table2.html#cb435-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6                                        0                0</span></span>
<span id="cb435-19"><a href="scrape-table2.html#cb435-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   parole_violators_with_a_new_charge pretrial_misd conv_misd bench_warrants</span></span>
<span id="cb435-20"><a href="scrape-table2.html#cb435-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1                                  5            12         1              0</span></span>
<span id="cb435-21"><a href="scrape-table2.html#cb435-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2                                  4            11         0              0</span></span>
<span id="cb435-22"><a href="scrape-table2.html#cb435-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3                                  0            14         0              3</span></span>
<span id="cb435-23"><a href="scrape-table2.html#cb435-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4                                  6             7         0              6</span></span>
<span id="cb435-24"><a href="scrape-table2.html#cb435-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5                                  1             3         1              1</span></span>
<span id="cb435-25"><a href="scrape-table2.html#cb435-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6                                  0             0         0              0</span></span>
<span id="cb435-26"><a href="scrape-table2.html#cb435-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   federal pretrial_sjf conv_sjf_sentenced_to_co_jail_time</span></span>
<span id="cb435-27"><a href="scrape-table2.html#cb435-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1       0           21                                  0</span></span>
<span id="cb435-28"><a href="scrape-table2.html#cb435-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2       0            5                                  0</span></span>
<span id="cb435-29"><a href="scrape-table2.html#cb435-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3       0           23                                  0</span></span>
<span id="cb435-30"><a href="scrape-table2.html#cb435-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4      73            2                                  0</span></span>
<span id="cb435-31"><a href="scrape-table2.html#cb435-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5       2            5                                  0</span></span>
<span id="cb435-32"><a href="scrape-table2.html#cb435-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6       0            0                                  0</span></span>
<span id="cb435-33"><a href="scrape-table2.html#cb435-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   conv_sjf_sentence_to_state_jail total_others total_local total_contract</span></span>
<span id="cb435-34"><a href="scrape-table2.html#cb435-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1                               1            0         138              0</span></span>
<span id="cb435-35"><a href="scrape-table2.html#cb435-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2                               6            0          35              0</span></span>
<span id="cb435-36"><a href="scrape-table2.html#cb435-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3                               3            1         168              0</span></span>
<span id="cb435-37"><a href="scrape-table2.html#cb435-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4                               0            0          56             73</span></span>
<span id="cb435-38"><a href="scrape-table2.html#cb435-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5                               0            1          26              9</span></span>
<span id="cb435-39"><a href="scrape-table2.html#cb435-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6                               0            0           2              0</span></span>
<span id="cb435-40"><a href="scrape-table2.html#cb435-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   total_population total_capacity percent_of_capacity available_beds</span></span>
<span id="cb435-41"><a href="scrape-table2.html#cb435-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1              138            300               46.00            132</span></span>
<span id="cb435-42"><a href="scrape-table2.html#cb435-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2               35             50               70.00             10</span></span>
<span id="cb435-43"><a href="scrape-table2.html#cb435-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3              168            279               60.22             83</span></span>
<span id="cb435-44"><a href="scrape-table2.html#cb435-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4              129            212               60.85             62</span></span>
<span id="cb435-45"><a href="scrape-table2.html#cb435-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5               35             48               72.92              0</span></span>
<span id="cb435-46"><a href="scrape-table2.html#cb435-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6                2              8               25.00              0</span></span></code></pre></div>
<p>Looking at the results, we’ve done this correctly. The values are right and the column names are correct. We’ve done it for one page but now must add the remaining pages. We’ll do this through a for loop. We want to take the code we used above and loop through each of the tables we have. Since half of our tables are just the column names and not actual data, we need to skip those elements in our for loop. Luckily, our data follows a pattern where the first element is the column names from page 1, the second is the data from page 1, the third is the column names from page 2, the fourth is the data from page 2, and so on. So we need only every other value from 1 to 18, or every even number. We can get every other value using logical values, as shown in the next section, but since we only have 18 elements we’ll just create the simple vector ourselves: <code>c(2, 4, 6, 8, 10, 12, 14, 16, 18)</code>.</p>
<p>For our for loop we can copy the code above but let’s change the object name from <em>page1_table</em> to <em>temp</em> as each iteration will be of a different page so <em>page1_table</em> doesn’t make sense.</p>
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb436-1"><a href="scrape-table2.html#cb436-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">14</span>, <span class="dv">16</span>, <span class="dv">18</span>)) {</span>
<span id="cb436-2"><a href="scrape-table2.html#cb436-2" aria-hidden="true" tabindex="-1"></a>  temp        <span class="ot">&lt;-</span> data[[i]]</span>
<span id="cb436-3"><a href="scrape-table2.html#cb436-3" aria-hidden="true" tabindex="-1"></a>  temp        <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(temp)</span>
<span id="cb436-4"><a href="scrape-table2.html#cb436-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(temp) <span class="ot">&lt;-</span> column_names</span>
<span id="cb436-5"><a href="scrape-table2.html#cb436-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Running the above code runs our for loop successfully but doesn’t assign the output anywhere. It just runs one iteration, assigns it to <em>temp</em>, and then overwrites <em>temp</em> for the next iteration. What we really want is a single object which will end up having every single row of data from every page in one data.frame. To do this we make an empty data.frame by saying some object gets <code>data.frame()</code> without anything in the parentheses. And then for every iteration of the loop we add the data that is in temp to this empty data.frame (which will soon fill up with data).</p>
<p>By creating an empty data.frame at the start we avoid having to name any of the column names or say how many rows of data there will be. To add data to this data.frame each iteration we will use the function <code>bind_rows()</code> from <code>dplyr</code> which stacks data sets on top of each other. Let’s first look at a simple example of this before including it in our for loop. To use <code>bind_rows()</code> we put two (or more) data.frames as the parameters and it will return a single data set with all rows stacked together. Let’s create two data.frames that each have the rows of <code>head(mtcars)</code> as a demonstration.</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb437-1"><a href="scrape-table2.html#cb437-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb437-2"><a href="scrape-table2.html#cb437-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb437-3"><a href="scrape-table2.html#cb437-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Attaching package: &#39;dplyr&#39;</span></span>
<span id="cb437-4"><a href="scrape-table2.html#cb437-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The following objects are masked from &#39;package:stats&#39;:</span></span>
<span id="cb437-5"><a href="scrape-table2.html#cb437-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb437-6"><a href="scrape-table2.html#cb437-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     filter, lag</span></span>
<span id="cb437-7"><a href="scrape-table2.html#cb437-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The following objects are masked from &#39;package:base&#39;:</span></span>
<span id="cb437-8"><a href="scrape-table2.html#cb437-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb437-9"><a href="scrape-table2.html#cb437-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span id="cb437-10"><a href="scrape-table2.html#cb437-10" aria-hidden="true" tabindex="-1"></a>example1 <span class="ot">&lt;-</span> <span class="fu">head</span>(mtcars)</span>
<span id="cb437-11"><a href="scrape-table2.html#cb437-11" aria-hidden="true" tabindex="-1"></a>example2 <span class="ot">&lt;-</span> <span class="fu">head</span>(mtcars)</span>
<span id="cb437-12"><a href="scrape-table2.html#cb437-12" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(example1, example2)</span>
<span id="cb437-13"><a href="scrape-table2.html#cb437-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                         mpg cyl disp  hp drat    wt  qsec vs am gear carb</span></span>
<span id="cb437-14"><a href="scrape-table2.html#cb437-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Mazda RX4...1          21.0   6  160 110 3.90 2.620 16.46  0  1    4    4</span></span>
<span id="cb437-15"><a href="scrape-table2.html#cb437-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Mazda RX4 Wag...2      21.0   6  160 110 3.90 2.875 17.02  0  1    4    4</span></span>
<span id="cb437-16"><a href="scrape-table2.html#cb437-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Datsun 710...3         22.8   4  108  93 3.85 2.320 18.61  1  1    4    1</span></span>
<span id="cb437-17"><a href="scrape-table2.html#cb437-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Hornet 4 Drive...4     21.4   6  258 110 3.08 3.215 19.44  1  0    3    1</span></span>
<span id="cb437-18"><a href="scrape-table2.html#cb437-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Hornet Sportabout...5  18.7   8  360 175 3.15 3.440 17.02  0  0    3    2</span></span>
<span id="cb437-19"><a href="scrape-table2.html#cb437-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Valiant...6            18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</span></span>
<span id="cb437-20"><a href="scrape-table2.html#cb437-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Mazda RX4...7          21.0   6  160 110 3.90 2.620 16.46  0  1    4    4</span></span>
<span id="cb437-21"><a href="scrape-table2.html#cb437-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Mazda RX4 Wag...8      21.0   6  160 110 3.90 2.875 17.02  0  1    4    4</span></span>
<span id="cb437-22"><a href="scrape-table2.html#cb437-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Datsun 710...9         22.8   4  108  93 3.85 2.320 18.61  1  1    4    1</span></span>
<span id="cb437-23"><a href="scrape-table2.html#cb437-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Hornet 4 Drive...10    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1</span></span>
<span id="cb437-24"><a href="scrape-table2.html#cb437-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Hornet Sportabout...11 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2</span></span>
<span id="cb437-25"><a href="scrape-table2.html#cb437-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Valiant...12           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</span></span></code></pre></div>
<p>The data that is printed out has 12 rows and in this example the first six and the last six rows are identical. <code>bind_rows()</code> took the second object in the parentheses (<em>example2</em>) and stacked it right below the last row in <em>example1.</em> In this case the columns are already in the same order but if they weren’t, <code>bind_rows()</code> is smart enough to arrange the columns in the second object to be the same as the first object.</p>
<p>Now we can run our for loop and create a single data set with every row from our 9 pages of data. We start by creating our empty data.frame and we’ll call that <em>final</em>. At the end of our loop we say that <em>final</em> gets <code>bind_rows(final, temp)</code> meaning that temp is stacked to the bottom of <em>final</em> every time the loop runs. We’ll end this code chunk by looking at <code>head()</code> and <code>tail()</code> of <em>final</em> to be sure it worked correctly.</p>
<div class="sourceCode" id="cb438"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb438-1"><a href="scrape-table2.html#cb438-1" aria-hidden="true" tabindex="-1"></a>final <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb438-2"><a href="scrape-table2.html#cb438-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">14</span>, <span class="dv">16</span>, <span class="dv">18</span>)) {</span>
<span id="cb438-3"><a href="scrape-table2.html#cb438-3" aria-hidden="true" tabindex="-1"></a>  temp        <span class="ot">&lt;-</span> data[[i]]</span>
<span id="cb438-4"><a href="scrape-table2.html#cb438-4" aria-hidden="true" tabindex="-1"></a>  temp        <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(temp)</span>
<span id="cb438-5"><a href="scrape-table2.html#cb438-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(temp) <span class="ot">&lt;-</span> column_names</span>
<span id="cb438-6"><a href="scrape-table2.html#cb438-6" aria-hidden="true" tabindex="-1"></a>  final       <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(final, temp)</span>
<span id="cb438-7"><a href="scrape-table2.html#cb438-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb438-8"><a href="scrape-table2.html#cb438-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; New names:</span></span>
<span id="cb438-9"><a href="scrape-table2.html#cb438-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * NA -&gt; ...21</span></span>
<span id="cb438-10"><a href="scrape-table2.html#cb438-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(final)</span>
<span id="cb438-11"><a href="scrape-table2.html#cb438-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      county pretrial_felons conv_felons</span></span>
<span id="cb438-12"><a href="scrape-table2.html#cb438-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  Anderson              81          13</span></span>
<span id="cb438-13"><a href="scrape-table2.html#cb438-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   Andrews              23          11</span></span>
<span id="cb438-14"><a href="scrape-table2.html#cb438-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Angelina              79          35</span></span>
<span id="cb438-15"><a href="scrape-table2.html#cb438-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   Aransas              23          10</span></span>
<span id="cb438-16"><a href="scrape-table2.html#cb438-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5    Archer              12           3</span></span>
<span id="cb438-17"><a href="scrape-table2.html#cb438-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Armstrong               1           1</span></span>
<span id="cb438-18"><a href="scrape-table2.html#cb438-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   conv_felons_sentence_to_county_jail_time parole_violators</span></span>
<span id="cb438-19"><a href="scrape-table2.html#cb438-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1                                        3                1</span></span>
<span id="cb438-20"><a href="scrape-table2.html#cb438-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2                                        0                2</span></span>
<span id="cb438-21"><a href="scrape-table2.html#cb438-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3                                        4                6</span></span>
<span id="cb438-22"><a href="scrape-table2.html#cb438-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4                                        0                2</span></span>
<span id="cb438-23"><a href="scrape-table2.html#cb438-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5                                        0                0</span></span>
<span id="cb438-24"><a href="scrape-table2.html#cb438-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6                                        0                0</span></span>
<span id="cb438-25"><a href="scrape-table2.html#cb438-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   parole_violators_with_a_new_charge pretrial_misd conv_misd bench_warrants</span></span>
<span id="cb438-26"><a href="scrape-table2.html#cb438-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1                                  5            12         1              0</span></span>
<span id="cb438-27"><a href="scrape-table2.html#cb438-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2                                  4            11         0              0</span></span>
<span id="cb438-28"><a href="scrape-table2.html#cb438-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3                                  0            14         0              3</span></span>
<span id="cb438-29"><a href="scrape-table2.html#cb438-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4                                  6             7         0              6</span></span>
<span id="cb438-30"><a href="scrape-table2.html#cb438-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5                                  1             3         1              1</span></span>
<span id="cb438-31"><a href="scrape-table2.html#cb438-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6                                  0             0         0              0</span></span>
<span id="cb438-32"><a href="scrape-table2.html#cb438-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   federal pretrial_sjf conv_sjf_sentenced_to_co_jail_time</span></span>
<span id="cb438-33"><a href="scrape-table2.html#cb438-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1       0           21                                  0</span></span>
<span id="cb438-34"><a href="scrape-table2.html#cb438-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2       0            5                                  0</span></span>
<span id="cb438-35"><a href="scrape-table2.html#cb438-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3       0           23                                  0</span></span>
<span id="cb438-36"><a href="scrape-table2.html#cb438-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4      73            2                                  0</span></span>
<span id="cb438-37"><a href="scrape-table2.html#cb438-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5       2            5                                  0</span></span>
<span id="cb438-38"><a href="scrape-table2.html#cb438-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6       0            0                                  0</span></span>
<span id="cb438-39"><a href="scrape-table2.html#cb438-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   conv_sjf_sentence_to_state_jail total_others total_local total_contract</span></span>
<span id="cb438-40"><a href="scrape-table2.html#cb438-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1                               1            0         138              0</span></span>
<span id="cb438-41"><a href="scrape-table2.html#cb438-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2                               6            0          35              0</span></span>
<span id="cb438-42"><a href="scrape-table2.html#cb438-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3                               3            1         168              0</span></span>
<span id="cb438-43"><a href="scrape-table2.html#cb438-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4                               0            0          56             73</span></span>
<span id="cb438-44"><a href="scrape-table2.html#cb438-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5                               0            1          26              9</span></span>
<span id="cb438-45"><a href="scrape-table2.html#cb438-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6                               0            0           2              0</span></span>
<span id="cb438-46"><a href="scrape-table2.html#cb438-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   total_population total_capacity percent_of_capacity available_beds ...21</span></span>
<span id="cb438-47"><a href="scrape-table2.html#cb438-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1              138            300               46.00            132  &lt;NA&gt;</span></span>
<span id="cb438-48"><a href="scrape-table2.html#cb438-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2               35             50               70.00             10  &lt;NA&gt;</span></span>
<span id="cb438-49"><a href="scrape-table2.html#cb438-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3              168            279               60.22             83  &lt;NA&gt;</span></span>
<span id="cb438-50"><a href="scrape-table2.html#cb438-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4              129            212               60.85             62  &lt;NA&gt;</span></span>
<span id="cb438-51"><a href="scrape-table2.html#cb438-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5               35             48               72.92              0  &lt;NA&gt;</span></span>
<span id="cb438-52"><a href="scrape-table2.html#cb438-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6                2              8               25.00              0  &lt;NA&gt;</span></span>
<span id="cb438-53"><a href="scrape-table2.html#cb438-53" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(final)</span>
<span id="cb438-54"><a href="scrape-table2.html#cb438-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         county pretrial_felons conv_felons</span></span>
<span id="cb438-55"><a href="scrape-table2.html#cb438-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 264     Yoakum                           6</span></span>
<span id="cb438-56"><a href="scrape-table2.html#cb438-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 265      Young                          19</span></span>
<span id="cb438-57"><a href="scrape-table2.html#cb438-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 266     Zapata                          15</span></span>
<span id="cb438-58"><a href="scrape-table2.html#cb438-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 267     Zavala                          16</span></span>
<span id="cb438-59"><a href="scrape-table2.html#cb438-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 268 Zavala (P)                           0</span></span>
<span id="cb438-60"><a href="scrape-table2.html#cb438-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 269                      Total       29173</span></span>
<span id="cb438-61"><a href="scrape-table2.html#cb438-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     conv_felons_sentence_to_county_jail_time parole_violators</span></span>
<span id="cb438-62"><a href="scrape-table2.html#cb438-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 264                                        1                0</span></span>
<span id="cb438-63"><a href="scrape-table2.html#cb438-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 265                                        5                0</span></span>
<span id="cb438-64"><a href="scrape-table2.html#cb438-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 266                                        1                0</span></span>
<span id="cb438-65"><a href="scrape-table2.html#cb438-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 267                                        0                0</span></span>
<span id="cb438-66"><a href="scrape-table2.html#cb438-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 268                                        0                0</span></span>
<span id="cb438-67"><a href="scrape-table2.html#cb438-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 269                                     5814              383</span></span>
<span id="cb438-68"><a href="scrape-table2.html#cb438-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     parole_violators_with_a_new_charge pretrial_misd conv_misd bench_warrants</span></span>
<span id="cb438-69"><a href="scrape-table2.html#cb438-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 264                                  0             0         1              0</span></span>
<span id="cb438-70"><a href="scrape-table2.html#cb438-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 265                                  5             1         3              1</span></span>
<span id="cb438-71"><a href="scrape-table2.html#cb438-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 266                                  0             0         5              0</span></span>
<span id="cb438-72"><a href="scrape-table2.html#cb438-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 267                                  3             0         4              0</span></span>
<span id="cb438-73"><a href="scrape-table2.html#cb438-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 268                                  0             0         0              0</span></span>
<span id="cb438-74"><a href="scrape-table2.html#cb438-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 269                               2700          3180      3370            415</span></span>
<span id="cb438-75"><a href="scrape-table2.html#cb438-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     federal pretrial_sjf conv_sjf_sentenced_to_co_jail_time</span></span>
<span id="cb438-76"><a href="scrape-table2.html#cb438-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 264       0            0                                  2</span></span>
<span id="cb438-77"><a href="scrape-table2.html#cb438-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 265       0            0                                  6</span></span>
<span id="cb438-78"><a href="scrape-table2.html#cb438-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 266       1           58                                  5</span></span>
<span id="cb438-79"><a href="scrape-table2.html#cb438-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 267       0            0                                  0</span></span>
<span id="cb438-80"><a href="scrape-table2.html#cb438-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 268       0            0                                  0</span></span>
<span id="cb438-81"><a href="scrape-table2.html#cb438-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 269     816         4354                               4195</span></span>
<span id="cb438-82"><a href="scrape-table2.html#cb438-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     conv_sjf_sentence_to_state_jail total_others total_local total_contract</span></span>
<span id="cb438-83"><a href="scrape-table2.html#cb438-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 264                               0            0           0              9</span></span>
<span id="cb438-84"><a href="scrape-table2.html#cb438-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 265                               1            0           0             41</span></span>
<span id="cb438-85"><a href="scrape-table2.html#cb438-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 266                               0            0           0             27</span></span>
<span id="cb438-86"><a href="scrape-table2.html#cb438-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 267                               0            0           0             22</span></span>
<span id="cb438-87"><a href="scrape-table2.html#cb438-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 268                               0            0           0              0</span></span>
<span id="cb438-88"><a href="scrape-table2.html#cb438-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 269                             161         1186        2790          53017</span></span>
<span id="cb438-89"><a href="scrape-table2.html#cb438-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     total_population total_capacity percent_of_capacity available_beds ...21</span></span>
<span id="cb438-90"><a href="scrape-table2.html#cb438-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 264               21             30                  48          62.50    13</span></span>
<span id="cb438-91"><a href="scrape-table2.html#cb438-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 265                2             43                 144          29.86    87</span></span>
<span id="cb438-92"><a href="scrape-table2.html#cb438-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 266               58             85                 240          35.42   131</span></span>
<span id="cb438-93"><a href="scrape-table2.html#cb438-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 267               17             39                  66          59.09    20</span></span>
<span id="cb438-94"><a href="scrape-table2.html#cb438-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 268                0              0                   0                    0</span></span>
<span id="cb438-95"><a href="scrape-table2.html#cb438-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 269             6696          59713               93991          63.53 24681</span></span></code></pre></div>
<p>If you look closely at the final several rows you’ll see that there is an extra column, and that the second column (“pretrial_felons”) is blank for all of these rows. That’s because when scraping the final page <code>tabulizer</code> incorrectly added an empty column between the first and second column, meaning that all columns to the right of the first column shifted once to the right. So all the values in “pretrial_felons” are actually in “conv_felons” and so on. The last column now is named “…21” since it is the 21st column and that name was made automatically as our <em>column_names</em> object only has 20 values. This can occasionally happen, even if seemingly identical formatted pages like we have here. To fix something like this, we’d want to check every column and delete any that had all values be empty strings. I leave solving this to you. While it may be a challenge, at this point in the book you have the skills to do it.</p>
</div>
<div id="pregnant-women-incarcerated" class="section level2" number="24.2">
<h2><span class="header-section-number">24.2</span> Pregnant women incarcerated</h2>
<p>We’ll finish this chapter with another example of data from Texas - this time using data on the number of pregnant women booked in Texas county jails. This data has a unique challenge, it has 10 columns but we want to make it have only 2. In the data (shown below), it starts with a column of county names, then a column of the number of pregnant women booked into that county’s jail. Next is another column of county names - instead of continuing onto another page, this data just makes new columns when it runs out of room. We’ll scrape this PDF using <code>tabulizer()</code> and then work to fix this multiple-column issue.</p>
<p><img src="images/pregnant.PNG" width="90%"  style="display: block; margin: auto;" /></p>
<p>Notice that this data doesn’t even have column names so we’ll have to make them ourselves. This is always a bit risky as maybe next month the table will change and if we hard-code any column names, we’ll either have code that breaks or - much more dangerous - mislabel the columns without noticing. In cases like this we have no other choice, but if you intend to scrape PDFs that regularly update (such as when a new month of data comes out) be careful about situations like this.</p>
<p>We’ll start scraping this PDF using the standard <code>extract_tables()</code> function without any parameters other than the file name. This is usually a good start since it’s quick and often works - and if it doesn’t, we haven’t lost much time checking. Since we know <code>extract_tables()</code> will return a list by default, we’ll assign the result of <code>extract_tables()</code> to an object called <code>data</code> and then just pull the first element (the only element if this scrape works properly) from that list. And to see how the scraping went, we’ll look at the <code>head()</code> of the data.</p>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb439-1"><a href="scrape-table2.html#cb439-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">extract_tables</span>(<span class="at">file =</span> <span class="st">&quot;data/PregnantFemaleReportingCurrent.pdf&quot;</span>)</span>
<span id="cb439-2"><a href="scrape-table2.html#cb439-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data[[<span class="dv">1</span>]]</span>
<span id="cb439-3"><a href="scrape-table2.html#cb439-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span>
<span id="cb439-4"><a href="scrape-table2.html#cb439-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]        [,2] [,3]          [,4] [,5]         [,6] [,7]          [,8]</span></span>
<span id="cb439-5"><a href="scrape-table2.html#cb439-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;Anderson&quot;  &quot;0&quot;  &quot;Delta&quot;       &quot;0&quot;  &quot;Irion&quot;      &quot;0&quot;  &quot;Motley&quot;      &quot;0&quot; </span></span>
<span id="cb439-6"><a href="scrape-table2.html#cb439-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;Andrews&quot;   &quot;1&quot;  &quot;Denton&quot;      &quot;3&quot;  &quot;Jack&quot;       &quot;0&quot;  &quot;Nacogdoches&quot; &quot;2&quot; </span></span>
<span id="cb439-7"><a href="scrape-table2.html#cb439-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;Angelina&quot;  &quot;0&quot;  &quot;DeWitt&quot;      &quot;0&quot;  &quot;Jackson&quot;    &quot;1&quot;  &quot;Navarro&quot;     &quot;2&quot; </span></span>
<span id="cb439-8"><a href="scrape-table2.html#cb439-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;Aransas&quot;   &quot;0&quot;  &quot;Dickens&quot;     &quot;0&quot;  &quot;Jasper&quot;     &quot;0&quot;  &quot;Newton&quot;      &quot;0&quot; </span></span>
<span id="cb439-9"><a href="scrape-table2.html#cb439-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;Archer&quot;    &quot;1&quot;  &quot;Dickens (P)&quot; &quot;0&quot;  &quot;Jeff Davis&quot; &quot;0&quot;  &quot;Newton (P)&quot;  &quot;0&quot; </span></span>
<span id="cb439-10"><a href="scrape-table2.html#cb439-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;Armstrong&quot; &quot;0&quot;  &quot;Dimmit&quot;      &quot;0&quot;  &quot;Jefferson&quot;  &quot;0&quot;  &quot;Nolan&quot;       &quot;2&quot; </span></span>
<span id="cb439-11"><a href="scrape-table2.html#cb439-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,9]            [,10]</span></span>
<span id="cb439-12"><a href="scrape-table2.html#cb439-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;Upton&quot;         &quot;0&quot;  </span></span>
<span id="cb439-13"><a href="scrape-table2.html#cb439-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;Uvalde&quot;        &quot;0&quot;  </span></span>
<span id="cb439-14"><a href="scrape-table2.html#cb439-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;Val Verde (P)&quot; &quot;1&quot;  </span></span>
<span id="cb439-15"><a href="scrape-table2.html#cb439-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;Van Zandt&quot;     &quot;0&quot;  </span></span>
<span id="cb439-16"><a href="scrape-table2.html#cb439-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;Victoria&quot;      &quot;1&quot;  </span></span>
<span id="cb439-17"><a href="scrape-table2.html#cb439-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;Walker&quot;        &quot;1&quot;</span></span></code></pre></div>
<p>If we check the output from the above code to the PDF, we can see that it worked. Every column in the PDF is in our output and the values were scraped correctly. This is great! Now we want to make two columns - “county” and “pregnant_females_booked” (or whatever you’d like to call it) - from these 10. As usual with R, there are a few ways we can do this. We’ll just do this in two different ways.</p>
<p>First, since there are only 10 columns, we can just do it manually. We can use square bracket <code>[]</code> notation to grab specific columns using the column number (since the data is a matrix and not a data.frame we can’t use dollar sign notation even if we wanted to). We can see from the PDF that the county columns are columns 1, 3, 5, 7, and 9. So can use a vector of numbers to get that <code>c(1, 3, 5, 7, 9)</code>.</p>
<div class="sourceCode" id="cb440"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb440-1"><a href="scrape-table2.html#cb440-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data[, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)])</span>
<span id="cb440-2"><a href="scrape-table2.html#cb440-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1]        [,2]          [,3]         [,4]          [,5]           </span></span>
<span id="cb440-3"><a href="scrape-table2.html#cb440-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;Anderson&quot;  &quot;Delta&quot;       &quot;Irion&quot;      &quot;Motley&quot;      &quot;Upton&quot;        </span></span>
<span id="cb440-4"><a href="scrape-table2.html#cb440-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;Andrews&quot;   &quot;Denton&quot;      &quot;Jack&quot;       &quot;Nacogdoches&quot; &quot;Uvalde&quot;       </span></span>
<span id="cb440-5"><a href="scrape-table2.html#cb440-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;Angelina&quot;  &quot;DeWitt&quot;      &quot;Jackson&quot;    &quot;Navarro&quot;     &quot;Val Verde (P)&quot;</span></span>
<span id="cb440-6"><a href="scrape-table2.html#cb440-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;Aransas&quot;   &quot;Dickens&quot;     &quot;Jasper&quot;     &quot;Newton&quot;      &quot;Van Zandt&quot;    </span></span>
<span id="cb440-7"><a href="scrape-table2.html#cb440-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;Archer&quot;    &quot;Dickens (P)&quot; &quot;Jeff Davis&quot; &quot;Newton (P)&quot;  &quot;Victoria&quot;     </span></span>
<span id="cb440-8"><a href="scrape-table2.html#cb440-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;Armstrong&quot; &quot;Dimmit&quot;      &quot;Jefferson&quot;  &quot;Nolan&quot;       &quot;Walker&quot;</span></span></code></pre></div>
<p>Now again for the “pregnant_females_booked” columns which are the even numbers.</p>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb441-1"><a href="scrape-table2.html#cb441-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data[, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>)])</span>
<span id="cb441-2"><a href="scrape-table2.html#cb441-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span id="cb441-3"><a href="scrape-table2.html#cb441-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot; </span></span>
<span id="cb441-4"><a href="scrape-table2.html#cb441-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] &quot;1&quot;  &quot;3&quot;  &quot;0&quot;  &quot;2&quot;  &quot;0&quot; </span></span>
<span id="cb441-5"><a href="scrape-table2.html#cb441-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] &quot;0&quot;  &quot;0&quot;  &quot;1&quot;  &quot;2&quot;  &quot;1&quot; </span></span>
<span id="cb441-6"><a href="scrape-table2.html#cb441-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot; </span></span>
<span id="cb441-7"><a href="scrape-table2.html#cb441-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] &quot;1&quot;  &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;1&quot; </span></span>
<span id="cb441-8"><a href="scrape-table2.html#cb441-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] &quot;0&quot;  &quot;0&quot;  &quot;0&quot;  &quot;2&quot;  &quot;1&quot;</span></span></code></pre></div>
<p>These results look right so we can make a data.frame using the <code>data.frame()</code> and having the input be from the above code - removing the <code>head()</code> function since we want every row. Conveniently, <code>data.frame()</code> allows us to name the columns we are making so we’ll name the two columns “county” and “pregnant_females_booked.” We’ll assign the result to an object that we’ll call <em>data</em> and check out the <code>head()</code> and <code>tail()</code> of that data.frame.</p>
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb442-1"><a href="scrape-table2.html#cb442-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">county =</span> <span class="fu">c</span>(data[, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)]),</span>
<span id="cb442-2"><a href="scrape-table2.html#cb442-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">pregnant_females_booked =</span> <span class="fu">c</span>(data[, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>)]))</span>
<span id="cb442-3"><a href="scrape-table2.html#cb442-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span>
<span id="cb442-4"><a href="scrape-table2.html#cb442-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      county pregnant_females_booked</span></span>
<span id="cb442-5"><a href="scrape-table2.html#cb442-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  Anderson                       0</span></span>
<span id="cb442-6"><a href="scrape-table2.html#cb442-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   Andrews                       1</span></span>
<span id="cb442-7"><a href="scrape-table2.html#cb442-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Angelina                       0</span></span>
<span id="cb442-8"><a href="scrape-table2.html#cb442-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   Aransas                       0</span></span>
<span id="cb442-9"><a href="scrape-table2.html#cb442-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5    Archer                       1</span></span>
<span id="cb442-10"><a href="scrape-table2.html#cb442-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Armstrong                       0</span></span>
<span id="cb442-11"><a href="scrape-table2.html#cb442-11" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(data)</span>
<span id="cb442-12"><a href="scrape-table2.html#cb442-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     county pregnant_females_booked</span></span>
<span id="cb442-13"><a href="scrape-table2.html#cb442-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 295                               </span></span>
<span id="cb442-14"><a href="scrape-table2.html#cb442-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 296                               </span></span>
<span id="cb442-15"><a href="scrape-table2.html#cb442-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 297                               </span></span>
<span id="cb442-16"><a href="scrape-table2.html#cb442-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 298                               </span></span>
<span id="cb442-17"><a href="scrape-table2.html#cb442-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 299                               </span></span>
<span id="cb442-18"><a href="scrape-table2.html#cb442-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 300</span></span></code></pre></div>
<p>These results look good! We now have only two columns and the first six rows (from <code>head()</code>) look right. Why are the last six rows all empty? Look back at the PDF. The final two columns are shorter than the others, so <code>extract_tables()</code> interprets them as empty strings. We can subset those away using a conditional statement to remove any row with an empty string in either column. Since we know that if there’s an empty string in one of the columns it will also be there in the other, we only need to run this once.</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb443-1"><a href="scrape-table2.html#cb443-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data[data<span class="sc">$</span>county <span class="sc">!=</span> <span class="st">&quot;&quot;</span>, ]</span>
<span id="cb443-2"><a href="scrape-table2.html#cb443-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span>
<span id="cb443-3"><a href="scrape-table2.html#cb443-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      county pregnant_females_booked</span></span>
<span id="cb443-4"><a href="scrape-table2.html#cb443-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  Anderson                       0</span></span>
<span id="cb443-5"><a href="scrape-table2.html#cb443-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   Andrews                       1</span></span>
<span id="cb443-6"><a href="scrape-table2.html#cb443-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Angelina                       0</span></span>
<span id="cb443-7"><a href="scrape-table2.html#cb443-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   Aransas                       0</span></span>
<span id="cb443-8"><a href="scrape-table2.html#cb443-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5    Archer                       1</span></span>
<span id="cb443-9"><a href="scrape-table2.html#cb443-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Armstrong                       0</span></span>
<span id="cb443-10"><a href="scrape-table2.html#cb443-10" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(data)</span>
<span id="cb443-11"><a href="scrape-table2.html#cb443-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         county pregnant_females_booked</span></span>
<span id="cb443-12"><a href="scrape-table2.html#cb443-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 260       Wood                       0</span></span>
<span id="cb443-13"><a href="scrape-table2.html#cb443-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 261     Yoakum                       0</span></span>
<span id="cb443-14"><a href="scrape-table2.html#cb443-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 262      Young                       0</span></span>
<span id="cb443-15"><a href="scrape-table2.html#cb443-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 263     Zapata                       0</span></span>
<span id="cb443-16"><a href="scrape-table2.html#cb443-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 264     Zavala                       0</span></span>
<span id="cb443-17"><a href="scrape-table2.html#cb443-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 265 Zavala (P)                       0</span></span></code></pre></div>
<p>Now the results from <code>tail()</code> look right.</p>
<p>We can now use the second method which will use logical values to only keep odd or even columns (as the columns we want are conveniently all odd or all even columns). First, I’m rerunning the code to scrape the PDF since now our <em>data</em> data set is already cleaned from above.</p>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb444-1"><a href="scrape-table2.html#cb444-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">extract_tables</span>(<span class="at">file =</span> <span class="st">&quot;data/PregnantFemaleReportingCurrent.pdf&quot;</span>)</span>
<span id="cb444-2"><a href="scrape-table2.html#cb444-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data[[<span class="dv">1</span>]]</span></code></pre></div>
<p>We’ll use a toy example now with a vector of numbers from 1 to 10 <code>1:10</code> which we can call <em>x</em>.</p>
<div class="sourceCode" id="cb445"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb445-1"><a href="scrape-table2.html#cb445-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb445-2"><a href="scrape-table2.html#cb445-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb445-3"><a href="scrape-table2.html#cb445-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>Now say we want every value of x and want to use logical values (also called Booleans) to get it. We need a vector of 10 values since we’d need one for every element in <em>x</em>. Specifically, we’d be using square bracket <code>[]</code> notation to subset (in this case not really a true subset since we’d return all the original values) and write ten TRUEs in the square brackets <code>[]</code>.</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb446-1"><a href="scrape-table2.html#cb446-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)]</span>
<span id="cb446-2"><a href="scrape-table2.html#cb446-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>If you’re reading the code carefully, you might have notices that I only wrote nine TRUE values. Since R was expecting 10 values, when I only gave it nine, it started again from the beginning and used the first value in place of the expected tenth value. If we only wrote one TRUE value, R would just repeat that all 10 times.</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb447-1"><a href="scrape-table2.html#cb447-1" aria-hidden="true" tabindex="-1"></a>x[<span class="cn">TRUE</span>]</span>
<span id="cb447-2"><a href="scrape-table2.html#cb447-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>What happens when the value isn’t always TRUE? It’ll recycle it the exact same way. Let’s try using now a vector <code>c(TRUE, FALSE)</code>.</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb448-1"><a href="scrape-table2.html#cb448-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>)]</span>
<span id="cb448-2"><a href="scrape-table2.html#cb448-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 3 5 7 9</span></span></code></pre></div>
<p>It returns only the odd numbers. That’s because the first value in our vector is TRUE so it returns the first value of <em>x</em> which is 1. The next value is FALSE so it does not return the second value of <em>x</em> which is 2. R then “recycles” our vector and uses the first value in our vector (TRUE) to interpret how to subset the third value of <em>x</em>. Since it’s TRUE, it returns 3. But now the value for 4 is FALSE so it doesn’t return it. The process repeats again until the end of the subset. Since every other value is returned, it returns only the odd numbers.</p>
<p>We can use R’s method of “recycling” a vector that is shorter than it expects to solve our pregnant females booked issue. Indeed we can use this exact <code>c(TRUE, FALSE)</code> vector to select only the odd columns. Reversing it to <code>c(FALSE, TRUE)</code> gives us only the even columns.</p>
<p>So we’ll copy over the code that made the data.frame last time and change the <code>c(data[, c(1, 3, 5, 7, 9)]</code> to <code>c(data[, c(TRUE, FALSE)])</code> and the <code>c(data[, c(2, 4, 6, 8, 10)])</code> to <code>c(data[, c(FALSE, TRUE)])</code>. Since the issue of empty strings is still there, we’ll reuse the <code>data &lt;- data[data$county != "", ]</code> we made above to fix it.</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb449-1"><a href="scrape-table2.html#cb449-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">county =</span> <span class="fu">c</span>(data[, <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>)]),</span>
<span id="cb449-2"><a href="scrape-table2.html#cb449-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">pregnant_females_booked =</span> <span class="fu">c</span>(data[, <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>)]))</span>
<span id="cb449-3"><a href="scrape-table2.html#cb449-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data[data<span class="sc">$</span>county <span class="sc">!=</span> <span class="st">&quot;&quot;</span>, ]</span>
<span id="cb449-4"><a href="scrape-table2.html#cb449-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span>
<span id="cb449-5"><a href="scrape-table2.html#cb449-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      county pregnant_females_booked</span></span>
<span id="cb449-6"><a href="scrape-table2.html#cb449-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  Anderson                       0</span></span>
<span id="cb449-7"><a href="scrape-table2.html#cb449-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   Andrews                       1</span></span>
<span id="cb449-8"><a href="scrape-table2.html#cb449-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  Angelina                       0</span></span>
<span id="cb449-9"><a href="scrape-table2.html#cb449-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   Aransas                       0</span></span>
<span id="cb449-10"><a href="scrape-table2.html#cb449-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5    Archer                       1</span></span>
<span id="cb449-11"><a href="scrape-table2.html#cb449-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Armstrong                       0</span></span>
<span id="cb449-12"><a href="scrape-table2.html#cb449-12" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(data)</span>
<span id="cb449-13"><a href="scrape-table2.html#cb449-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         county pregnant_females_booked</span></span>
<span id="cb449-14"><a href="scrape-table2.html#cb449-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 260       Wood                       0</span></span>
<span id="cb449-15"><a href="scrape-table2.html#cb449-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 261     Yoakum                       0</span></span>
<span id="cb449-16"><a href="scrape-table2.html#cb449-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 262      Young                       0</span></span>
<span id="cb449-17"><a href="scrape-table2.html#cb449-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 263     Zapata                       0</span></span>
<span id="cb449-18"><a href="scrape-table2.html#cb449-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 264     Zavala                       0</span></span>
<span id="cb449-19"><a href="scrape-table2.html#cb449-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 265 Zavala (P)                       0</span></span></code></pre></div>
</div>
<div id="making-pdf-scraped-data-available-to-others" class="section level2" number="24.3">
<h2><span class="header-section-number">24.3</span> Making PDF-scraped data available to others</h2>
<p>You’ve now seen two examples of scraping tables from PDFs using the <code>tabulizer()</code> package and a few more examples from the <code>pdftools</code> package in Chapter <a href="scrape-table.html#scrape-table">23</a>. These chapters should get you started on most PDF scraping, but every PDF is different so don’t rely on the functions alone to do all of the work. You’ll still likely have to spend some time cleaning up the data afterwards to make it usable.</p>
<p>Given the effort you’ll spend in scraping a PDF - and the relative rarity of this skill in criminology - I recommend that you help others by making your data available to the public. There are several current websites that let you do this but I recommend <a href="https://www.icpsr.umich.edu/web/pages/NACJD/index.html">openICPSR</a>. openICPSR lets people submit data for free (under a certain limit, 3GB per submission as of mid-2020 though you can ask for a limit increase) and has a number of features to make it easier to store and document the data. This includes a section to describe your data in text form, fill out tags to help people search for the data, and answer (optional) questions on how the data was collected and the geographic and temporal scope of the data.</p>
<p>If you decide to update the data, it’ll keep a link to your older submission so you essentially have versions of the data. When you update the data, I recommend having a section on the submission description describing the changes in each version. As an example of what it looks like when submitting data to openICPSR, below are a few images showing the submission page for one of my submissions that has many versions (and corresponding version notes).</p>
<p><img src="images/openICPSR1.PNG" width="90%"  style="display: block; margin: auto;" /></p>
<p><img src="images/openICPSR2.PNG" width="90%"  style="display: block; margin: auto;" /></p>
<p><img src="images/openICPSR3.PNG" width="90%"  style="display: block; margin: auto;" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="scrape-table.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="geocoding.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": true,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jacobkap/crimebythenumbers/edit/master/pdf-tables2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
