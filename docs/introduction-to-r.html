<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Introduction to R | R 4 Criminology</title>
  <meta name="description" content="Notes for learning R for Criminology." />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Introduction to R | R 4 Criminology" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://r4crim.com" />
  
  <meta property="og:description" content="Notes for learning R for Criminology." />
  <meta name="github-repo" content="jacobkap/r4crim" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Introduction to R | R 4 Criminology" />
  
  <meta name="twitter:description" content="Notes for learning R for Criminology." />
  

<meta name="author" content="Jacob Kaplan" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="about-the-author.html">
<link rel="next" href="introduction-to-rstudio.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.2/leaflet.js"></script>
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet" />
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet" />
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-99359926-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-99359926-6');
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Criminology</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#what-you-will-learn"><i class="fa fa-check"></i><b>0.1</b> What you will learn</a><ul>
<li class="chapter" data-level="0.1.1" data-path="index.html"><a href="index.html#skills"><i class="fa fa-check"></i><b>0.1.1</b> Skills</a></li>
<li class="chapter" data-level="0.1.2" data-path="index.html"><a href="index.html#data"><i class="fa fa-check"></i><b>0.1.2</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#what-you-wont-learn"><i class="fa fa-check"></i><b>0.2</b> What you won’t learn</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#simple-vs-easy"><i class="fa fa-check"></i>Simple vs Easy</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-contribute"><i class="fa fa-check"></i>How to Contribute</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#why-learn-to-program"><i class="fa fa-check"></i><b>1.1</b> Why learn to program?</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#scale"><i class="fa fa-check"></i><b>1.1.1</b> Scale</a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#reproducibility"><i class="fa fa-check"></i><b>1.1.2</b> Reproducibility</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#reading-data-into-r"><i class="fa fa-check"></i><b>1.2</b> Reading data into R</a><ul>
<li class="chapter" data-level="1.2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#setting-the-working-directory"><i class="fa fa-check"></i><b>1.2.1</b> Setting the working directory</a></li>
<li class="chapter" data-level="1.2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#loading-data"><i class="fa fa-check"></i><b>1.2.2</b> Loading data</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#first-steps-to-exploring-data"><i class="fa fa-check"></i><b>1.3</b> First steps to exploring data</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#finding-help-about-functions"><i class="fa fa-check"></i><b>1.4</b> Finding help about functions</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-rstudio.html"><a href="introduction-to-rstudio.html"><i class="fa fa-check"></i><b>2</b> Introduction to RStudio</a></li>
<li class="chapter" data-level="3" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html"><i class="fa fa-check"></i><b>3</b> Subsetting: Making big things small</a><ul>
<li class="chapter" data-level="3.1" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#select-specific-values"><i class="fa fa-check"></i><b>3.1</b> Select specific values</a></li>
<li class="chapter" data-level="3.2" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#assignment-values-to-objects-making-things"><i class="fa fa-check"></i><b>3.2</b> Assignment values to objects (Making “things”)</a></li>
<li class="chapter" data-level="3.3" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#logical-values-and-operations"><i class="fa fa-check"></i><b>3.3</b> Logical values and operations</a><ul>
<li class="chapter" data-level="3.3.1" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#matching-a-single-value"><i class="fa fa-check"></i><b>3.3.1</b> Matching a single value</a></li>
<li class="chapter" data-level="3.3.2" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#matching-multiple-values"><i class="fa fa-check"></i><b>3.3.2</b> Matching multiple values</a></li>
<li class="chapter" data-level="3.3.3" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#does-not-match"><i class="fa fa-check"></i><b>3.3.3</b> Does not match</a></li>
<li class="chapter" data-level="3.3.4" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#greater-than-or-less-than"><i class="fa fa-check"></i><b>3.3.4</b> Greater than or less than</a></li>
<li class="chapter" data-level="3.3.5" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#combining-conditional-statements---or-and"><i class="fa fa-check"></i><b>3.3.5</b> Combining conditional statements - or, and</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#subsetting-a-data.frame"><i class="fa fa-check"></i><b>3.4</b> Subsetting a data.frame</a></li>
<li class="chapter" data-level="3.5" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#select-a-specific-column"><i class="fa fa-check"></i><b>3.5</b> Select a specific column</a><ul>
<li class="chapter" data-level="3.5.1" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#select-specific-rows-in-a-data.frame"><i class="fa fa-check"></i><b>3.5.1</b> Select specific rows in a data.frame</a></li>
<li class="chapter" data-level="3.5.2" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#battleships"><i class="fa fa-check"></i><b>3.5.2</b> Battleships</a></li>
<li class="chapter" data-level="3.5.3" data-path="subsetting-making-big-things-small.html"><a href="subsetting-making-big-things-small.html#subset-colorado-data"><i class="fa fa-check"></i><b>3.5.3</b> Subset Colorado data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>4</b> Exploratory data analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#summary-and-table"><i class="fa fa-check"></i><b>4.1</b> Summary and Table</a></li>
<li class="chapter" data-level="4.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#graphing-data"><i class="fa fa-check"></i><b>4.2</b> Graphing Data</a></li>
<li class="chapter" data-level="4.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#aggregating-summaries-of-groups"><i class="fa fa-check"></i><b>4.3</b> Aggregating (summaries of groups)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>5</b> Dates and Times</a><ul>
<li class="chapter" data-level="5.1" data-path="dates-and-times.html"><a href="dates-and-times.html#why-do-dates-and-times-matter"><i class="fa fa-check"></i><b>5.1</b> Why do dates and times matter?</a></li>
<li class="chapter" data-level="5.2" data-path="dates-and-times.html"><a href="dates-and-times.html#lubridate"><i class="fa fa-check"></i><b>5.2</b> <code>lubridate</code></a></li>
<li class="chapter" data-level="5.3" data-path="dates-and-times.html"><a href="dates-and-times.html#working-with-dates"><i class="fa fa-check"></i><b>5.3</b> Working with dates</a></li>
<li class="chapter" data-level="5.4" data-path="dates-and-times.html"><a href="dates-and-times.html#chicago-crime-data"><i class="fa fa-check"></i><b>5.4</b> Chicago crime data</a><ul>
<li class="chapter" data-level="5.4.1" data-path="dates-and-times.html"><a href="dates-and-times.html#exercises"><i class="fa fa-check"></i><b>5.4.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="regular-expressions.html"><a href="regular-expressions.html"><i class="fa fa-check"></i><b>6</b> Regular Expressions</a><ul>
<li class="chapter" data-level="6.1" data-path="regular-expressions.html"><a href="regular-expressions.html#finding-patterns-in-text-with-grep"><i class="fa fa-check"></i><b>6.1</b> Finding patterns in text with <code>grep()</code></a></li>
<li class="chapter" data-level="6.2" data-path="regular-expressions.html"><a href="regular-expressions.html#finding-and-replacing-patterns-in-text-with-gsub"><i class="fa fa-check"></i><b>6.2</b> Finding and replacing patterns in text with <code>gsub()</code></a></li>
<li class="chapter" data-level="6.3" data-path="regular-expressions.html"><a href="regular-expressions.html#useful-special-characters"><i class="fa fa-check"></i><b>6.3</b> Useful special characters</a><ul>
<li class="chapter" data-level="6.3.1" data-path="regular-expressions.html"><a href="regular-expressions.html#multiple-characters"><i class="fa fa-check"></i><b>6.3.1</b> Multiple characters <code>[]</code></a></li>
<li class="chapter" data-level="6.3.2" data-path="regular-expressions.html"><a href="regular-expressions.html#n-many-of-previous-character-n"><i class="fa fa-check"></i><b>6.3.2</b> n-many of previous character <code>{n}</code></a></li>
<li class="chapter" data-level="6.3.3" data-path="regular-expressions.html"><a href="regular-expressions.html#n-many-to-m-many-of-previous-character-nm"><i class="fa fa-check"></i><b>6.3.3</b> n-many to m-many of previous character <code>{n,m}</code></a></li>
<li class="chapter" data-level="6.3.4" data-path="regular-expressions.html"><a href="regular-expressions.html#start-of-string-and-not"><i class="fa fa-check"></i><b>6.3.4</b> Start of string and “not” <code>^</code></a></li>
<li class="chapter" data-level="6.3.5" data-path="regular-expressions.html"><a href="regular-expressions.html#end-of-string"><i class="fa fa-check"></i><b>6.3.5</b> End of string <code>$</code></a></li>
<li class="chapter" data-level="6.3.6" data-path="regular-expressions.html"><a href="regular-expressions.html#anything-."><i class="fa fa-check"></i><b>6.3.6</b> Anything <code>.</code></a></li>
<li class="chapter" data-level="6.3.7" data-path="regular-expressions.html"><a href="regular-expressions.html#one-or-more-of-previous"><i class="fa fa-check"></i><b>6.3.7</b> One or more of previous <code>+</code></a></li>
<li class="chapter" data-level="6.3.8" data-path="regular-expressions.html"><a href="regular-expressions.html#zero-or-more-of-previous"><i class="fa fa-check"></i><b>6.3.8</b> Zero or more of previous <code>*</code></a></li>
<li class="chapter" data-level="6.3.9" data-path="regular-expressions.html"><a href="regular-expressions.html#multiple-patterns"><i class="fa fa-check"></i><b>6.3.9</b> Multiple patterns <code>|</code></a></li>
<li class="chapter" data-level="6.3.10" data-path="regular-expressions.html"><a href="regular-expressions.html#parentheses"><i class="fa fa-check"></i><b>6.3.10</b> Parentheses <code>()</code></a></li>
<li class="chapter" data-level="6.3.11" data-path="regular-expressions.html"><a href="regular-expressions.html#optional-text"><i class="fa fa-check"></i><b>6.3.11</b> Optional text <code>?</code></a></li>
<li class="chapter" data-level="6.3.12" data-path="regular-expressions.html"><a href="regular-expressions.html#back-referencing"><i class="fa fa-check"></i><b>6.3.12</b> Back-referencing <code>()</code></a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="regular-expressions.html"><a href="regular-expressions.html#changing-capitalization"><i class="fa fa-check"></i><b>6.4</b> Changing capitalization</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html"><i class="fa fa-check"></i><b>7</b> Webscraping with <code>rvest</code></a><ul>
<li class="chapter" data-level="7.1" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#scraping-one-page"><i class="fa fa-check"></i><b>7.1</b> Scraping one page</a></li>
<li class="chapter" data-level="7.2" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#cleaning-the-webscraped-data"><i class="fa fa-check"></i><b>7.2</b> Cleaning the webscraped data</a></li>
<li class="chapter" data-level="7.3" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#fixing-names"><i class="fa fa-check"></i><b>7.3</b> Fixing names</a><ul>
<li class="chapter" data-level="7.3.1" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#exercises-1"><i class="fa fa-check"></i><b>7.3.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>8</b> Functions</a><ul>
<li class="chapter" data-level="8.1" data-path="functions.html"><a href="functions.html#a-simple-function"><i class="fa fa-check"></i><b>8.1</b> A simple function</a></li>
<li class="chapter" data-level="8.2" data-path="functions.html"><a href="functions.html#adding-parameters"><i class="fa fa-check"></i><b>8.2</b> Adding parameters</a></li>
<li class="chapter" data-level="8.3" data-path="functions.html"><a href="functions.html#making-a-function-to-scrape-movie-data"><i class="fa fa-check"></i><b>8.3</b> Making a function to scrape movie data</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>9</b> For loops</a><ul>
<li class="chapter" data-level="9.1" data-path="for-loops.html"><a href="for-loops.html#basic-for-loops"><i class="fa fa-check"></i><b>9.1</b> Basic for loops</a></li>
<li class="chapter" data-level="9.2" data-path="for-loops.html"><a href="for-loops.html#scraping-multiple-days-of-movie-data"><i class="fa fa-check"></i><b>9.2</b> Scraping multiple days of movie data</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html"><i class="fa fa-check"></i><b>10</b> Reading and Writing Data</a><ul>
<li class="chapter" data-level="10.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#reading-data-into-r-1"><i class="fa fa-check"></i><b>10.1</b> Reading Data into R</a><ul>
<li class="chapter" data-level="10.1.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#r-files"><i class="fa fa-check"></i><b>10.1.1</b> R files</a></li>
<li class="chapter" data-level="10.1.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#excel-files"><i class="fa fa-check"></i><b>10.1.2</b> Excel files</a></li>
<li class="chapter" data-level="10.1.3" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#stata-files"><i class="fa fa-check"></i><b>10.1.3</b> Stata files</a></li>
<li class="chapter" data-level="10.1.4" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#sas-files"><i class="fa fa-check"></i><b>10.1.4</b> SAS files</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#writing-data"><i class="fa fa-check"></i><b>10.2</b> Writing Data</a><ul>
<li class="chapter" data-level="10.2.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#r-files-1"><i class="fa fa-check"></i><b>10.2.1</b> R files</a></li>
<li class="chapter" data-level="10.2.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#excel-files-1"><i class="fa fa-check"></i><b>10.2.2</b> Excel files</a></li>
<li class="chapter" data-level="10.2.3" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#stata-files-1"><i class="fa fa-check"></i><b>10.2.3</b> Stata files</a></li>
<li class="chapter" data-level="10.2.4" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#sas-files-1"><i class="fa fa-check"></i><b>10.2.4</b> SAS files</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html"><i class="fa fa-check"></i><b>11</b> Scraping data from PDFs</a><ul>
<li class="chapter" data-level="11.1" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html#downloading-officer-involved-shooting-files"><i class="fa fa-check"></i><b>11.1</b> Downloading officer-involved Shooting Files</a></li>
<li class="chapter" data-level="11.2" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html#scraping-information-from-the-page"><i class="fa fa-check"></i><b>11.2</b> Scraping information from the page</a><ul>
<li class="chapter" data-level="11.2.1" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html#combining-the-data-sets"><i class="fa fa-check"></i><b>11.2.1</b> Combining the data sets</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html#extracting-data-from-pdfs"><i class="fa fa-check"></i><b>11.3</b> Extracting data from PDFs</a><ul>
<li class="chapter" data-level="11.3.1" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html#scraping-a-single-pdf"><i class="fa fa-check"></i><b>11.3.1</b> Scraping a single PDF</a></li>
<li class="chapter" data-level="11.3.2" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html#making-a-function"><i class="fa fa-check"></i><b>11.3.2</b> Making a function</a></li>
<li class="chapter" data-level="11.3.3" data-path="scraping-data-from-pdfs.html"><a href="scraping-data-from-pdfs.html#looping-through-every-pdf"><i class="fa fa-check"></i><b>11.3.3</b> Looping through every PDF</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="geocoding.html"><a href="geocoding.html"><i class="fa fa-check"></i><b>12</b> Geocoding</a><ul>
<li class="chapter" data-level="12.1" data-path="geocoding.html"><a href="geocoding.html#geocoding-a-single-address"><i class="fa fa-check"></i><b>12.1</b> Geocoding a single address</a></li>
<li class="chapter" data-level="12.2" data-path="geocoding.html"><a href="geocoding.html#making-a-function-1"><i class="fa fa-check"></i><b>12.2</b> Making a function</a></li>
<li class="chapter" data-level="12.3" data-path="geocoding.html"><a href="geocoding.html#geocoding-officer-shooting-locations"><i class="fa fa-check"></i><b>12.3</b> Geocoding officer shooting locations</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html"><i class="fa fa-check"></i><b>13</b> Graphing with <code>ggplot2</code></a><ul>
<li class="chapter" data-level="13.1" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#what-does-the-data-look-like"><i class="fa fa-check"></i><b>13.1</b> What does the data look like?</a><ul>
<li class="chapter" data-level="13.1.1" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#exercises-2"><i class="fa fa-check"></i><b>13.1.1</b> Exercises</a></li>
<li class="chapter" data-level="13.1.2" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#exercises-3"><i class="fa fa-check"></i><b>13.1.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#graphing-data-1"><i class="fa fa-check"></i><b>13.2</b> Graphing data</a></li>
<li class="chapter" data-level="13.3" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#time-series-plots"><i class="fa fa-check"></i><b>13.3</b> Time-Series Plots</a><ul>
<li class="chapter" data-level="13.3.1" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#exercises-4"><i class="fa fa-check"></i><b>13.3.1</b> Exercises</a></li>
<li class="chapter" data-level="13.3.2" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#exercises-5"><i class="fa fa-check"></i><b>13.3.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#should-we-trust-this-data"><i class="fa fa-check"></i><b>13.4</b> Should we trust this data?</a><ul>
<li class="chapter" data-level="13.4.1" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#exercises-6"><i class="fa fa-check"></i><b>13.4.1</b> Exercises</a></li>
<li class="chapter" data-level="13.4.2" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#exercises-7"><i class="fa fa-check"></i><b>13.4.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="graphing-with-ggplot2.html"><a href="graphing-with-ggplot2.html#color-blindness"><i class="fa fa-check"></i><b>13.5</b> Color blindness</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="hotspot-maps.html"><a href="hotspot-maps.html"><i class="fa fa-check"></i><b>14</b> Hotspot maps</a><ul>
<li class="chapter" data-level="14.1" data-path="hotspot-maps.html"><a href="hotspot-maps.html#a-simple-map"><i class="fa fa-check"></i><b>14.1</b> A simple map</a></li>
<li class="chapter" data-level="14.2" data-path="hotspot-maps.html"><a href="hotspot-maps.html#what-really-are-maps"><i class="fa fa-check"></i><b>14.2</b> What really are maps?</a></li>
<li class="chapter" data-level="14.3" data-path="hotspot-maps.html"><a href="hotspot-maps.html#making-a-hotspot-map"><i class="fa fa-check"></i><b>14.3</b> Making a hotspot map</a><ul>
<li class="chapter" data-level="14.3.1" data-path="hotspot-maps.html"><a href="hotspot-maps.html#colors"><i class="fa fa-check"></i><b>14.3.1</b> Colors</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="hotspot-maps.html"><a href="hotspot-maps.html#looping-through-each-year"><i class="fa fa-check"></i><b>14.4</b> Looping through each year</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="choropleth-maps.html"><a href="choropleth-maps.html"><i class="fa fa-check"></i><b>15</b> Choropleth Maps</a><ul>
<li class="chapter" data-level="15.1" data-path="choropleth-maps.html"><a href="choropleth-maps.html#spatial-joins"><i class="fa fa-check"></i><b>15.1</b> Spatial joins</a></li>
<li class="chapter" data-level="15.2" data-path="choropleth-maps.html"><a href="choropleth-maps.html#making-choropleth-maps"><i class="fa fa-check"></i><b>15.2</b> Making choropleth maps</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="interactive-maps.html"><a href="interactive-maps.html"><i class="fa fa-check"></i><b>16</b> Interactive Maps</a><ul>
<li class="chapter" data-level="16.1" data-path="interactive-maps.html"><a href="interactive-maps.html#why-do-interactive-graphs-matter"><i class="fa fa-check"></i><b>16.1</b> Why do interactive graphs matter?</a><ul>
<li class="chapter" data-level="16.1.1" data-path="interactive-maps.html"><a href="interactive-maps.html#understanding-your-data"><i class="fa fa-check"></i><b>16.1.1</b> Understanding your data</a></li>
<li class="chapter" data-level="16.1.2" data-path="interactive-maps.html"><a href="interactive-maps.html#police-departments-use-them"><i class="fa fa-check"></i><b>16.1.2</b> Police departments use them</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="interactive-maps.html"><a href="interactive-maps.html#making-the-interactive-map"><i class="fa fa-check"></i><b>16.2</b> Making the interactive map</a></li>
<li class="chapter" data-level="16.3" data-path="interactive-maps.html"><a href="interactive-maps.html#adding-popup-information"><i class="fa fa-check"></i><b>16.3</b> Adding popup information</a></li>
<li class="chapter" data-level="16.4" data-path="interactive-maps.html"><a href="interactive-maps.html#dealing-with-too-many-markers"><i class="fa fa-check"></i><b>16.4</b> Dealing with too many markers</a></li>
<li class="chapter" data-level="16.5" data-path="interactive-maps.html"><a href="interactive-maps.html#interactive-polygons"><i class="fa fa-check"></i><b>16.5</b> Interactive polygons</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="graphing-officer-involved-shootings.html"><a href="graphing-officer-involved-shootings.html"><i class="fa fa-check"></i><b>17</b> Graphing Officer-Involved Shootings</a><ul>
<li class="chapter" data-level="17.1" data-path="graphing-officer-involved-shootings.html"><a href="graphing-officer-involved-shootings.html#graphing-a-single-variable"><i class="fa fa-check"></i><b>17.1</b> Graphing a single variable</a><ul>
<li class="chapter" data-level="17.1.1" data-path="graphing-officer-involved-shootings.html"><a href="graphing-officer-involved-shootings.html#numeric-variable"><i class="fa fa-check"></i><b>17.1.1</b> Numeric variable</a></li>
<li class="chapter" data-level="17.1.2" data-path="graphing-officer-involved-shootings.html"><a href="graphing-officer-involved-shootings.html#categorical-variable"><i class="fa fa-check"></i><b>17.1.2</b> Categorical variable</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="graphing-officer-involved-shootings.html"><a href="graphing-officer-involved-shootings.html#time-series"><i class="fa fa-check"></i><b>17.2</b> Time Series</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="scraping-tables-from-pdfs.html"><a href="scraping-tables-from-pdfs.html"><i class="fa fa-check"></i><b>18</b> Scraping Tables from PDFs</a><ul>
<li class="chapter" data-level="18.1" data-path="scraping-tables-from-pdfs.html"><a href="scraping-tables-from-pdfs.html#scraping-the-first-table"><i class="fa fa-check"></i><b>18.1</b> Scraping the first table</a></li>
<li class="chapter" data-level="18.2" data-path="scraping-tables-from-pdfs.html"><a href="scraping-tables-from-pdfs.html#making-a-function-2"><i class="fa fa-check"></i><b>18.2</b> Making a function</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="uniform-crime-report-ucr-data.html"><a href="uniform-crime-report-ucr-data.html"><i class="fa fa-check"></i><b>19</b> Uniform Crime Report (UCR) Data</a><ul>
<li class="chapter" data-level="19.1" data-path="uniform-crime-report-ucr-data.html"><a href="uniform-crime-report-ucr-data.html#exploring-the-ucr-data"><i class="fa fa-check"></i><b>19.1</b> Exploring the UCR data</a></li>
<li class="chapter" data-level="19.2" data-path="uniform-crime-report-ucr-data.html"><a href="uniform-crime-report-ucr-data.html#finding-things-in-our-data"><i class="fa fa-check"></i><b>19.2</b> Finding things in our data</a></li>
<li class="chapter" data-level="19.3" data-path="uniform-crime-report-ucr-data.html"><a href="uniform-crime-report-ucr-data.html#manipulating-our-data"><i class="fa fa-check"></i><b>19.3</b> Manipulating our data</a><ul>
<li class="chapter" data-level="19.3.1" data-path="uniform-crime-report-ucr-data.html"><a href="uniform-crime-report-ucr-data.html#exercises-8"><i class="fa fa-check"></i><b>19.3.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="census-data-from-social-explorer.html"><a href="census-data-from-social-explorer.html"><i class="fa fa-check"></i><b>20</b> Census Data from Social Explorer</a><ul>
<li class="chapter" data-level="20.1" data-path="census-data-from-social-explorer.html"><a href="census-data-from-social-explorer.html#getting-census-data-from-social-explorer"><i class="fa fa-check"></i><b>20.1</b> Getting Census data from Social Explorer</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="census-data-from-ipums.html"><a href="census-data-from-ipums.html"><i class="fa fa-check"></i><b>21</b> Census Data from IPUMS</a><ul>
<li class="chapter" data-level="21.1" data-path="census-data-from-ipums.html"><a href="census-data-from-ipums.html#getting-ipums-data"><i class="fa fa-check"></i><b>21.1</b> Getting IPUMS data</a></li>
<li class="chapter" data-level="21.2" data-path="census-data-from-ipums.html"><a href="census-data-from-ipums.html#cleaning-the-data"><i class="fa fa-check"></i><b>21.2</b> Cleaning the data</a></li>
<li class="chapter" data-level="21.3" data-path="census-data-from-ipums.html"><a href="census-data-from-ipums.html#aggregating-the-data"><i class="fa fa-check"></i><b>21.3</b> Aggregating the data</a></li>
<li class="chapter" data-level="21.4" data-path="census-data-from-ipums.html"><a href="census-data-from-ipums.html#graphing-the-data"><i class="fa fa-check"></i><b>21.4</b> Graphing the data</a></li>
<li class="chapter" data-level="21.5" data-path="census-data-from-ipums.html"><a href="census-data-from-ipums.html#mapping-the-data"><i class="fa fa-check"></i><b>21.5</b> Mapping the data</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="national-incident-based-reporting-system-nibrs-data.html"><a href="national-incident-based-reporting-system-nibrs-data.html"><i class="fa fa-check"></i><b>22</b> National Incident-Based Reporting System (NIBRS) Data</a><ul>
<li class="chapter" data-level="22.1" data-path="national-incident-based-reporting-system-nibrs-data.html"><a href="national-incident-based-reporting-system-nibrs-data.html#downloading-the-data"><i class="fa fa-check"></i><b>22.1</b> Downloading the data</a></li>
<li class="chapter" data-level="22.2" data-path="national-incident-based-reporting-system-nibrs-data.html"><a href="national-incident-based-reporting-system-nibrs-data.html#reading-the-data"><i class="fa fa-check"></i><b>22.2</b> Reading the data</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="useful-resources.html"><a href="useful-resources.html"><i class="fa fa-check"></i><b>A</b> Useful Resources</a><ul>
<li class="chapter" data-level="A.0.1" data-path="useful-resources.html"><a href="useful-resources.html#learning-r-and-coding-issues"><i class="fa fa-check"></i><b>A.0.1</b> Learning R and coding issues</a></li>
<li class="chapter" data-level="A.0.2" data-path="useful-resources.html"><a href="useful-resources.html#data-1"><i class="fa fa-check"></i><b>A.0.2</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="using-r-markdown.html"><a href="using-r-markdown.html"><i class="fa fa-check"></i><b>B</b> Using R Markdown</a><ul>
<li class="chapter" data-level="B.1" data-path="using-r-markdown.html"><a href="using-r-markdown.html#code"><i class="fa fa-check"></i><b>B.1</b> Code</a><ul>
<li class="chapter" data-level="B.1.1" data-path="using-r-markdown.html"><a href="using-r-markdown.html#only-use-code-to-make-output"><i class="fa fa-check"></i><b>B.1.1</b> Only use code to make output</a></li>
</ul></li>
<li class="chapter" data-level="B.2" data-path="using-r-markdown.html"><a href="using-r-markdown.html#figures-and-tables"><i class="fa fa-check"></i><b>B.2</b> Figures and Tables</a></li>
<li class="chapter" data-level="B.3" data-path="using-r-markdown.html"><a href="using-r-markdown.html#finally-making-the-output-file"><i class="fa fa-check"></i><b>B.3</b> Finally, making the output file</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R 4 Criminology</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-r" class="section level1">
<h1><span class="header-section-number">1</span> Introduction to R</h1>
<div id="why-learn-to-program" class="section level2">
<h2><span class="header-section-number">1.1</span> Why learn to program?</h2>
<p>With the exception of some more advanced techniques like scraping data from websites or from PDFs, nearly everything we do here can be done through Excel, a software you’re probably more familiar with. The basic steps for research projects are generally</p>
<ol style="list-style-type: decimal">
<li>Open up a data set - which frequently comes as an Excel file!</li>
<li>Change some values - misspelling or too specific categories are very common in crime data</li>
<li>Delete some values - such as states you won’t be studying</li>
<li>Make some graphs</li>
<li>Calculate some values - such as number of crimes per year</li>
<li>Sometimes do a statistical analysis depending on type of project</li>
<li>Write up what you find</li>
</ol>
<p>R can do all of this but why should you want to (or have to) learn a entirely new skill just to do something you can already do. R is useful for two main reasons: scale and reproducibility.</p>
<div id="scale" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Scale</h3>
</div>
<div id="reproducibility" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Reproducibility</h3>
<p>The second major benefit of using R over something like Excel is that R is reproducible. Every action you take is written down in the code</p>
<p>As a common example in criminology, in comparing crime between two cities you generally don’t want to compare counts due to population differences. A city with a million people often has more crime than a city with 50,000 people just due to the size difference. So you’d want to compare rates of crime per population (usually per 100,000 people). To do this you just divide the count by the city’s population and multiple the result by 100,000.</p>
<p>This concept - doing the same thing to multiple values - is important in R and will come in handy later. Imagine that we had an Excel file where a column shows the number of crimes in a given city (each row is a new city). Using the method above we can find the average number of crimes (or any other mathematical operation) easily by treating that column as the values in the <code>c()</code> above.</p>
<p>Yet, other functions operate on the whole collection of values in a vector. For each of these functions you will need to put the vector inside the parentheses of the main function. See the following examples:</p>
<ul>
<li><code>sum()</code> Sum</li>
<li><code>mean()</code> Mean of the vector</li>
<li><code>median()</code> Median of the vector</li>
<li><code>length()</code> How many values there are in the vector</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">9</span>)) 
<span class="co">#&gt; [1] 55</span></code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">9</span>))
<span class="co">#&gt; [1] 5.5</span></code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">median</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">9</span>)) 
<span class="co">#&gt; [1] 5.5</span></code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">9</span>))
<span class="co">#&gt; [1] 10</span></code></pre>
<p>There are also some functions in R that help us find the biggest and smallest values. For example:</p>
<ul>
<li><code>max()</code> What is the biggest value in vector?</li>
<li><code>which.max()</code> In which “spot” (or “index”) would we find it? This will be useful for the lesson on subsetting which is a way to grab only specific rows or columns (such as the row with the largest value)</li>
<li><code>min()</code> What is the smallest value in vector?</li>
<li><code>which.min()</code> In which “spot” would we find it?</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">max</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">9</span>)) 
<span class="co">#&gt; [1] 10</span></code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">which.max</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">9</span>))
<span class="co">#&gt; [1] 2</span></code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">min</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">9</span>))
<span class="co">#&gt; [1] 1</span></code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">which.min</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">9</span>))
<span class="co">#&gt; [1] 1</span></code></pre>
<p>The <code>paste()</code> function pastes character strings together. By default, <code>paste()</code> puts a space between the strings being pasted together. It looks strange with that space after WV in “WV , USA”. We can set the separator to be nothing (the empty string) by setting <code>sep = ""</code>. Remember that you need a comma before starting a new parameter.</p>
<p>Being able to sort or manipulate strings/character values (i.e. not numbers) is important in research. When dealing with real crime data you’ll find that there are often spelling issues where categories are slightly different (e.g. ‘assault’ ‘asault’ ‘asslt’) that you need to make consistent for an analysis. You will also likely want to grab only rows where the data is a certain crime, such as all assaults, which is something we’ll learn later.</p>
</div>
</div>
<div id="reading-data-into-r" class="section level2">
<h2><span class="header-section-number">1.2</span> Reading data into R</h2>
<p>In nearly every case in research you’ll have data produced by some outside group (FBI, local police agencies) and you want to take that data and put it inside R to work on it. We call that reading data into R. R is capable of reading a number of different formats of data which we will discuss in a later chapter. Here, we will talk about the standard R data file only.</p>
<div id="setting-the-working-directory" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Setting the working directory</h3>
<p>Now that we have covered a lot of fundamental R features, it is time to load in a real data set. However, before we do that, R needs to know where to find the data file. So we first need to talk about “the working directory”. When you start R, it has a default folder or directory on your computer where it will retrieve or save any files. You can run <code>getwd()</code> to get the current working directory. Here’s our current working directory, which will not be the same as yours.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">getwd</span>()    
[<span class="dv">1</span>] <span class="st">&quot;C:/Users/user/Dropbox/R_project/r4crim&quot;</span></code></pre>
<p>Almost certainly this default directory is <em>not</em> where you plan to have all of your data sets and files stored. Instead, you probably have an “analysis” or “project” or “R4crim” folder somewhere on your computer where you would like to store your data and work (you should also store the R files you write for that data to keep the data and code for that data together).</p>
<p>Use <code>setwd()</code> to tell R what folder you want it to use as the working directory. If you do not set the working directory, R will not know where to find the data you wish to import and will be unable to read the data. Make it a habit to have <code>setwd()</code> as the first line of every script you write. If you know the working directory you want to use, then you can just put it inside the <code>setwd()</code> function.</p>
<pre><code>setwd(&quot;C:/Users/user/Dropbox/R_project/R4crim/data&quot;)    </code></pre>
<p>If you do not know how to write your working directory, here comes R Studio to the rescue. In R Studio click Session -&gt; Set Working Directory -&gt; Choose Directory. Then click through to navigate to the working directory that you want to use. When you find it click “Select Folder”. Then look over at the console. R Studio will construct the right <code>setwd()</code> syntax for you. Copy and paste that into your R script for use later. No need to have to click through the Session menu again now that you have your <code>setwd()</code> set up.</p>
<p><img src="images/working_directory.PNG" /></p>
<p>Now you can use R functions to load in any data sets that are in your working folder. If you have done your <code>setwd()</code> correctly, you shouldn’t get any errors because R will know exactly where to look for the data files. If the working directory that you’ve given in the <code>setwd()</code> isn’t right, R will think the file doesn’t even exist. For example, if you give the path for, say, your R4econ folder, R won’t be able to load data because the file isn’t stored in what R thinks is your working directory. With that out of the way, let’s load a data set.</p>
</div>
<div id="loading-data" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Loading data</h3>
<p>The <code>load()</code> function lets us load data already in the R format. These files will end in the extension “.rda” or sometimes “.Rda” or “.RData”. Since we are telling R to load a specific file we need to have that file name in quotes and include the file extension “.rda”. With R data, the object inside the data already has a name so we don’t need to assign (using the <code>&lt;-</code> we learned above) a name to the data. With other forms of data such as .csv files we will need to do that as we’ll see in Chapter (Reading and Writing Data).</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">load</span>(<span class="st">&quot;data/ucr2017.rda&quot;</span>)</code></pre>
</div>
</div>
<div id="first-steps-to-exploring-data" class="section level2">
<h2><span class="header-section-number">1.3</span> First steps to exploring data</h2>
<p>The object we loaded is called <code>ucr2017</code>. We’ll explore this data more thoroughly in the Chapter (exploratory-data-analysis) but for now let’s use four simple (and important) functions to get a sense of what the data holds. For each of these functions write the name of the data set (without quotes since we don’t need quotes for an object already made in R) inside the ().</p>
<p><code>head()</code>
<code>summary()</code>
<code>plot()</code>
<code>View()</code></p>
<p>Note that the first three functions are lowercase while <code>View()</code> is capitalized. That is simply because older functions in R were often capitalized while newer ones use all lowercase letters. R is case sensitive so using <code>view()</code> will not work.</p>
<p>The <code>head()</code> function prints the first 6 rows of each column out in the console. This is useful to get a quick glance at the data but has some important drawbacks. When using data sets with a large number of columns it can be quickly overwhelming by printing too much. There may also be differences in the first 6 rows with other rows. For example if the rows are ordered chronologically (as is the case with most crime data) the first 6 rows will be the most recent. If data collection methods or the quality of collection changed over time, these 6 rows won’t be representative of the data.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(ucr2017)
<span class="co">#&gt;       ori year agency_name  state population actual_murder</span>
<span class="co">#&gt; 1 AK00101 2017   anchorage alaska     296188            27</span>
<span class="co">#&gt; 2 AK00102 2017   fairbanks alaska      32937            10</span>
<span class="co">#&gt; 3 AK00103 2017      juneau alaska      32344             1</span>
<span class="co">#&gt; 4 AK00104 2017   ketchikan alaska       8230             1</span>
<span class="co">#&gt; 5 AK00105 2017      kodiak alaska       6198             0</span>
<span class="co">#&gt; 6 AK00106 2017        nome alaska       3829             0</span>
<span class="co">#&gt;   actual_rape_total actual_robbery_total actual_assault_aggravated</span>
<span class="co">#&gt; 1               391                  778                      2368</span>
<span class="co">#&gt; 2                24                   40                       131</span>
<span class="co">#&gt; 3                50                   46                       206</span>
<span class="co">#&gt; 4                19                    0                        14</span>
<span class="co">#&gt; 5                15                    4                        41</span>
<span class="co">#&gt; 6                 7                    0                        52</span></code></pre>
<p>The <code>summary()</code> function gives a six number summary of each numeric or Date column in the data. For other types of data, such as “character” types which are just columns with words rather than numbers, it’ll say what type of data it is.</p>
<p>The six values it returns for numeric and Date columns are</p>
<ul>
<li>The minimum value</li>
<li>The value at the 1st quartile</li>
<li>The median value</li>
<li>The mean value</li>
<li>The value at the 3rd quartile</li>
<li>The max value</li>
<li>In cases where there are NAs, it will say how many NAs there are. An NA value is a missing value. Think of it like an empty cell in an Excel file. NA values will cause issues when doing math such as finding the mean of a column as R doesn’t know how to handle a NA value in these situations. We’ll learn how to deal with this later.</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(ucr2017)
<span class="co">#&gt;      ori                 year      agency_name           state          </span>
<span class="co">#&gt;  Length:15764       Min.   :2017   Length:15764       Length:15764      </span>
<span class="co">#&gt;  Class :character   1st Qu.:2017   Class :character   Class :character  </span>
<span class="co">#&gt;  Mode  :character   Median :2017   Mode  :character   Mode  :character  </span>
<span class="co">#&gt;                     Mean   :2017                                        </span>
<span class="co">#&gt;                     3rd Qu.:2017                                        </span>
<span class="co">#&gt;                     Max.   :2017                                        </span>
<span class="co">#&gt;    population      actual_murder     actual_rape_total </span>
<span class="co">#&gt;  Min.   :      0   Min.   :  0.000   Min.   :  -2.000  </span>
<span class="co">#&gt;  1st Qu.:    914   1st Qu.:  0.000   1st Qu.:   0.000  </span>
<span class="co">#&gt;  Median :   4460   Median :  0.000   Median :   1.000  </span>
<span class="co">#&gt;  Mean   :  19872   Mean   :  1.069   Mean   :   8.262  </span>
<span class="co">#&gt;  3rd Qu.:  15390   3rd Qu.:  0.000   3rd Qu.:   5.000  </span>
<span class="co">#&gt;  Max.   :8616333   Max.   :653.000   Max.   :2455.000  </span>
<span class="co">#&gt;  actual_robbery_total actual_assault_aggravated</span>
<span class="co">#&gt;  Min.   :   -1.00     Min.   :   -1.00         </span>
<span class="co">#&gt;  1st Qu.:    0.00     1st Qu.:    1.00         </span>
<span class="co">#&gt;  Median :    0.00     Median :    5.00         </span>
<span class="co">#&gt;  Mean   :   19.85     Mean   :   49.98         </span>
<span class="co">#&gt;  3rd Qu.:    4.00     3rd Qu.:   21.00         </span>
<span class="co">#&gt;  Max.   :13995.00     Max.   :29771.00</span></code></pre>
<p>The <code>plot()</code> function allows us to graph our data. For criminology research we generally want to make scatterplots to show the relationship between two numeric variables, time-series graphs to see how a variable (or variables) change over time, or barplots comparing categorical variables. Here we’ll make a scatterplot seeing the relationship between a city’s number of murders and their number of aggravated assault (assault with a weapon or that causes serious bodily injury).</p>
<p>To do so we must specify which column is displayed on the x-axis and which one is displayed on the y-axis. In Chapter (Select a specific column) we’ll talk explicitly about how to select specific columns from our data. For now all you need to know is to select a column you write the data set name followed by dollar sign <code>$</code> followed by the column name. Do not include any quotations or spaces (technically spaces can be included but make it a bit harder to read and are against conventional style when writing R code so we’ll exclude them). Inside of <code>plot()</code> we say that “x = ucr2017$actual_murder” so that column goes on the x-axis and “y = ucr2017$actual_assault_aggravated” so aggravated assault goes on the y-axis. And that’s all it takes to make a simple graph.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="dt">x =</span> ucr2017<span class="op">$</span>actual_murder, <span class="dt">y =</span> ucr2017<span class="op">$</span>actual_assault_aggravated)</code></pre>
<p><img src="intro-to-r_files/figure-html/unnamed-chunk-14-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Finally, <code>View()</code> opens essentially an Excel file of the data set you put inside the (). This allows you to look at the data as if it were in Excel and is a good way to start to understand the data.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">View</span>(ucr2017)</code></pre>
</div>
<div id="finding-help-about-functions" class="section level2">
<h2><span class="header-section-number">1.4</span> Finding help about functions</h2>
<p>If you are having trouble understanding what a function does, you can ask R for help and it will open up a page explaining what the function does, what options it has, and examples of how to use it. To do so we write <code>help(function)</code> or <code>?function</code> in the console and it will open up that function’s help page.</p>
<p>If we wrote <code>help(c)</code> to figure out what the <code>c()</code> function does, it will open up this page. For finding the help page of a function the parentheses (e.g. <code>c()</code>) are optional.</p>
<p><img src="images/help_page.PNG" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="about-the-author.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="introduction-to-rstudio.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jacobkap/r4crim/edit/master/intro-to-r.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
