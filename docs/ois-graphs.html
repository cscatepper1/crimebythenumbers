<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 More graphing with ggplot | Crime by the Numbers</title>
  <meta name="description" content="This book introduces the programming language R and is meant for undergrads or graduate students studying criminology. R is a programming language that is well-suited to the type of work frequently done in criminology - taking messy data and turning it into useful information. While R is a useful tool for many fields of study, this book focuses on the skills criminologists should know and uses crime data for the example data sets." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="7 More graphing with ggplot | Crime by the Numbers" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://crimebythenumbers.com" />
  <meta property="og:image" content="https://crimebythenumbers.comRuby-throated_HummingBird.jpg" />
  <meta property="og:description" content="This book introduces the programming language R and is meant for undergrads or graduate students studying criminology. R is a programming language that is well-suited to the type of work frequently done in criminology - taking messy data and turning it into useful information. While R is a useful tool for many fields of study, this book focuses on the skills criminologists should know and uses crime data for the example data sets." />
  <meta name="github-repo" content="jacobkap/crimebythenumbers" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 More graphing with ggplot | Crime by the Numbers" />
  
  <meta name="twitter:description" content="This book introduces the programming language R and is meant for undergrads or graduate students studying criminology. R is a programming language that is well-suited to the type of work frequently done in criminology - taking messy data and turning it into useful information. While R is a useful tool for many fields of study, this book focuses on the skills criminologists should know and uses crime data for the example data sets." />
  <meta name="twitter:image" content="https://crimebythenumbers.comRuby-throated_HummingBird.jpg" />

<meta name="author" content="Jacob Kaplan" />


<meta name="date" content="2020-07-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="graphing-intro.html"/>
<link rel="next" href="hotspot-maps.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet" />
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet" />
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-99359926-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-99359926-6');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Crime by the Numbers</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-learn-to-program"><i class="fa fa-check"></i>Why learn to program?</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#scale"><i class="fa fa-check"></i>Scale</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#reproducibility"><i class="fa fa-check"></i>Reproducibility</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-you-will-learn"><i class="fa fa-check"></i>What you will learn</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#skills"><i class="fa fa-check"></i>Skills</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#data"><i class="fa fa-check"></i>Data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-you-wont-learn"><i class="fa fa-check"></i>What you won’t learn</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#simple-vs-easy"><i class="fa fa-check"></i>Simple vs Easy</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-contribute"><i class="fa fa-check"></i>How to Contribute</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the author</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html"><i class="fa fa-check"></i><b>1</b> Introduction to R and RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#using-rstudio"><i class="fa fa-check"></i><b>1.1</b> Using RStudio</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#opening-an-r-script"><i class="fa fa-check"></i><b>1.1.1</b> Opening an R Script</a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#setting-the-working-directory"><i class="fa fa-check"></i><b>1.1.2</b> Setting the working directory</a></li>
<li class="chapter" data-level="1.1.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#changing-rstudio"><i class="fa fa-check"></i><b>1.1.3</b> Changing RStudio</a></li>
<li class="chapter" data-level="1.1.4" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#helpful-cheatsheets"><i class="fa fa-check"></i><b>1.1.4</b> Helpful cheatsheets</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#reading-data-into-r"><i class="fa fa-check"></i><b>1.2</b> Reading data into R</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#loading-data"><i class="fa fa-check"></i><b>1.2.1</b> Loading data</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#first-steps-to-exploring-data"><i class="fa fa-check"></i><b>1.3</b> First steps to exploring data</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#finding-help-about-functions"><i class="fa fa-check"></i><b>1.4</b> Finding help about functions</a></li>
</ul></li>
<li class="part"><span><b>I Clean</b></span></li>
<li class="chapter" data-level="2" data-path="subsetting-intro.html"><a href="subsetting-intro.html"><i class="fa fa-check"></i><b>2</b> Subsetting: Making big things small</a>
<ul>
<li class="chapter" data-level="2.1" data-path="subsetting-intro.html"><a href="subsetting-intro.html#select-specific-values"><i class="fa fa-check"></i><b>2.1</b> Select specific values</a></li>
<li class="chapter" data-level="2.2" data-path="subsetting-intro.html"><a href="subsetting-intro.html#assignment"><i class="fa fa-check"></i><b>2.2</b> Assigning values to objects (Making “things”)</a></li>
<li class="chapter" data-level="2.3" data-path="subsetting-intro.html"><a href="subsetting-intro.html#vectors"><i class="fa fa-check"></i><b>2.3</b> Vectors (collections of “things”)</a></li>
<li class="chapter" data-level="2.4" data-path="subsetting-intro.html"><a href="subsetting-intro.html#logical-values-and-operations"><i class="fa fa-check"></i><b>2.4</b> Logical values and operations</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="subsetting-intro.html"><a href="subsetting-intro.html#matching-a-single-value"><i class="fa fa-check"></i><b>2.4.1</b> Matching a single value</a></li>
<li class="chapter" data-level="2.4.2" data-path="subsetting-intro.html"><a href="subsetting-intro.html#matching-multiple-values"><i class="fa fa-check"></i><b>2.4.2</b> Matching multiple values</a></li>
<li class="chapter" data-level="2.4.3" data-path="subsetting-intro.html"><a href="subsetting-intro.html#does-not-match"><i class="fa fa-check"></i><b>2.4.3</b> Does not match</a></li>
<li class="chapter" data-level="2.4.4" data-path="subsetting-intro.html"><a href="subsetting-intro.html#greater-than-or-less-than"><i class="fa fa-check"></i><b>2.4.4</b> Greater than or less than</a></li>
<li class="chapter" data-level="2.4.5" data-path="subsetting-intro.html"><a href="subsetting-intro.html#combining-conditional-statements---or-and"><i class="fa fa-check"></i><b>2.4.5</b> Combining conditional statements - or, and</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="subsetting-intro.html"><a href="subsetting-intro.html#subsetting-a-data.frame"><i class="fa fa-check"></i><b>2.5</b> Subsetting a data.frame</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="subsetting-intro.html"><a href="subsetting-intro.html#select-specific-columns"><i class="fa fa-check"></i><b>2.5.1</b> Select specific columns</a></li>
<li class="chapter" data-level="2.5.2" data-path="subsetting-intro.html"><a href="subsetting-intro.html#select-specific-rows"><i class="fa fa-check"></i><b>2.5.2</b> Select specific rows</a></li>
<li class="chapter" data-level="2.5.3" data-path="subsetting-intro.html"><a href="subsetting-intro.html#subset-colorado-data"><i class="fa fa-check"></i><b>2.5.3</b> Subset Colorado data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="explore.html"><a href="explore.html"><i class="fa fa-check"></i><b>3</b> Exploratory data analysis</a>
<ul>
<li class="chapter" data-level="3.1" data-path="explore.html"><a href="explore.html#summary-and-table"><i class="fa fa-check"></i><b>3.1</b> Summary and Table</a></li>
<li class="chapter" data-level="3.2" data-path="explore.html"><a href="explore.html#graphing"><i class="fa fa-check"></i><b>3.2</b> Graphing</a></li>
<li class="chapter" data-level="3.3" data-path="explore.html"><a href="explore.html#aggregate"><i class="fa fa-check"></i><b>3.3</b> Aggregating (summaries of groups)</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="regular-expressions.html"><a href="regular-expressions.html"><i class="fa fa-check"></i><b>4</b> Regular Expressions</a>
<ul>
<li class="chapter" data-level="4.1" data-path="regular-expressions.html"><a href="regular-expressions.html#finding-patterns-in-text-with-grep"><i class="fa fa-check"></i><b>4.1</b> Finding patterns in text with <code>grep()</code></a></li>
<li class="chapter" data-level="4.2" data-path="regular-expressions.html"><a href="regular-expressions.html#finding-and-replacing-patterns-in-text-with-gsub"><i class="fa fa-check"></i><b>4.2</b> Finding and replacing patterns in text with <code>gsub()</code></a></li>
<li class="chapter" data-level="4.3" data-path="regular-expressions.html"><a href="regular-expressions.html#useful-special-characters"><i class="fa fa-check"></i><b>4.3</b> Useful special characters</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="regular-expressions.html"><a href="regular-expressions.html#multiple-characters"><i class="fa fa-check"></i><b>4.3.1</b> Multiple characters <code>[]</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="regular-expressions.html"><a href="regular-expressions.html#n-many-of-previous-character-n"><i class="fa fa-check"></i><b>4.3.2</b> n-many of previous character <code>{n}</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="regular-expressions.html"><a href="regular-expressions.html#n-many-to-m-many-of-previous-character-nm"><i class="fa fa-check"></i><b>4.3.3</b> n-many to m-many of previous character <code>{n,m}</code></a></li>
<li class="chapter" data-level="4.3.4" data-path="regular-expressions.html"><a href="regular-expressions.html#start-of-string"><i class="fa fa-check"></i><b>4.3.4</b> Start of string</a></li>
<li class="chapter" data-level="4.3.5" data-path="regular-expressions.html"><a href="regular-expressions.html#end-of-string"><i class="fa fa-check"></i><b>4.3.5</b> End of string <code>$</code></a></li>
<li class="chapter" data-level="4.3.6" data-path="regular-expressions.html"><a href="regular-expressions.html#anything-."><i class="fa fa-check"></i><b>4.3.6</b> Anything <code>.</code></a></li>
<li class="chapter" data-level="4.3.7" data-path="regular-expressions.html"><a href="regular-expressions.html#one-or-more-of-previous"><i class="fa fa-check"></i><b>4.3.7</b> One or more of previous <code>+</code></a></li>
<li class="chapter" data-level="4.3.8" data-path="regular-expressions.html"><a href="regular-expressions.html#zero-or-more-of-previous"><i class="fa fa-check"></i><b>4.3.8</b> Zero or more of previous <code>*</code></a></li>
<li class="chapter" data-level="4.3.9" data-path="regular-expressions.html"><a href="regular-expressions.html#multiple-patterns"><i class="fa fa-check"></i><b>4.3.9</b> Multiple patterns <code>|</code></a></li>
<li class="chapter" data-level="4.3.10" data-path="regular-expressions.html"><a href="regular-expressions.html#parentheses"><i class="fa fa-check"></i><b>4.3.10</b> Parentheses <code>()</code></a></li>
<li class="chapter" data-level="4.3.11" data-path="regular-expressions.html"><a href="regular-expressions.html#optional-text"><i class="fa fa-check"></i><b>4.3.11</b> Optional text <code>?</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="regular-expressions.html"><a href="regular-expressions.html#changing-capitalization"><i class="fa fa-check"></i><b>4.4</b> Changing capitalization</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html"><i class="fa fa-check"></i><b>5</b> Reading and Writing Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#reading-data-into-r"><i class="fa fa-check"></i><b>5.1</b> Reading Data into R</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#r"><i class="fa fa-check"></i><b>5.1.1</b> R</a></li>
<li class="chapter" data-level="5.1.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#excel"><i class="fa fa-check"></i><b>5.1.2</b> Excel</a></li>
<li class="chapter" data-level="5.1.3" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#stata"><i class="fa fa-check"></i><b>5.1.3</b> Stata</a></li>
<li class="chapter" data-level="5.1.4" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#sas"><i class="fa fa-check"></i><b>5.1.4</b> SAS</a></li>
<li class="chapter" data-level="5.1.5" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#spss"><i class="fa fa-check"></i><b>5.1.5</b> SPSS</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#writing-data"><i class="fa fa-check"></i><b>5.2</b> Writing Data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#r-1"><i class="fa fa-check"></i><b>5.2.1</b> R</a></li>
<li class="chapter" data-level="5.2.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#excel-1"><i class="fa fa-check"></i><b>5.2.2</b> Excel</a></li>
<li class="chapter" data-level="5.2.3" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#stata-1"><i class="fa fa-check"></i><b>5.2.3</b> Stata</a></li>
<li class="chapter" data-level="5.2.4" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#sas-1"><i class="fa fa-check"></i><b>5.2.4</b> SAS</a></li>
<li class="chapter" data-level="5.2.5" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#spss-1"><i class="fa fa-check"></i><b>5.2.5</b> SPSS</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Visualize</b></span></li>
<li class="chapter" data-level="6" data-path="graphing-intro.html"><a href="graphing-intro.html"><i class="fa fa-check"></i><b>6</b> Graphing with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="6.1" data-path="graphing-intro.html"><a href="graphing-intro.html#what-does-the-data-look-like"><i class="fa fa-check"></i><b>6.1</b> What does the data look like?</a></li>
<li class="chapter" data-level="6.2" data-path="graphing-intro.html"><a href="graphing-intro.html#graphing-data"><i class="fa fa-check"></i><b>6.2</b> Graphing data</a></li>
<li class="chapter" data-level="6.3" data-path="graphing-intro.html"><a href="graphing-intro.html#time-series-plots"><i class="fa fa-check"></i><b>6.3</b> Time-Series Plots</a></li>
<li class="chapter" data-level="6.4" data-path="graphing-intro.html"><a href="graphing-intro.html#scatter-plots"><i class="fa fa-check"></i><b>6.4</b> Scatter Plots</a></li>
<li class="chapter" data-level="6.5" data-path="graphing-intro.html"><a href="graphing-intro.html#color-blindness"><i class="fa fa-check"></i><b>6.5</b> Color blindness</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ois-graphs.html"><a href="ois-graphs.html"><i class="fa fa-check"></i><b>7</b> More graphing with <code>ggplot</code></a>
<ul>
<li class="chapter" data-level="7.1" data-path="ois-graphs.html"><a href="ois-graphs.html#density-plot"><i class="fa fa-check"></i><b>7.1</b> Density plot</a></li>
<li class="chapter" data-level="7.2" data-path="ois-graphs.html"><a href="ois-graphs.html#histogram"><i class="fa fa-check"></i><b>7.2</b> Histogram</a></li>
<li class="chapter" data-level="7.3" data-path="ois-graphs.html"><a href="ois-graphs.html#bar-graph"><i class="fa fa-check"></i><b>7.3</b> Bar graph</a></li>
<li class="chapter" data-level="7.4" data-path="ois-graphs.html"><a href="ois-graphs.html#time-series"><i class="fa fa-check"></i><b>7.4</b> Time Series</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="hotspot-maps.html"><a href="hotspot-maps.html"><i class="fa fa-check"></i><b>8</b> Hotspot maps</a>
<ul>
<li class="chapter" data-level="8.1" data-path="hotspot-maps.html"><a href="hotspot-maps.html#a-simple-map"><i class="fa fa-check"></i><b>8.1</b> A simple map</a></li>
<li class="chapter" data-level="8.2" data-path="hotspot-maps.html"><a href="hotspot-maps.html#what-really-are-maps"><i class="fa fa-check"></i><b>8.2</b> What really are maps?</a></li>
<li class="chapter" data-level="8.3" data-path="hotspot-maps.html"><a href="hotspot-maps.html#making-a-hotspot-map"><i class="fa fa-check"></i><b>8.3</b> Making a hotspot map</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="hotspot-maps.html"><a href="hotspot-maps.html#colors"><i class="fa fa-check"></i><b>8.3.1</b> Colors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="choropleth-maps.html"><a href="choropleth-maps.html"><i class="fa fa-check"></i><b>9</b> Choropleth maps</a>
<ul>
<li class="chapter" data-level="9.1" data-path="choropleth-maps.html"><a href="choropleth-maps.html#spatial-joins"><i class="fa fa-check"></i><b>9.1</b> Spatial joins</a></li>
<li class="chapter" data-level="9.2" data-path="choropleth-maps.html"><a href="choropleth-maps.html#making-choropleth-maps"><i class="fa fa-check"></i><b>9.2</b> Making choropleth maps</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="interactive-maps.html"><a href="interactive-maps.html"><i class="fa fa-check"></i><b>10</b> Interactive maps</a>
<ul>
<li class="chapter" data-level="10.1" data-path="interactive-maps.html"><a href="interactive-maps.html#why-do-interactive-graphs-matter"><i class="fa fa-check"></i><b>10.1</b> Why do interactive graphs matter?</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="interactive-maps.html"><a href="interactive-maps.html#understanding-your-data"><i class="fa fa-check"></i><b>10.1.1</b> Understanding your data</a></li>
<li class="chapter" data-level="10.1.2" data-path="interactive-maps.html"><a href="interactive-maps.html#police-departments-use-them"><i class="fa fa-check"></i><b>10.1.2</b> Police departments use them</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="interactive-maps.html"><a href="interactive-maps.html#making-the-interactive-map"><i class="fa fa-check"></i><b>10.2</b> Making the interactive map</a></li>
<li class="chapter" data-level="10.3" data-path="interactive-maps.html"><a href="interactive-maps.html#adding-popup-information"><i class="fa fa-check"></i><b>10.3</b> Adding popup information</a></li>
<li class="chapter" data-level="10.4" data-path="interactive-maps.html"><a href="interactive-maps.html#dealing-with-too-many-markers"><i class="fa fa-check"></i><b>10.4</b> Dealing with too many markers</a></li>
<li class="chapter" data-level="10.5" data-path="interactive-maps.html"><a href="interactive-maps.html#interactive-choropleth-maps"><i class="fa fa-check"></i><b>10.5</b> Interactive choropleth maps</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>11</b> R Markdown</a>
<ul>
<li class="chapter" data-level="11.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#code"><i class="fa fa-check"></i><b>11.1</b> Code</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="r-markdown.html"><a href="r-markdown.html#hiding-code-in-the-output"><i class="fa fa-check"></i><b>11.1.1</b> Hiding code in the output</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="r-markdown.html"><a href="r-markdown.html#inline-code"><i class="fa fa-check"></i><b>11.2</b> Inline Code</a></li>
<li class="chapter" data-level="11.3" data-path="r-markdown.html"><a href="r-markdown.html#tables"><i class="fa fa-check"></i><b>11.3</b> Tables</a></li>
<li class="chapter" data-level="11.4" data-path="r-markdown.html"><a href="r-markdown.html#footnotes"><i class="fa fa-check"></i><b>11.4</b> Footnotes</a></li>
<li class="chapter" data-level="11.5" data-path="r-markdown.html"><a href="r-markdown.html#citation"><i class="fa fa-check"></i><b>11.5</b> Citation</a></li>
<li class="chapter" data-level="11.6" data-path="r-markdown.html"><a href="r-markdown.html#spell-check"><i class="fa fa-check"></i><b>11.6</b> Spell check</a></li>
<li class="chapter" data-level="11.7" data-path="r-markdown.html"><a href="r-markdown.html#making-the-output-file"><i class="fa fa-check"></i><b>11.7</b> Making the output file</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>12</b> Git</a>
<ul>
<li class="chapter" data-level="12.1" data-path="git.html"><a href="git.html#what-is-git-and-why-do-i-need-it"><i class="fa fa-check"></i><b>12.1</b> What is Git and why do I need it?</a></li>
<li class="chapter" data-level="12.2" data-path="git.html"><a href="git.html#git-basics"><i class="fa fa-check"></i><b>12.2</b> Git basics</a></li>
<li class="chapter" data-level="12.3" data-path="git.html"><a href="git.html#when-to-commit"><i class="fa fa-check"></i><b>12.3</b> When to commit</a></li>
<li class="chapter" data-level="12.4" data-path="git.html"><a href="git.html#code-review"><i class="fa fa-check"></i><b>12.4</b> Code review</a></li>
</ul></li>
<li class="part"><span><b>III Collect</b></span></li>
<li class="chapter" data-level="13" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html"><i class="fa fa-check"></i><b>13</b> Webscraping with <code>rvest</code></a>
<ul>
<li class="chapter" data-level="13.1" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#scraping-one-page"><i class="fa fa-check"></i><b>13.1</b> Scraping one page</a></li>
<li class="chapter" data-level="13.2" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#cleaning-the-webscraped-data"><i class="fa fa-check"></i><b>13.2</b> Cleaning the webscraped data</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>14</b> Functions</a>
<ul>
<li class="chapter" data-level="14.1" data-path="functions.html"><a href="functions.html#a-simple-function"><i class="fa fa-check"></i><b>14.1</b> A simple function</a></li>
<li class="chapter" data-level="14.2" data-path="functions.html"><a href="functions.html#adding-parameters"><i class="fa fa-check"></i><b>14.2</b> Adding parameters</a></li>
<li class="chapter" data-level="14.3" data-path="functions.html"><a href="functions.html#recipes-function"><i class="fa fa-check"></i><b>14.3</b> Making a function to scrape recipes</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>15</b> For loops</a>
<ul>
<li class="chapter" data-level="15.1" data-path="for-loops.html"><a href="for-loops.html#basic-for-loops"><i class="fa fa-check"></i><b>15.1</b> Basic for loops</a></li>
<li class="chapter" data-level="15.2" data-path="for-loops.html"><a href="for-loops.html#scraping-multiple-recipes"><i class="fa fa-check"></i><b>15.2</b> Scraping multiple recipes</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="scrape-table.html"><a href="scrape-table.html"><i class="fa fa-check"></i><b>16</b> Scraping tables from PDFs</a>
<ul>
<li class="chapter" data-level="16.1" data-path="scrape-table.html"><a href="scrape-table.html#scraping-the-first-table"><i class="fa fa-check"></i><b>16.1</b> Scraping the first table</a></li>
<li class="chapter" data-level="16.2" data-path="scrape-table.html"><a href="scrape-table.html#making-a-function"><i class="fa fa-check"></i><b>16.2</b> Making a function</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="scrape-table2.html"><a href="scrape-table2.html"><i class="fa fa-check"></i><b>17</b> More scraping tables from PDFs</a>
<ul>
<li class="chapter" data-level="17.1" data-path="scrape-table2.html"><a href="scrape-table2.html#pregnant-women-incarcerated"><i class="fa fa-check"></i><b>17.1</b> Pregnant Women Incarcerated</a></li>
<li class="chapter" data-level="17.2" data-path="scrape-table2.html"><a href="scrape-table2.html#making-pdf-scraped-data-available-to-others"><i class="fa fa-check"></i><b>17.2</b> Making PDF-scraped data available to others</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="geocoding.html"><a href="geocoding.html"><i class="fa fa-check"></i><b>18</b> Geocoding</a>
<ul>
<li class="chapter" data-level="18.1" data-path="geocoding.html"><a href="geocoding.html#geocoding-a-single-address"><i class="fa fa-check"></i><b>18.1</b> Geocoding a single address</a></li>
<li class="chapter" data-level="18.2" data-path="scrape-table.html"><a href="scrape-table.html#making-a-function"><i class="fa fa-check"></i><b>18.2</b> Making a function</a></li>
<li class="chapter" data-level="18.3" data-path="geocoding.html"><a href="geocoding.html#geocoding-san-francisco-marijuana-dispensary-locations"><i class="fa fa-check"></i><b>18.3</b> Geocoding San Francisco marijuana dispensary locations</a></li>
</ul></li>
<li class="part"><span><b>IV Data</b></span></li>
<li class="chapter" data-level="19" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>19</b> Introduction</a></li>
<li class="chapter" data-level="20" data-path="ucr.html"><a href="ucr.html"><i class="fa fa-check"></i><b>20</b> Uniform Crime Report (UCR) - Offenses Known and Clearances by Arrest</a>
<ul>
<li class="chapter" data-level="20.1" data-path="ucr.html"><a href="ucr.html#exploring-the-ucr-data"><i class="fa fa-check"></i><b>20.1</b> Exploring the UCR data</a></li>
<li class="chapter" data-level="20.2" data-path="ucr.html"><a href="ucr.html#oris---unique-agency-identifiers"><i class="fa fa-check"></i><b>20.2</b> ORIs - Unique agency identifiers</a></li>
<li class="chapter" data-level="20.3" data-path="ucr.html"><a href="ucr.html#hierarchy-rule"><i class="fa fa-check"></i><b>20.3</b> Hierarchy Rule</a></li>
<li class="chapter" data-level="20.4" data-path="ucr.html"><a href="ucr.html#which-crimes-are-included"><i class="fa fa-check"></i><b>20.4</b> Which crimes are included</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="ucr.html"><a href="ucr.html#index-crimes"><i class="fa fa-check"></i><b>20.4.1</b> Index Crimes</a></li>
<li class="chapter" data-level="20.4.2" data-path="ucr.html"><a href="ucr.html#the-problem-with-using-index-crimes"><i class="fa fa-check"></i><b>20.4.2</b> The problem with using index crimes</a></li>
<li class="chapter" data-level="20.4.3" data-path="ucr.html"><a href="ucr.html#rape-definition-change"><i class="fa fa-check"></i><b>20.4.3</b> Rape definition change</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="ucr.html"><a href="ucr.html#actual-offenses-clearances-and-unfounded-offenses"><i class="fa fa-check"></i><b>20.5</b> Actual offenses, clearances, and unfounded offenses</a>
<ul>
<li class="chapter" data-level="20.5.1" data-path="ucr.html"><a href="ucr.html#actual"><i class="fa fa-check"></i><b>20.5.1</b> Actual</a></li>
<li class="chapter" data-level="20.5.2" data-path="ucr.html"><a href="ucr.html#total-cleared"><i class="fa fa-check"></i><b>20.5.2</b> Total Cleared</a></li>
<li class="chapter" data-level="20.5.3" data-path="ucr.html"><a href="ucr.html#cleared-where-all-offenders-are-under-18"><i class="fa fa-check"></i><b>20.5.3</b> Cleared Where All Offenders Are Under 18</a></li>
<li class="chapter" data-level="20.5.4" data-path="ucr.html"><a href="ucr.html#unfounded"><i class="fa fa-check"></i><b>20.5.4</b> Unfounded</a></li>
</ul></li>
<li class="chapter" data-level="20.6" data-path="ucr.html"><a href="ucr.html#number-of-months-reported"><i class="fa fa-check"></i><b>20.6</b> Number of months reported</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="useful-resources.html"><a href="useful-resources.html"><i class="fa fa-check"></i><b>A</b> Useful resources</a>
<ul>
<li class="chapter" data-level="A.1" data-path="useful-resources.html"><a href="useful-resources.html#learning-r-and-coding-issues"><i class="fa fa-check"></i><b>A.1</b> Learning R and coding issues</a></li>
<li class="chapter" data-level="A.2" data-path="index.html"><a href="index.html#data"><i class="fa fa-check"></i><b>A.2</b> Data</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Crime by the Numbers</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ois_graphs" class="section level1" number="7">
<h1><span class="header-section-number">7</span> More graphing with <code>ggplot</code></h1>
<p>In this lesson we will continue to explore graphing using <code>ggplot()</code>. While the Philadelphia Police website does have a number of variables available in a table on the site for shootings since 2013, since we did not scrape them initially we’ll turn to a new data set. The data we will use is a database of officer-involved shootings that result in a death in the United States since January 1st, 2015. This data has been compiled and released by the Washington Post so it will be a useful exercise in exploring data from non-government sources. This data is useful for our purposes as it has a number of variables related to the person who was shot, allowing us to practice making many types of graphs.</p>
<p>To explore the data on their website, see <a href="https://www.washingtonpost.com/graphics/2019/national/police-shootings-2019/?utm_term=.e870afc9a00c">here</a>.
To examine their methodology, see <a href="https://www.washingtonpost.com/national/how-the-washington-post-is-examining-police-shootings-in-the-united-states/2016/07/07/d9c52238-43ad-11e6-8856-f26de2537a9d_story.html?utm_term=.f07e9800092b">here</a>.</p>
<p>The data initially comes as a .csv file so we’ll use the <code>read_csv()</code> function from the <code>readr</code> package.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="ois-graphs.html#cb1-1"></a><span class="kw">library</span>(readr)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="ois-graphs.html#cb2-1"></a>shootings &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/fatal-police-shootings-data.csv&quot;</span>)</span>
<span id="cb2-2"><a href="ois-graphs.html#cb2-2"></a><span class="co">#&gt; Parsed with column specification:</span></span>
<span id="cb2-3"><a href="ois-graphs.html#cb2-3"></a><span class="co">#&gt; cols(</span></span>
<span id="cb2-4"><a href="ois-graphs.html#cb2-4"></a><span class="co">#&gt;   id = col_double(),</span></span>
<span id="cb2-5"><a href="ois-graphs.html#cb2-5"></a><span class="co">#&gt;   name = col_character(),</span></span>
<span id="cb2-6"><a href="ois-graphs.html#cb2-6"></a><span class="co">#&gt;   date = col_date(format = &quot;&quot;),</span></span>
<span id="cb2-7"><a href="ois-graphs.html#cb2-7"></a><span class="co">#&gt;   manner_of_death = col_character(),</span></span>
<span id="cb2-8"><a href="ois-graphs.html#cb2-8"></a><span class="co">#&gt;   armed = col_character(),</span></span>
<span id="cb2-9"><a href="ois-graphs.html#cb2-9"></a><span class="co">#&gt;   age = col_double(),</span></span>
<span id="cb2-10"><a href="ois-graphs.html#cb2-10"></a><span class="co">#&gt;   gender = col_character(),</span></span>
<span id="cb2-11"><a href="ois-graphs.html#cb2-11"></a><span class="co">#&gt;   race = col_character(),</span></span>
<span id="cb2-12"><a href="ois-graphs.html#cb2-12"></a><span class="co">#&gt;   city = col_character(),</span></span>
<span id="cb2-13"><a href="ois-graphs.html#cb2-13"></a><span class="co">#&gt;   state = col_character(),</span></span>
<span id="cb2-14"><a href="ois-graphs.html#cb2-14"></a><span class="co">#&gt;   signs_of_mental_illness = col_logical(),</span></span>
<span id="cb2-15"><a href="ois-graphs.html#cb2-15"></a><span class="co">#&gt;   threat_level = col_character(),</span></span>
<span id="cb2-16"><a href="ois-graphs.html#cb2-16"></a><span class="co">#&gt;   flee = col_character(),</span></span>
<span id="cb2-17"><a href="ois-graphs.html#cb2-17"></a><span class="co">#&gt;   body_camera = col_logical()</span></span>
<span id="cb2-18"><a href="ois-graphs.html#cb2-18"></a><span class="co">#&gt; )</span></span></code></pre></div>
<p>Since <code>read_csv()</code> reads files into a tibble object, we’ll turn it into a data.frame just for simplicity.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="ois-graphs.html#cb3-1"></a>shootings &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(shootings)</span></code></pre></div>
<p>Now that we have the data read in, let’s look at it.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="ois-graphs.html#cb4-1"></a><span class="kw">nrow</span>(shootings)</span>
<span id="cb4-2"><a href="ois-graphs.html#cb4-2"></a><span class="co">#&gt; [1] 4371</span></span>
<span id="cb4-3"><a href="ois-graphs.html#cb4-3"></a><span class="kw">ncol</span>(shootings)</span>
<span id="cb4-4"><a href="ois-graphs.html#cb4-4"></a><span class="co">#&gt; [1] 14</span></span></code></pre></div>
<p>The data has 14 variables and covers over 4,000 shootings. Let’s check out some of the variables, first using <code>head()</code> then using <code>summary()</code> and <code>table()</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="ois-graphs.html#cb5-1"></a><span class="kw">head</span>(shootings)</span>
<span id="cb5-2"><a href="ois-graphs.html#cb5-2"></a><span class="co">#&gt;   id               name       date  manner_of_death      armed age gender race</span></span>
<span id="cb5-3"><a href="ois-graphs.html#cb5-3"></a><span class="co">#&gt; 1  3         Tim Elliot 2015-01-02             shot        gun  53      M    A</span></span>
<span id="cb5-4"><a href="ois-graphs.html#cb5-4"></a><span class="co">#&gt; 2  4   Lewis Lee Lembke 2015-01-02             shot        gun  47      M    W</span></span>
<span id="cb5-5"><a href="ois-graphs.html#cb5-5"></a><span class="co">#&gt; 3  5 John Paul Quintero 2015-01-03 shot and Tasered    unarmed  23      M    H</span></span>
<span id="cb5-6"><a href="ois-graphs.html#cb5-6"></a><span class="co">#&gt; 4  8    Matthew Hoffman 2015-01-04             shot toy weapon  32      M    W</span></span>
<span id="cb5-7"><a href="ois-graphs.html#cb5-7"></a><span class="co">#&gt; 5  9  Michael Rodriguez 2015-01-04             shot   nail gun  39      M    H</span></span>
<span id="cb5-8"><a href="ois-graphs.html#cb5-8"></a><span class="co">#&gt; 6 11  Kenneth Joe Brown 2015-01-04             shot        gun  18      M    W</span></span>
<span id="cb5-9"><a href="ois-graphs.html#cb5-9"></a><span class="co">#&gt;            city state signs_of_mental_illness threat_level        flee</span></span>
<span id="cb5-10"><a href="ois-graphs.html#cb5-10"></a><span class="co">#&gt; 1       Shelton    WA                    TRUE       attack Not fleeing</span></span>
<span id="cb5-11"><a href="ois-graphs.html#cb5-11"></a><span class="co">#&gt; 2         Aloha    OR                   FALSE       attack Not fleeing</span></span>
<span id="cb5-12"><a href="ois-graphs.html#cb5-12"></a><span class="co">#&gt; 3       Wichita    KS                   FALSE        other Not fleeing</span></span>
<span id="cb5-13"><a href="ois-graphs.html#cb5-13"></a><span class="co">#&gt; 4 San Francisco    CA                    TRUE       attack Not fleeing</span></span>
<span id="cb5-14"><a href="ois-graphs.html#cb5-14"></a><span class="co">#&gt; 5         Evans    CO                   FALSE       attack Not fleeing</span></span>
<span id="cb5-15"><a href="ois-graphs.html#cb5-15"></a><span class="co">#&gt; 6       Guthrie    OK                   FALSE       attack Not fleeing</span></span>
<span id="cb5-16"><a href="ois-graphs.html#cb5-16"></a><span class="co">#&gt;   body_camera</span></span>
<span id="cb5-17"><a href="ois-graphs.html#cb5-17"></a><span class="co">#&gt; 1       FALSE</span></span>
<span id="cb5-18"><a href="ois-graphs.html#cb5-18"></a><span class="co">#&gt; 2       FALSE</span></span>
<span id="cb5-19"><a href="ois-graphs.html#cb5-19"></a><span class="co">#&gt; 3       FALSE</span></span>
<span id="cb5-20"><a href="ois-graphs.html#cb5-20"></a><span class="co">#&gt; 4       FALSE</span></span>
<span id="cb5-21"><a href="ois-graphs.html#cb5-21"></a><span class="co">#&gt; 5       FALSE</span></span>
<span id="cb5-22"><a href="ois-graphs.html#cb5-22"></a><span class="co">#&gt; 6       FALSE</span></span></code></pre></div>
<p>Each row is a single shooting and it includes variables such as the victim’s name, the date of the shooting, demographic information about that person, the shooting city and state, and some information about the incident. It is clear from these first 6 rows that most variables are categorical so we can’t use <code>summary()</code> on them. Let’s use <code>summary()</code> on the date and age columns and then use <code>table()</code> for the rest.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="ois-graphs.html#cb6-1"></a><span class="kw">summary</span>(shootings<span class="op">$</span>date)</span>
<span id="cb6-2"><a href="ois-graphs.html#cb6-2"></a><span class="co">#&gt;         Min.      1st Qu.       Median         Mean      3rd Qu.         Max. </span></span>
<span id="cb6-3"><a href="ois-graphs.html#cb6-3"></a><span class="co">#&gt; &quot;2015-01-02&quot; &quot;2016-02-07&quot; &quot;2017-03-16&quot; &quot;2017-03-18&quot; &quot;2018-04-11&quot; &quot;2019-06-25&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="ois-graphs.html#cb7-1"></a><span class="kw">summary</span>(shootings<span class="op">$</span>age)</span>
<span id="cb7-2"><a href="ois-graphs.html#cb7-2"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s </span></span>
<span id="cb7-3"><a href="ois-graphs.html#cb7-3"></a><span class="co">#&gt;    6.00   27.00   35.00   36.84   45.00   91.00     182</span></span></code></pre></div>
<p>From this we can see that the data is from January 1st through the middle of 2019 (The Washington Post is continuously updating their data but I downloaded it on June 27th, 2019 which is why June 2019 is the end of our data). From the age column we can see that the average age is about 35 with most people around that range. However, the youngest person is 6 years old while the oldest is 91. Additionally, 182 rows have missing values for this variable.</p>
<p>Now we can use <code>table()</code> to see how often each value appears in each variable. We don’t want to do this for city or name as there would be too many values, but it will work for the other columns. Let’s start with manner_of_death.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="ois-graphs.html#cb8-1"></a><span class="kw">table</span>(shootings<span class="op">$</span>manner_of_death)</span>
<span id="cb8-2"><a href="ois-graphs.html#cb8-2"></a><span class="co">#&gt; </span></span>
<span id="cb8-3"><a href="ois-graphs.html#cb8-3"></a><span class="co">#&gt;             shot shot and Tasered </span></span>
<span id="cb8-4"><a href="ois-graphs.html#cb8-4"></a><span class="co">#&gt;             4146              225</span></span></code></pre></div>
<p>To turn these counts into percentages we can divide the results by the number of rows in our data and multiply by 100.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="ois-graphs.html#cb9-1"></a><span class="kw">table</span>(shootings<span class="op">$</span>manner_of_death) <span class="op">/</span><span class="st"> </span><span class="kw">nrow</span>(shootings) <span class="op">*</span><span class="st"> </span><span class="dv">100</span></span>
<span id="cb9-2"><a href="ois-graphs.html#cb9-2"></a><span class="co">#&gt; </span></span>
<span id="cb9-3"><a href="ois-graphs.html#cb9-3"></a><span class="co">#&gt;             shot shot and Tasered </span></span>
<span id="cb9-4"><a href="ois-graphs.html#cb9-4"></a><span class="co">#&gt;        94.852437         5.147563</span></span></code></pre></div>
<p>Now it is clear to see that in 95% of shootings, officers used a gun and in 5% of shootings they also used a Taser. As this is data on officer shooting deaths, this is unsurprising. Let’s take a look at whether the victim was armed.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="ois-graphs.html#cb10-1"></a><span class="kw">table</span>(shootings<span class="op">$</span>armed) <span class="op">/</span><span class="st"> </span><span class="kw">nrow</span>(shootings) <span class="op">*</span><span class="st"> </span><span class="dv">100</span></span>
<span id="cb10-2"><a href="ois-graphs.html#cb10-2"></a><span class="co">#&gt; </span></span>
<span id="cb10-3"><a href="ois-graphs.html#cb10-3"></a><span class="co">#&gt;                  air conditioner                               ax </span></span>
<span id="cb10-4"><a href="ois-graphs.html#cb10-4"></a><span class="co">#&gt;                       0.02287806                       0.48043926 </span></span>
<span id="cb10-5"><a href="ois-graphs.html#cb10-5"></a><span class="co">#&gt;                         barstool                     baseball bat </span></span>
<span id="cb10-6"><a href="ois-graphs.html#cb10-6"></a><span class="co">#&gt;                       0.02287806                       0.27453672 </span></span>
<span id="cb10-7"><a href="ois-graphs.html#cb10-7"></a><span class="co">#&gt;          baseball bat and bottle baseball bat and fireplace poker </span></span>
<span id="cb10-8"><a href="ois-graphs.html#cb10-8"></a><span class="co">#&gt;                       0.02287806                       0.02287806 </span></span>
<span id="cb10-9"><a href="ois-graphs.html#cb10-9"></a><span class="co">#&gt;                            baton                          bayonet </span></span>
<span id="cb10-10"><a href="ois-graphs.html#cb10-10"></a><span class="co">#&gt;                       0.09151224                       0.02287806 </span></span>
<span id="cb10-11"><a href="ois-graphs.html#cb10-11"></a><span class="co">#&gt;                           BB gun                     bean-bag gun </span></span>
<span id="cb10-12"><a href="ois-graphs.html#cb10-12"></a><span class="co">#&gt;                       0.06863418                       0.02287806 </span></span>
<span id="cb10-13"><a href="ois-graphs.html#cb10-13"></a><span class="co">#&gt;                      beer bottle                     blunt object </span></span>
<span id="cb10-14"><a href="ois-graphs.html#cb10-14"></a><span class="co">#&gt;                       0.06863418                       0.11439030 </span></span>
<span id="cb10-15"><a href="ois-graphs.html#cb10-15"></a><span class="co">#&gt;                    bow and arrow                       box cutter </span></span>
<span id="cb10-16"><a href="ois-graphs.html#cb10-16"></a><span class="co">#&gt;                       0.02287806                       0.22878060 </span></span>
<span id="cb10-17"><a href="ois-graphs.html#cb10-17"></a><span class="co">#&gt;                            brick                          carjack </span></span>
<span id="cb10-18"><a href="ois-graphs.html#cb10-18"></a><span class="co">#&gt;                       0.04575612                       0.02287806 </span></span>
<span id="cb10-19"><a href="ois-graphs.html#cb10-19"></a><span class="co">#&gt;                            chain                        chain saw </span></span>
<span id="cb10-20"><a href="ois-graphs.html#cb10-20"></a><span class="co">#&gt;                       0.04575612                       0.04575612 </span></span>
<span id="cb10-21"><a href="ois-graphs.html#cb10-21"></a><span class="co">#&gt;                         chainsaw                            chair </span></span>
<span id="cb10-22"><a href="ois-graphs.html#cb10-22"></a><span class="co">#&gt;                       0.02287806                       0.04575612 </span></span>
<span id="cb10-23"><a href="ois-graphs.html#cb10-23"></a><span class="co">#&gt;              claimed to be armed               contractor&#39;s level </span></span>
<span id="cb10-24"><a href="ois-graphs.html#cb10-24"></a><span class="co">#&gt;                       0.02287806                       0.02287806 </span></span>
<span id="cb10-25"><a href="ois-graphs.html#cb10-25"></a><span class="co">#&gt;                   cordless drill                         crossbow </span></span>
<span id="cb10-26"><a href="ois-graphs.html#cb10-26"></a><span class="co">#&gt;                       0.02287806                       0.20590254 </span></span>
<span id="cb10-27"><a href="ois-graphs.html#cb10-27"></a><span class="co">#&gt;                          crowbar                        fireworks </span></span>
<span id="cb10-28"><a href="ois-graphs.html#cb10-28"></a><span class="co">#&gt;                       0.06863418                       0.02287806 </span></span>
<span id="cb10-29"><a href="ois-graphs.html#cb10-29"></a><span class="co">#&gt;                         flagpole                       flashlight </span></span>
<span id="cb10-30"><a href="ois-graphs.html#cb10-30"></a><span class="co">#&gt;                       0.02287806                       0.02287806 </span></span>
<span id="cb10-31"><a href="ois-graphs.html#cb10-31"></a><span class="co">#&gt;                      garden tool                      glass shard </span></span>
<span id="cb10-32"><a href="ois-graphs.html#cb10-32"></a><span class="co">#&gt;                       0.02287806                       0.06863418 </span></span>
<span id="cb10-33"><a href="ois-graphs.html#cb10-33"></a><span class="co">#&gt;                              gun                      gun and car </span></span>
<span id="cb10-34"><a href="ois-graphs.html#cb10-34"></a><span class="co">#&gt;                      55.43353924                       0.11439030 </span></span>
<span id="cb10-35"><a href="ois-graphs.html#cb10-35"></a><span class="co">#&gt;                    gun and knife                    gun and sword </span></span>
<span id="cb10-36"><a href="ois-graphs.html#cb10-36"></a><span class="co">#&gt;                       0.34317090                       0.02287806 </span></span>
<span id="cb10-37"><a href="ois-graphs.html#cb10-37"></a><span class="co">#&gt;                  gun and vehicle              guns and explosives </span></span>
<span id="cb10-38"><a href="ois-graphs.html#cb10-38"></a><span class="co">#&gt;                       0.04575612                       0.06863418 </span></span>
<span id="cb10-39"><a href="ois-graphs.html#cb10-39"></a><span class="co">#&gt;                           hammer                       hand torch </span></span>
<span id="cb10-40"><a href="ois-graphs.html#cb10-40"></a><span class="co">#&gt;                       0.22878060                       0.02287806 </span></span>
<span id="cb10-41"><a href="ois-graphs.html#cb10-41"></a><span class="co">#&gt;                          hatchet                  hatchet and gun </span></span>
<span id="cb10-42"><a href="ois-graphs.html#cb10-42"></a><span class="co">#&gt;                       0.18302448                       0.04575612 </span></span>
<span id="cb10-43"><a href="ois-graphs.html#cb10-43"></a><span class="co">#&gt;                incendiary device                            knife </span></span>
<span id="cb10-44"><a href="ois-graphs.html#cb10-44"></a><span class="co">#&gt;                       0.04575612                      14.96225120 </span></span>
<span id="cb10-45"><a href="ois-graphs.html#cb10-45"></a><span class="co">#&gt;                 lawn mower blade                          machete </span></span>
<span id="cb10-46"><a href="ois-graphs.html#cb10-46"></a><span class="co">#&gt;                       0.04575612                       0.86936628 </span></span>
<span id="cb10-47"><a href="ois-graphs.html#cb10-47"></a><span class="co">#&gt;                  machete and gun                     meat cleaver </span></span>
<span id="cb10-48"><a href="ois-graphs.html#cb10-48"></a><span class="co">#&gt;                       0.02287806                       0.06863418 </span></span>
<span id="cb10-49"><a href="ois-graphs.html#cb10-49"></a><span class="co">#&gt;                  metal hand tool                     metal object </span></span>
<span id="cb10-50"><a href="ois-graphs.html#cb10-50"></a><span class="co">#&gt;                       0.02287806                       0.09151224 </span></span>
<span id="cb10-51"><a href="ois-graphs.html#cb10-51"></a><span class="co">#&gt;                       metal pipe                       metal pole </span></span>
<span id="cb10-52"><a href="ois-graphs.html#cb10-52"></a><span class="co">#&gt;                       0.25165866                       0.04575612 </span></span>
<span id="cb10-53"><a href="ois-graphs.html#cb10-53"></a><span class="co">#&gt;                       metal rake                      metal stick </span></span>
<span id="cb10-54"><a href="ois-graphs.html#cb10-54"></a><span class="co">#&gt;                       0.02287806                       0.06863418 </span></span>
<span id="cb10-55"><a href="ois-graphs.html#cb10-55"></a><span class="co">#&gt;                       motorcycle                         nail gun </span></span>
<span id="cb10-56"><a href="ois-graphs.html#cb10-56"></a><span class="co">#&gt;                       0.02287806                       0.02287806 </span></span>
<span id="cb10-57"><a href="ois-graphs.html#cb10-57"></a><span class="co">#&gt;                              oar                       pellet gun </span></span>
<span id="cb10-58"><a href="ois-graphs.html#cb10-58"></a><span class="co">#&gt;                       0.02287806                       0.02287806 </span></span>
<span id="cb10-59"><a href="ois-graphs.html#cb10-59"></a><span class="co">#&gt;                              pen                     pepper spray </span></span>
<span id="cb10-60"><a href="ois-graphs.html#cb10-60"></a><span class="co">#&gt;                       0.02287806                       0.02287806 </span></span>
<span id="cb10-61"><a href="ois-graphs.html#cb10-61"></a><span class="co">#&gt;                         pick-axe                    piece of wood </span></span>
<span id="cb10-62"><a href="ois-graphs.html#cb10-62"></a><span class="co">#&gt;                       0.06863418                       0.06863418 </span></span>
<span id="cb10-63"><a href="ois-graphs.html#cb10-63"></a><span class="co">#&gt;                             pipe                        pitchfork </span></span>
<span id="cb10-64"><a href="ois-graphs.html#cb10-64"></a><span class="co">#&gt;                       0.13726836                       0.04575612 </span></span>
<span id="cb10-65"><a href="ois-graphs.html#cb10-65"></a><span class="co">#&gt;                             pole                   pole and knife </span></span>
<span id="cb10-66"><a href="ois-graphs.html#cb10-66"></a><span class="co">#&gt;                       0.04575612                       0.04575612 </span></span>
<span id="cb10-67"><a href="ois-graphs.html#cb10-67"></a><span class="co">#&gt;                             rock                    samurai sword </span></span>
<span id="cb10-68"><a href="ois-graphs.html#cb10-68"></a><span class="co">#&gt;                       0.09151224                       0.02287806 </span></span>
<span id="cb10-69"><a href="ois-graphs.html#cb10-69"></a><span class="co">#&gt;                         scissors                      screwdriver </span></span>
<span id="cb10-70"><a href="ois-graphs.html#cb10-70"></a><span class="co">#&gt;                       0.06863418                       0.18302448 </span></span>
<span id="cb10-71"><a href="ois-graphs.html#cb10-71"></a><span class="co">#&gt;                     sharp object                           shovel </span></span>
<span id="cb10-72"><a href="ois-graphs.html#cb10-72"></a><span class="co">#&gt;                       0.11439030                       0.06863418 </span></span>
<span id="cb10-73"><a href="ois-graphs.html#cb10-73"></a><span class="co">#&gt;                            spear                          stapler </span></span>
<span id="cb10-74"><a href="ois-graphs.html#cb10-74"></a><span class="co">#&gt;                       0.02287806                       0.02287806 </span></span>
<span id="cb10-75"><a href="ois-graphs.html#cb10-75"></a><span class="co">#&gt;              straight edge razor                            sword </span></span>
<span id="cb10-76"><a href="ois-graphs.html#cb10-76"></a><span class="co">#&gt;                       0.06863418                       0.34317090 </span></span>
<span id="cb10-77"><a href="ois-graphs.html#cb10-77"></a><span class="co">#&gt;                            Taser                        tire iron </span></span>
<span id="cb10-78"><a href="ois-graphs.html#cb10-78"></a><span class="co">#&gt;                       0.41180508                       0.02287806 </span></span>
<span id="cb10-79"><a href="ois-graphs.html#cb10-79"></a><span class="co">#&gt;                       toy weapon                          unarmed </span></span>
<span id="cb10-80"><a href="ois-graphs.html#cb10-80"></a><span class="co">#&gt;                       3.54609929                       6.36010066 </span></span>
<span id="cb10-81"><a href="ois-graphs.html#cb10-81"></a><span class="co">#&gt;                     undetermined                   unknown weapon </span></span>
<span id="cb10-82"><a href="ois-graphs.html#cb10-82"></a><span class="co">#&gt;                       4.30107527                       1.25829330 </span></span>
<span id="cb10-83"><a href="ois-graphs.html#cb10-83"></a><span class="co">#&gt;                          vehicle                  vehicle and gun </span></span>
<span id="cb10-84"><a href="ois-graphs.html#cb10-84"></a><span class="co">#&gt;                       1.57858614                       0.02287806 </span></span>
<span id="cb10-85"><a href="ois-graphs.html#cb10-85"></a><span class="co">#&gt;                    walking stick                           wrench </span></span>
<span id="cb10-86"><a href="ois-graphs.html#cb10-86"></a><span class="co">#&gt;                       0.02287806                       0.02287806</span></span></code></pre></div>
<p>This is fairly hard to interpret as it is sorted alphabetically when we’d prefer it to be sorted by most common weapon. It also doesn’t round the percents. Let’s solve these two issues using <code>sort()</code> and <code>round()</code>. We could just wrap our initial code inside each of these functions but to avoid making too complicated code, we save the results in a temp object and incrementally use <code>sort()</code> and <code>round()</code> on that. We’ll round to two decimal places by setting the parameter <code>digits</code> to 2.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="ois-graphs.html#cb11-1"></a>temp &lt;-<span class="st"> </span><span class="kw">table</span>(shootings<span class="op">$</span>armed) <span class="op">/</span><span class="st"> </span><span class="kw">nrow</span>(shootings) <span class="op">*</span><span class="st"> </span><span class="dv">100</span></span>
<span id="cb11-2"><a href="ois-graphs.html#cb11-2"></a>temp &lt;-<span class="st"> </span><span class="kw">sort</span>(temp)</span>
<span id="cb11-3"><a href="ois-graphs.html#cb11-3"></a>temp &lt;-<span class="st"> </span><span class="kw">round</span>(temp, <span class="dt">digits =</span> <span class="dv">2</span>)</span>
<span id="cb11-4"><a href="ois-graphs.html#cb11-4"></a>temp</span>
<span id="cb11-5"><a href="ois-graphs.html#cb11-5"></a><span class="co">#&gt; </span></span>
<span id="cb11-6"><a href="ois-graphs.html#cb11-6"></a><span class="co">#&gt;                  air conditioner                         barstool </span></span>
<span id="cb11-7"><a href="ois-graphs.html#cb11-7"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-8"><a href="ois-graphs.html#cb11-8"></a><span class="co">#&gt;          baseball bat and bottle baseball bat and fireplace poker </span></span>
<span id="cb11-9"><a href="ois-graphs.html#cb11-9"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-10"><a href="ois-graphs.html#cb11-10"></a><span class="co">#&gt;                          bayonet                     bean-bag gun </span></span>
<span id="cb11-11"><a href="ois-graphs.html#cb11-11"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-12"><a href="ois-graphs.html#cb11-12"></a><span class="co">#&gt;                    bow and arrow                          carjack </span></span>
<span id="cb11-13"><a href="ois-graphs.html#cb11-13"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-14"><a href="ois-graphs.html#cb11-14"></a><span class="co">#&gt;                         chainsaw              claimed to be armed </span></span>
<span id="cb11-15"><a href="ois-graphs.html#cb11-15"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-16"><a href="ois-graphs.html#cb11-16"></a><span class="co">#&gt;               contractor&#39;s level                   cordless drill </span></span>
<span id="cb11-17"><a href="ois-graphs.html#cb11-17"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-18"><a href="ois-graphs.html#cb11-18"></a><span class="co">#&gt;                        fireworks                         flagpole </span></span>
<span id="cb11-19"><a href="ois-graphs.html#cb11-19"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-20"><a href="ois-graphs.html#cb11-20"></a><span class="co">#&gt;                       flashlight                      garden tool </span></span>
<span id="cb11-21"><a href="ois-graphs.html#cb11-21"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-22"><a href="ois-graphs.html#cb11-22"></a><span class="co">#&gt;                    gun and sword                       hand torch </span></span>
<span id="cb11-23"><a href="ois-graphs.html#cb11-23"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-24"><a href="ois-graphs.html#cb11-24"></a><span class="co">#&gt;                  machete and gun                  metal hand tool </span></span>
<span id="cb11-25"><a href="ois-graphs.html#cb11-25"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-26"><a href="ois-graphs.html#cb11-26"></a><span class="co">#&gt;                       metal rake                       motorcycle </span></span>
<span id="cb11-27"><a href="ois-graphs.html#cb11-27"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-28"><a href="ois-graphs.html#cb11-28"></a><span class="co">#&gt;                         nail gun                              oar </span></span>
<span id="cb11-29"><a href="ois-graphs.html#cb11-29"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-30"><a href="ois-graphs.html#cb11-30"></a><span class="co">#&gt;                       pellet gun                              pen </span></span>
<span id="cb11-31"><a href="ois-graphs.html#cb11-31"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-32"><a href="ois-graphs.html#cb11-32"></a><span class="co">#&gt;                     pepper spray                    samurai sword </span></span>
<span id="cb11-33"><a href="ois-graphs.html#cb11-33"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-34"><a href="ois-graphs.html#cb11-34"></a><span class="co">#&gt;                            spear                          stapler </span></span>
<span id="cb11-35"><a href="ois-graphs.html#cb11-35"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-36"><a href="ois-graphs.html#cb11-36"></a><span class="co">#&gt;                        tire iron                  vehicle and gun </span></span>
<span id="cb11-37"><a href="ois-graphs.html#cb11-37"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-38"><a href="ois-graphs.html#cb11-38"></a><span class="co">#&gt;                    walking stick                           wrench </span></span>
<span id="cb11-39"><a href="ois-graphs.html#cb11-39"></a><span class="co">#&gt;                             0.02                             0.02 </span></span>
<span id="cb11-40"><a href="ois-graphs.html#cb11-40"></a><span class="co">#&gt;                            brick                            chain </span></span>
<span id="cb11-41"><a href="ois-graphs.html#cb11-41"></a><span class="co">#&gt;                             0.05                             0.05 </span></span>
<span id="cb11-42"><a href="ois-graphs.html#cb11-42"></a><span class="co">#&gt;                        chain saw                            chair </span></span>
<span id="cb11-43"><a href="ois-graphs.html#cb11-43"></a><span class="co">#&gt;                             0.05                             0.05 </span></span>
<span id="cb11-44"><a href="ois-graphs.html#cb11-44"></a><span class="co">#&gt;                  gun and vehicle                  hatchet and gun </span></span>
<span id="cb11-45"><a href="ois-graphs.html#cb11-45"></a><span class="co">#&gt;                             0.05                             0.05 </span></span>
<span id="cb11-46"><a href="ois-graphs.html#cb11-46"></a><span class="co">#&gt;                incendiary device                 lawn mower blade </span></span>
<span id="cb11-47"><a href="ois-graphs.html#cb11-47"></a><span class="co">#&gt;                             0.05                             0.05 </span></span>
<span id="cb11-48"><a href="ois-graphs.html#cb11-48"></a><span class="co">#&gt;                       metal pole                        pitchfork </span></span>
<span id="cb11-49"><a href="ois-graphs.html#cb11-49"></a><span class="co">#&gt;                             0.05                             0.05 </span></span>
<span id="cb11-50"><a href="ois-graphs.html#cb11-50"></a><span class="co">#&gt;                             pole                   pole and knife </span></span>
<span id="cb11-51"><a href="ois-graphs.html#cb11-51"></a><span class="co">#&gt;                             0.05                             0.05 </span></span>
<span id="cb11-52"><a href="ois-graphs.html#cb11-52"></a><span class="co">#&gt;                           BB gun                      beer bottle </span></span>
<span id="cb11-53"><a href="ois-graphs.html#cb11-53"></a><span class="co">#&gt;                             0.07                             0.07 </span></span>
<span id="cb11-54"><a href="ois-graphs.html#cb11-54"></a><span class="co">#&gt;                          crowbar                      glass shard </span></span>
<span id="cb11-55"><a href="ois-graphs.html#cb11-55"></a><span class="co">#&gt;                             0.07                             0.07 </span></span>
<span id="cb11-56"><a href="ois-graphs.html#cb11-56"></a><span class="co">#&gt;              guns and explosives                     meat cleaver </span></span>
<span id="cb11-57"><a href="ois-graphs.html#cb11-57"></a><span class="co">#&gt;                             0.07                             0.07 </span></span>
<span id="cb11-58"><a href="ois-graphs.html#cb11-58"></a><span class="co">#&gt;                      metal stick                         pick-axe </span></span>
<span id="cb11-59"><a href="ois-graphs.html#cb11-59"></a><span class="co">#&gt;                             0.07                             0.07 </span></span>
<span id="cb11-60"><a href="ois-graphs.html#cb11-60"></a><span class="co">#&gt;                    piece of wood                         scissors </span></span>
<span id="cb11-61"><a href="ois-graphs.html#cb11-61"></a><span class="co">#&gt;                             0.07                             0.07 </span></span>
<span id="cb11-62"><a href="ois-graphs.html#cb11-62"></a><span class="co">#&gt;                           shovel              straight edge razor </span></span>
<span id="cb11-63"><a href="ois-graphs.html#cb11-63"></a><span class="co">#&gt;                             0.07                             0.07 </span></span>
<span id="cb11-64"><a href="ois-graphs.html#cb11-64"></a><span class="co">#&gt;                            baton                     metal object </span></span>
<span id="cb11-65"><a href="ois-graphs.html#cb11-65"></a><span class="co">#&gt;                             0.09                             0.09 </span></span>
<span id="cb11-66"><a href="ois-graphs.html#cb11-66"></a><span class="co">#&gt;                             rock                     blunt object </span></span>
<span id="cb11-67"><a href="ois-graphs.html#cb11-67"></a><span class="co">#&gt;                             0.09                             0.11 </span></span>
<span id="cb11-68"><a href="ois-graphs.html#cb11-68"></a><span class="co">#&gt;                      gun and car                     sharp object </span></span>
<span id="cb11-69"><a href="ois-graphs.html#cb11-69"></a><span class="co">#&gt;                             0.11                             0.11 </span></span>
<span id="cb11-70"><a href="ois-graphs.html#cb11-70"></a><span class="co">#&gt;                             pipe                          hatchet </span></span>
<span id="cb11-71"><a href="ois-graphs.html#cb11-71"></a><span class="co">#&gt;                             0.14                             0.18 </span></span>
<span id="cb11-72"><a href="ois-graphs.html#cb11-72"></a><span class="co">#&gt;                      screwdriver                         crossbow </span></span>
<span id="cb11-73"><a href="ois-graphs.html#cb11-73"></a><span class="co">#&gt;                             0.18                             0.21 </span></span>
<span id="cb11-74"><a href="ois-graphs.html#cb11-74"></a><span class="co">#&gt;                       box cutter                           hammer </span></span>
<span id="cb11-75"><a href="ois-graphs.html#cb11-75"></a><span class="co">#&gt;                             0.23                             0.23 </span></span>
<span id="cb11-76"><a href="ois-graphs.html#cb11-76"></a><span class="co">#&gt;                       metal pipe                     baseball bat </span></span>
<span id="cb11-77"><a href="ois-graphs.html#cb11-77"></a><span class="co">#&gt;                             0.25                             0.27 </span></span>
<span id="cb11-78"><a href="ois-graphs.html#cb11-78"></a><span class="co">#&gt;                    gun and knife                            sword </span></span>
<span id="cb11-79"><a href="ois-graphs.html#cb11-79"></a><span class="co">#&gt;                             0.34                             0.34 </span></span>
<span id="cb11-80"><a href="ois-graphs.html#cb11-80"></a><span class="co">#&gt;                            Taser                               ax </span></span>
<span id="cb11-81"><a href="ois-graphs.html#cb11-81"></a><span class="co">#&gt;                             0.41                             0.48 </span></span>
<span id="cb11-82"><a href="ois-graphs.html#cb11-82"></a><span class="co">#&gt;                          machete                   unknown weapon </span></span>
<span id="cb11-83"><a href="ois-graphs.html#cb11-83"></a><span class="co">#&gt;                             0.87                             1.26 </span></span>
<span id="cb11-84"><a href="ois-graphs.html#cb11-84"></a><span class="co">#&gt;                          vehicle                       toy weapon </span></span>
<span id="cb11-85"><a href="ois-graphs.html#cb11-85"></a><span class="co">#&gt;                             1.58                             3.55 </span></span>
<span id="cb11-86"><a href="ois-graphs.html#cb11-86"></a><span class="co">#&gt;                     undetermined                          unarmed </span></span>
<span id="cb11-87"><a href="ois-graphs.html#cb11-87"></a><span class="co">#&gt;                             4.30                             6.36 </span></span>
<span id="cb11-88"><a href="ois-graphs.html#cb11-88"></a><span class="co">#&gt;                            knife                              gun </span></span>
<span id="cb11-89"><a href="ois-graphs.html#cb11-89"></a><span class="co">#&gt;                            14.96                            55.43</span></span></code></pre></div>
<p>Now it is a little easier to interpret. In over half of the cases the victim was carrying a gun. 15% of the time they had a knife. And 6% of the time they were unarmed. In 4% of cases there is no data on any weapon. That leaves about 20% of cases where one of the many rare weapons were used, including some that overlap with one of the more common categories.</p>
<p>Think about how you’d graph this data. There are 85 unique values in this column though only 7 of them are common enough to appear more than 1% of the time. Should we graph all of them? No, that would overwhelm any graph. For a useful graph we would need to combine many of these into a single category - possibly called “other weapons.” And how do we deal with values where they could meet multiple larger categories? There is not always a clear answer for these types of questions. It depends on what data you’re interested in, the goal of the graph, the target audience, and personal preference.</p>
<p>Let’s keep exploring the data by looking at gender and race.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="ois-graphs.html#cb12-1"></a><span class="kw">table</span>(shootings<span class="op">$</span>gender) <span class="op">/</span><span class="st"> </span><span class="kw">nrow</span>(shootings) <span class="op">*</span><span class="st"> </span><span class="dv">100</span></span>
<span id="cb12-2"><a href="ois-graphs.html#cb12-2"></a><span class="co">#&gt; </span></span>
<span id="cb12-3"><a href="ois-graphs.html#cb12-3"></a><span class="co">#&gt;         F         M </span></span>
<span id="cb12-4"><a href="ois-graphs.html#cb12-4"></a><span class="co">#&gt;  4.667124 95.218485</span></span></code></pre></div>
<p>Nearly all of the shootings are of a man. Given that we saw most shootings involved a person with a weapon and that most violent crimes are committed by men, this shouldn’t be too surprising.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="ois-graphs.html#cb13-1"></a>temp &lt;-<span class="st"> </span><span class="kw">table</span>(shootings<span class="op">$</span>race) <span class="op">/</span><span class="st"> </span><span class="kw">nrow</span>(shootings) <span class="op">*</span><span class="st"> </span><span class="dv">100</span></span>
<span id="cb13-2"><a href="ois-graphs.html#cb13-2"></a>temp &lt;-<span class="st"> </span><span class="kw">sort</span>(temp)</span>
<span id="cb13-3"><a href="ois-graphs.html#cb13-3"></a>temp &lt;-<span class="st"> </span><span class="kw">round</span>(temp, <span class="dt">digits =</span> <span class="dv">2</span>)</span>
<span id="cb13-4"><a href="ois-graphs.html#cb13-4"></a>temp</span>
<span id="cb13-5"><a href="ois-graphs.html#cb13-5"></a><span class="co">#&gt; </span></span>
<span id="cb13-6"><a href="ois-graphs.html#cb13-6"></a><span class="co">#&gt;     O     N     A     H     B     W </span></span>
<span id="cb13-7"><a href="ois-graphs.html#cb13-7"></a><span class="co">#&gt;  0.87  1.46  1.62 16.45 22.90 44.89</span></span></code></pre></div>
<p>White people are the most likely to be killed by police followed by Black people and Hispanic people.</p>
<p>We can do a simple cross-tab to see if there the relationship between gender and race.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="ois-graphs.html#cb14-1"></a><span class="kw">table</span>(shootings<span class="op">$</span>gender, shootings<span class="op">$</span>race)</span>
<span id="cb14-2"><a href="ois-graphs.html#cb14-2"></a><span class="co">#&gt;    </span></span>
<span id="cb14-3"><a href="ois-graphs.html#cb14-3"></a><span class="co">#&gt;        A    B    H    N    O    W</span></span>
<span id="cb14-4"><a href="ois-graphs.html#cb14-4"></a><span class="co">#&gt;   F    3   42   21    5    3  107</span></span>
<span id="cb14-5"><a href="ois-graphs.html#cb14-5"></a><span class="co">#&gt;   M   68  959  697   59   35 1853</span></span></code></pre></div>
<p>One annoying thing with these two variables is that it doesn’t spell out the name. Instead of “Female”, for example, it has “F”. For our graphs we want to spell out the words so it is clear to viewers. We’ll fix this issue, and the issue of having many weapon categories, as we graph each variable.</p>
<p>We’ve spent some time looking at the data so now we’re ready to make the graphs. We need to load the <code>ggplot2</code> package.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="ois-graphs.html#cb15-1"></a><span class="kw">library</span>(ggplot2)</span></code></pre></div>
<div id="density-plot" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Density plot</h2>
<p>As a reminder, the benefit of using <code>ggplot()</code> is we can start with a simple plot and build our way up to more complicated graphs.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="ois-graphs.html#cb16-1"></a><span class="kw">ggplot</span>(shootings, <span class="kw">aes</span>(<span class="dt">x =</span> age)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb16-2"><a href="ois-graphs.html#cb16-2"></a><span class="st">  </span><span class="kw">geom_density</span>()</span>
<span id="cb16-3"><a href="ois-graphs.html#cb16-3"></a><span class="co">#&gt; Warning: Removed 182 rows containing non-finite values (stat_density).</span></span></code></pre></div>
<p><img src="graphing-2_files/figure-html/unnamed-chunk-16-1.png" width="90%" style="display: block; margin: auto;" /></p>
</div>
<div id="histogram" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> Histogram</h2>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="ois-graphs.html#cb17-1"></a><span class="kw">ggplot</span>(shootings, <span class="kw">aes</span>(<span class="dt">x =</span> age)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb17-2"><a href="ois-graphs.html#cb17-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>()</span>
<span id="cb17-3"><a href="ois-graphs.html#cb17-3"></a><span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></span>
<span id="cb17-4"><a href="ois-graphs.html#cb17-4"></a><span class="co">#&gt; Warning: Removed 182 rows containing non-finite values (stat_bin).</span></span></code></pre></div>
<p><img src="graphing-2_files/figure-html/unnamed-chunk-17-1.png" width="90%" style="display: block; margin: auto;" /></p>
</div>
<div id="bar-graph" class="section level2" number="7.3">
<h2><span class="header-section-number">7.3</span> Bar graph</h2>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="ois-graphs.html#cb18-1"></a><span class="kw">ggplot</span>(shootings, <span class="kw">aes</span>(<span class="dt">x =</span> race)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb18-2"><a href="ois-graphs.html#cb18-2"></a><span class="st">  </span><span class="kw">geom_bar</span>()</span></code></pre></div>
<p><img src="graphing-2_files/figure-html/unnamed-chunk-18-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="ois-graphs.html#cb19-1"></a>race_order &lt;-<span class="st"> </span><span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">table</span>(shootings<span class="op">$</span>race), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>))</span>
<span id="cb19-2"><a href="ois-graphs.html#cb19-2"></a></span>
<span id="cb19-3"><a href="ois-graphs.html#cb19-3"></a><span class="kw">ggplot</span>(shootings, <span class="kw">aes</span>(<span class="dt">x =</span> race)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb19-4"><a href="ois-graphs.html#cb19-4"></a><span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span></span>
<span id="cb19-5"><a href="ois-graphs.html#cb19-5"></a><span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">limits =</span> race_order)</span>
<span id="cb19-6"><a href="ois-graphs.html#cb19-6"></a><span class="co">#&gt; Warning: Removed 516 rows containing non-finite values (stat_count).</span></span></code></pre></div>
<p><img src="graphing-2_files/figure-html/unnamed-chunk-19-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>For bar graphs it is often useful to flip the graph so each value is a row in the graph rather than a column. This also makes it much easier to read the value name.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="ois-graphs.html#cb20-1"></a>race_order &lt;-<span class="st"> </span><span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">table</span>(shootings<span class="op">$</span>race)))</span>
<span id="cb20-2"><a href="ois-graphs.html#cb20-2"></a><span class="kw">ggplot</span>(shootings, <span class="kw">aes</span>(<span class="dt">x =</span> race)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb20-3"><a href="ois-graphs.html#cb20-3"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">y =</span> (..count..)<span class="op">/</span><span class="kw">sum</span>(..count..))) <span class="op">+</span></span>
<span id="cb20-4"><a href="ois-graphs.html#cb20-4"></a><span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span></span>
<span id="cb20-5"><a href="ois-graphs.html#cb20-5"></a><span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">limits =</span> race_order)</span>
<span id="cb20-6"><a href="ois-graphs.html#cb20-6"></a><span class="co">#&gt; Warning: Removed 516 rows containing non-finite values (stat_count).</span></span></code></pre></div>
<p><img src="graphing-2_files/figure-html/unnamed-chunk-20-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="ois-graphs.html#cb21-1"></a>race_order &lt;-<span class="st"> </span><span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">table</span>(shootings<span class="op">$</span>race)))</span>
<span id="cb21-2"><a href="ois-graphs.html#cb21-2"></a><span class="kw">ggplot</span>(shootings, <span class="kw">aes</span>(<span class="dt">x =</span> race)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb21-3"><a href="ois-graphs.html#cb21-3"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">y =</span> (..count..)<span class="op">/</span><span class="kw">sum</span>(..count..))) <span class="op">+</span></span>
<span id="cb21-4"><a href="ois-graphs.html#cb21-4"></a><span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span></span>
<span id="cb21-5"><a href="ois-graphs.html#cb21-5"></a><span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">limits =</span> race_order) <span class="op">+</span></span>
<span id="cb21-6"><a href="ois-graphs.html#cb21-6"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> scales<span class="op">::</span>percent)</span>
<span id="cb21-7"><a href="ois-graphs.html#cb21-7"></a><span class="co">#&gt; Warning: Removed 516 rows containing non-finite values (stat_count).</span></span></code></pre></div>
<p><img src="graphing-2_files/figure-html/unnamed-chunk-21-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>We can reuse this code to make a similar graph for the gender variable.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="ois-graphs.html#cb22-1"></a>race_order &lt;-<span class="st"> </span><span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">table</span>(shootings<span class="op">$</span>gender)))</span>
<span id="cb22-2"><a href="ois-graphs.html#cb22-2"></a><span class="kw">ggplot</span>(shootings, <span class="kw">aes</span>(<span class="dt">x =</span> gender)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb22-3"><a href="ois-graphs.html#cb22-3"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">y =</span> (..count..)<span class="op">/</span><span class="kw">sum</span>(..count..))) <span class="op">+</span></span>
<span id="cb22-4"><a href="ois-graphs.html#cb22-4"></a><span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span></span>
<span id="cb22-5"><a href="ois-graphs.html#cb22-5"></a><span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">limits =</span> race_order) <span class="op">+</span></span>
<span id="cb22-6"><a href="ois-graphs.html#cb22-6"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> scales<span class="op">::</span>percent)</span>
<span id="cb22-7"><a href="ois-graphs.html#cb22-7"></a><span class="co">#&gt; Warning: Removed 5 rows containing non-finite values (stat_count).</span></span></code></pre></div>
<p><img src="graphing-2_files/figure-html/unnamed-chunk-22-1.png" width="90%" style="display: block; margin: auto;" /></p>
</div>
<div id="time-series" class="section level2" number="7.4">
<h2><span class="header-section-number">7.4</span> Time Series</h2>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="ois-graphs.html#cb23-1"></a><span class="kw">library</span>(lubridate)</span>
<span id="cb23-2"><a href="ois-graphs.html#cb23-2"></a><span class="co">#&gt; </span></span>
<span id="cb23-3"><a href="ois-graphs.html#cb23-3"></a><span class="co">#&gt; Attaching package: &#39;lubridate&#39;</span></span>
<span id="cb23-4"><a href="ois-graphs.html#cb23-4"></a><span class="co">#&gt; The following objects are masked from &#39;package:base&#39;:</span></span>
<span id="cb23-5"><a href="ois-graphs.html#cb23-5"></a><span class="co">#&gt; </span></span>
<span id="cb23-6"><a href="ois-graphs.html#cb23-6"></a><span class="co">#&gt;     date, intersect, setdiff, union</span></span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="ois-graphs.html#cb24-1"></a>shootings<span class="op">$</span>dummy &lt;-<span class="st"> </span><span class="dv">1</span></span>
<span id="cb24-2"><a href="ois-graphs.html#cb24-2"></a>shootings<span class="op">$</span>month_year &lt;-<span class="st"> </span><span class="kw">floor_date</span>(shootings<span class="op">$</span>date, <span class="dt">unit =</span> <span class="st">&quot;month&quot;</span>)</span>
<span id="cb24-3"><a href="ois-graphs.html#cb24-3"></a>shootings<span class="op">$</span>year &lt;-<span class="st"> </span><span class="kw">year</span>(shootings<span class="op">$</span>date)</span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="ois-graphs.html#cb25-1"></a>monthly_shootings &lt;-<span class="st"> </span><span class="kw">aggregate</span>(dummy <span class="op">~</span><span class="st"> </span>month_year, <span class="dt">data =</span> shootings, <span class="dt">FUN =</span> sum)</span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="ois-graphs.html#cb26-1"></a><span class="kw">ggplot</span>(monthly_shootings, <span class="kw">aes</span>(<span class="dt">x =</span> month_year, <span class="dt">y =</span> dummy)) <span class="op">+</span></span>
<span id="cb26-2"><a href="ois-graphs.html#cb26-2"></a><span class="st">  </span><span class="kw">geom_line</span>()</span></code></pre></div>
<p><img src="graphing-2_files/figure-html/unnamed-chunk-26-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="ois-graphs.html#cb27-1"></a>yearly_shootings &lt;-<span class="st"> </span><span class="kw">aggregate</span>(dummy <span class="op">~</span><span class="st"> </span>year, <span class="dt">data =</span> shootings, <span class="dt">FUN =</span> sum)</span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="ois-graphs.html#cb28-1"></a><span class="kw">ggplot</span>(yearly_shootings, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> dummy)) <span class="op">+</span></span>
<span id="cb28-2"><a href="ois-graphs.html#cb28-2"></a><span class="st">  </span><span class="kw">geom_line</span>()</span></code></pre></div>
<p><img src="graphing-2_files/figure-html/unnamed-chunk-28-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="ois-graphs.html#cb29-1"></a><span class="kw">ggplot</span>(yearly_shootings[yearly_shootings<span class="op">$</span>year <span class="op">!=</span><span class="st"> </span><span class="dv">2019</span>, ], <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> dummy)) <span class="op">+</span></span>
<span id="cb29-2"><a href="ois-graphs.html#cb29-2"></a><span class="st">  </span><span class="kw">geom_line</span>()</span></code></pre></div>
<p><img src="graphing-2_files/figure-html/unnamed-chunk-29-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="ois-graphs.html#cb30-1"></a>yearly_shootings &lt;-<span class="st"> </span><span class="kw">aggregate</span>(dummy <span class="op">~</span><span class="st"> </span>month_year, <span class="dt">data =</span> shootings[shootings<span class="op">$</span>armed <span class="op">==</span><span class="st"> &quot;unarmed&quot;</span>, ], <span class="dt">FUN =</span> sum)</span>
<span id="cb30-2"><a href="ois-graphs.html#cb30-2"></a><span class="kw">ggplot</span>(yearly_shootings, <span class="kw">aes</span>(<span class="dt">x =</span> month_year, <span class="dt">y =</span> dummy)) <span class="op">+</span></span>
<span id="cb30-3"><a href="ois-graphs.html#cb30-3"></a><span class="st">  </span><span class="kw">geom_line</span>()</span></code></pre></div>
<p><img src="graphing-2_files/figure-html/unnamed-chunk-30-1.png" width="90%" style="display: block; margin: auto;" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="graphing-intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="hotspot-maps.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jacobkap/crimebythenumbers/edit/master/graphing-2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
