<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Introduction to R and RStudio | Crime by the Numbers: A Criminologist’s Guide to R</title>
  <meta name="description" content="This book introduces the programming language R and is meant for undergrads or graduate students studying criminology. R is a programming language that is well-suited to the type of work frequently done in criminology - taking messy data and turning it into useful information. While R is a useful tool for many fields of study, this book focuses on the skills criminologists should know and uses crime data for the example data sets." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Introduction to R and RStudio | Crime by the Numbers: A Criminologist’s Guide to R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://crimebythenumbers.com" />
  
  <meta property="og:description" content="This book introduces the programming language R and is meant for undergrads or graduate students studying criminology. R is a programming language that is well-suited to the type of work frequently done in criminology - taking messy data and turning it into useful information. While R is a useful tool for many fields of study, this book focuses on the skills criminologists should know and uses crime data for the example data sets." />
  <meta name="github-repo" content="jacobkap/crimebythenumbers" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Introduction to R and RStudio | Crime by the Numbers: A Criminologist’s Guide to R" />
  
  <meta name="twitter:description" content="This book introduces the programming language R and is meant for undergrads or graduate students studying criminology. R is a programming language that is well-suited to the type of work frequently done in criminology - taking messy data and turning it into useful information. While R is a useful tool for many fields of study, this book focuses on the skills criminologists should know and uses crime data for the example data sets." />
  

<meta name="author" content="Jacob Kaplan" />


<meta name="date" content="2021-12-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="a-soup-to-nuts-project-example.html"/>
<link rel="next" href="data_types.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet" />
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet" />
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-99359926-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-99359926-6');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Crime by the Numbers: A Criminologist's Guide to R</a></strong></li>

<li class="divider"></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#why-learn-to-program"><i class="fa fa-check"></i><b>1.1</b> Why learn to program?</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#scale"><i class="fa fa-check"></i><b>1.1.1</b> Scale</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#reproducibility"><i class="fa fa-check"></i><b>1.1.2</b> Reproducibility</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#what-you-will-learn"><i class="fa fa-check"></i><b>1.2</b> What you will learn</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#skills"><i class="fa fa-check"></i><b>1.2.1</b> Skills</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#data"><i class="fa fa-check"></i><b>1.2.2</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#what-you-wont-learn"><i class="fa fa-check"></i><b>1.3</b> What you won’t learn</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#simple-vs-easy"><i class="fa fa-check"></i><b>1.4</b> Simple vs Easy</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#how-to-read-this-book"><i class="fa fa-check"></i><b>1.5</b> How to read this book</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#citing-this-book"><i class="fa fa-check"></i><b>1.6</b> Citing this book</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#how-to-contribute-to-this-book"><i class="fa fa-check"></i><b>1.7</b> How to contribute to this book</a></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#where-to-find-data-included-in-this-book"><i class="fa fa-check"></i><b>1.8</b> Where to find data included in this book</a></li>
<li class="chapter" data-level="1.9" data-path="index.html"><a href="index.html#where-to-find-code-included-in-this-book"><i class="fa fa-check"></i><b>1.9</b> Where to find code included in this book</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the author</a></li>
<li class="chapter" data-level="2" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html"><i class="fa fa-check"></i><b>2</b> A soup to nuts project example</a>
<ul>
<li class="chapter" data-level="2.1" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#big-picture-data-example"><i class="fa fa-check"></i><b>2.1</b> Big picture data example</a></li>
<li class="chapter" data-level="2.2" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#little-picture-data-example"><i class="fa fa-check"></i><b>2.2</b> Little picture data example</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#loading-packages"><i class="fa fa-check"></i><b>2.2.1</b> Loading packages</a></li>
<li class="chapter" data-level="2.2.2" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#loading-data"><i class="fa fa-check"></i><b>2.2.2</b> Loading data</a></li>
<li class="chapter" data-level="2.2.3" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#cleaning"><i class="fa fa-check"></i><b>2.2.3</b> Cleaning</a></li>
<li class="chapter" data-level="2.2.4" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#aggregating"><i class="fa fa-check"></i><b>2.2.4</b> Aggregating</a></li>
<li class="chapter" data-level="2.2.5" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#graphing"><i class="fa fa-check"></i><b>2.2.5</b> Graphing</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="a-soup-to-nuts-project-example.html"><a href="a-soup-to-nuts-project-example.html#reusing-and-modifying-code"><i class="fa fa-check"></i><b>2.3</b> Reusing and modifying code</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="intro-to-r.html"><a href="intro-to-r.html"><i class="fa fa-check"></i><b>3</b> Introduction to R and RStudio</a>
<ul>
<li class="chapter" data-level="3.1" data-path="intro-to-r.html"><a href="intro-to-r.html#using-rstudio"><i class="fa fa-check"></i><b>3.1</b> Using RStudio</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="intro-to-r.html"><a href="intro-to-r.html#opening-an-r-script"><i class="fa fa-check"></i><b>3.1.1</b> Opening an R Script</a></li>
<li class="chapter" data-level="3.1.2" data-path="intro-to-r.html"><a href="intro-to-r.html#setting-the-working-directory"><i class="fa fa-check"></i><b>3.1.2</b> Setting the working directory</a></li>
<li class="chapter" data-level="3.1.3" data-path="intro-to-r.html"><a href="intro-to-r.html#changing-rstudio"><i class="fa fa-check"></i><b>3.1.3</b> Changing RStudio</a></li>
<li class="chapter" data-level="3.1.4" data-path="intro-to-r.html"><a href="intro-to-r.html#helpful-cheat-sheets"><i class="fa fa-check"></i><b>3.1.4</b> Helpful Cheat Sheets</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="intro-to-r.html"><a href="intro-to-r.html#assignment"><i class="fa fa-check"></i><b>3.2</b> Assigning variables</a></li>
<li class="chapter" data-level="3.3" data-path="intro-to-r.html"><a href="intro-to-r.html#functions-intro"><i class="fa fa-check"></i><b>3.3</b> What are functions (and packages)?</a></li>
<li class="chapter" data-level="3.4" data-path="intro-to-r.html"><a href="intro-to-r.html#reading-data-into-r"><i class="fa fa-check"></i><b>3.4</b> Reading data into R</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="intro-to-r.html"><a href="intro-to-r.html#loading-data-intro"><i class="fa fa-check"></i><b>3.4.1</b> Loading data</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="intro-to-r.html"><a href="intro-to-r.html#first-steps-to-exploring-data"><i class="fa fa-check"></i><b>3.5</b> First steps to exploring data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data_types.html"><a href="data_types.html"><i class="fa fa-check"></i><b>4</b> Data types and structures</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data_types.html"><a href="data_types.html#data-types"><i class="fa fa-check"></i><b>4.1</b> Data types</a></li>
<li class="chapter" data-level="4.2" data-path="data_types.html"><a href="data_types.html#data-structures"><i class="fa fa-check"></i><b>4.2</b> Data structures</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data_types.html"><a href="data_types.html#vectors"><i class="fa fa-check"></i><b>4.2.1</b> Vectors (collections of “things”)</a></li>
<li class="chapter" data-level="4.2.2" data-path="data_types.html"><a href="data_types.html#data.frames"><i class="fa fa-check"></i><b>4.2.2</b> Data.frames</a></li>
<li class="chapter" data-level="4.2.3" data-path="data_types.html"><a href="data_types.html#other-data-structures"><i class="fa fa-check"></i><b>4.2.3</b> Other data structures</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Project Management</b></span></li>
<li class="chapter" data-level="5" data-path="mise-en-place.html"><a href="mise-en-place.html"><i class="fa fa-check"></i><b>5</b> <em>Mise en place</em></a>
<ul>
<li class="chapter" data-level="5.1" data-path="mise-en-place.html"><a href="mise-en-place.html#starting-with-a-pencil-and-paper"><i class="fa fa-check"></i><b>5.1</b> Starting with a pencil and paper</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="mise-en-place.html"><a href="mise-en-place.html#tables-and-graphs"><i class="fa fa-check"></i><b>5.1.1</b> Tables and graphs</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="mise-en-place.html"><a href="mise-en-place.html#r-projects"><i class="fa fa-check"></i><b>5.2</b> R Projects</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="mise-en-place.html"><a href="mise-en-place.html#folders"><i class="fa fa-check"></i><b>5.2.1</b> Folders</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="mise-en-place.html"><a href="mise-en-place.html#modular-r-scripts"><i class="fa fa-check"></i><b>5.3</b> Modular R scripts</a></li>
<li class="chapter" data-level="5.4" data-path="mise-en-place.html"><a href="mise-en-place.html#modular-code"><i class="fa fa-check"></i><b>5.4</b> Modular code</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="mise-en-place.html"><a href="mise-en-place.html#section-labels"><i class="fa fa-check"></i><b>5.4.1</b> Section Labels</a></li>
<li class="chapter" data-level="5.4.2" data-path="mise-en-place.html"><a href="mise-en-place.html#helper-r-scripts"><i class="fa fa-check"></i><b>5.4.2</b> Helper R Scripts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="collaboration.html"><a href="collaboration.html"><i class="fa fa-check"></i><b>6</b> Collaboration</a>
<ul>
<li class="chapter" data-level="6.1" data-path="collaboration.html"><a href="collaboration.html#code-review"><i class="fa fa-check"></i><b>6.1</b> Code review</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="collaboration.html"><a href="collaboration.html#style-guidelines"><i class="fa fa-check"></i><b>6.1.1</b> Style guidelines</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="collaboration.html"><a href="collaboration.html#documentation"><i class="fa fa-check"></i><b>6.2</b> Documentation</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="collaboration.html"><a href="collaboration.html#comments"><i class="fa fa-check"></i><b>6.2.1</b> Comments</a></li>
<li class="chapter" data-level="6.2.2" data-path="collaboration.html"><a href="collaboration.html#vignettes"><i class="fa fa-check"></i><b>6.2.2</b> Vignettes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>7</b> R Markdown</a>
<ul>
<li class="chapter" data-level="7.1" data-path="r-markdown.html"><a href="r-markdown.html#code-1"><i class="fa fa-check"></i><b>7.1</b> Code</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="r-markdown.html"><a href="r-markdown.html#hiding-code-in-the-output"><i class="fa fa-check"></i><b>7.1.1</b> Hiding code in the output</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="r-markdown.html"><a href="r-markdown.html#inline-code"><i class="fa fa-check"></i><b>7.2</b> Inline Code</a></li>
<li class="chapter" data-level="7.3" data-path="r-markdown.html"><a href="r-markdown.html#tables"><i class="fa fa-check"></i><b>7.3</b> Tables</a></li>
<li class="chapter" data-level="7.4" data-path="r-markdown.html"><a href="r-markdown.html#footnotes"><i class="fa fa-check"></i><b>7.4</b> Footnotes</a></li>
<li class="chapter" data-level="7.5" data-path="r-markdown.html"><a href="r-markdown.html#citation"><i class="fa fa-check"></i><b>7.5</b> Citation</a></li>
<li class="chapter" data-level="7.6" data-path="r-markdown.html"><a href="r-markdown.html#spell-check"><i class="fa fa-check"></i><b>7.6</b> Spell check</a></li>
<li class="chapter" data-level="7.7" data-path="r-markdown.html"><a href="r-markdown.html#making-the-output-file"><i class="fa fa-check"></i><b>7.7</b> Making the output file</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tests.html"><a href="tests.html"><i class="fa fa-check"></i><b>8</b> Testing your code</a>
<ul>
<li class="chapter" data-level="8.1" data-path="tests.html"><a href="tests.html#why-test-your-code"><i class="fa fa-check"></i><b>8.1</b> Why test your code?</a></li>
<li class="chapter" data-level="8.2" data-path="tests.html"><a href="tests.html#unit-tests"><i class="fa fa-check"></i><b>8.2</b> Unit tests</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="tests.html"><a href="tests.html#modular-test-scripts"><i class="fa fa-check"></i><b>8.2.1</b> Modular test scripts</a></li>
<li class="chapter" data-level="8.2.2" data-path="tests.html"><a href="tests.html#how-to-write-unit-tests"><i class="fa fa-check"></i><b>8.2.2</b> How to write unit tests</a></li>
<li class="chapter" data-level="8.2.3" data-path="tests.html"><a href="tests.html#what-to-test"><i class="fa fa-check"></i><b>8.2.3</b> What to test</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="tests.html"><a href="tests.html#test-driven-development-tdd"><i class="fa fa-check"></i><b>8.3</b> Test-driven development (TDD)</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>9</b> Git</a>
<ul>
<li class="chapter" data-level="9.1" data-path="git.html"><a href="git.html#what-is-git-and-why-do-i-need-it"><i class="fa fa-check"></i><b>9.1</b> What is Git and why do I need it?</a></li>
<li class="chapter" data-level="9.2" data-path="git.html"><a href="git.html#git-basics"><i class="fa fa-check"></i><b>9.2</b> Git basics</a></li>
<li class="chapter" data-level="9.3" data-path="git.html"><a href="git.html#using-git"><i class="fa fa-check"></i><b>9.3</b> Using Git</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="git.html"><a href="git.html#setting-up-git"><i class="fa fa-check"></i><b>9.3.1</b> Setting up Git</a></li>
<li class="chapter" data-level="9.3.2" data-path="git.html"><a href="git.html#setting-up-github"><i class="fa fa-check"></i><b>9.3.2</b> Setting up Github</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="git.html"><a href="git.html#setting-up-git-on-an-already-made-r-project"><i class="fa fa-check"></i><b>9.4</b> Setting up Git on an already made R Project</a></li>
<li class="chapter" data-level="9.5" data-path="git.html"><a href="git.html#using-git-through-rstudio"><i class="fa fa-check"></i><b>9.5</b> Using Git through RStudio</a></li>
<li class="chapter" data-level="9.6" data-path="git.html"><a href="git.html#when-to-commit"><i class="fa fa-check"></i><b>9.6</b> When to commit</a></li>
<li class="chapter" data-level="9.7" data-path="git.html"><a href="git.html#other-resources"><i class="fa fa-check"></i><b>9.7</b> Other resources</a></li>
</ul></li>
<li class="part"><span><b>III Clean</b></span></li>
<li class="chapter" data-level="10" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html"><i class="fa fa-check"></i><b>10</b> Reading and writing Data</a>
<ul>
<li class="chapter" data-level="10.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#reading-data-into-r-1"><i class="fa fa-check"></i><b>10.1</b> Reading Data into R</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#r"><i class="fa fa-check"></i><b>10.1.1</b> R</a></li>
<li class="chapter" data-level="10.1.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#excel"><i class="fa fa-check"></i><b>10.1.2</b> Excel</a></li>
<li class="chapter" data-level="10.1.3" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#stata"><i class="fa fa-check"></i><b>10.1.3</b> Stata</a></li>
<li class="chapter" data-level="10.1.4" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#sas"><i class="fa fa-check"></i><b>10.1.4</b> SAS</a></li>
<li class="chapter" data-level="10.1.5" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#spss"><i class="fa fa-check"></i><b>10.1.5</b> SPSS</a></li>
<li class="chapter" data-level="10.1.6" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#fixed-width-ascii"><i class="fa fa-check"></i><b>10.1.6</b> Fixed-width ASCII</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#writing-data"><i class="fa fa-check"></i><b>10.2</b> Writing Data</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#r-1"><i class="fa fa-check"></i><b>10.2.1</b> R</a></li>
<li class="chapter" data-level="10.2.2" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#excel-1"><i class="fa fa-check"></i><b>10.2.2</b> Excel</a></li>
<li class="chapter" data-level="10.2.3" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#stata-1"><i class="fa fa-check"></i><b>10.2.3</b> Stata</a></li>
<li class="chapter" data-level="10.2.4" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#sas-1"><i class="fa fa-check"></i><b>10.2.4</b> SAS</a></li>
<li class="chapter" data-level="10.2.5" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#spss-1"><i class="fa fa-check"></i><b>10.2.5</b> SPSS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="subsetting-intro.html"><a href="subsetting-intro.html"><i class="fa fa-check"></i><b>11</b> Subsetting: Making big things small</a>
<ul>
<li class="chapter" data-level="11.1" data-path="subsetting-intro.html"><a href="subsetting-intro.html#select-specific-values"><i class="fa fa-check"></i><b>11.1</b> Select specific values</a></li>
<li class="chapter" data-level="11.2" data-path="subsetting-intro.html"><a href="subsetting-intro.html#logical-values-and-operations"><i class="fa fa-check"></i><b>11.2</b> Logical values and operations</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="subsetting-intro.html"><a href="subsetting-intro.html#matching-a-single-value"><i class="fa fa-check"></i><b>11.2.1</b> Matching a single value</a></li>
<li class="chapter" data-level="11.2.2" data-path="subsetting-intro.html"><a href="subsetting-intro.html#matching-multiple-values"><i class="fa fa-check"></i><b>11.2.2</b> Matching multiple values</a></li>
<li class="chapter" data-level="11.2.3" data-path="subsetting-intro.html"><a href="subsetting-intro.html#does-not-match"><i class="fa fa-check"></i><b>11.2.3</b> Does not match</a></li>
<li class="chapter" data-level="11.2.4" data-path="subsetting-intro.html"><a href="subsetting-intro.html#greater-than-or-less-than"><i class="fa fa-check"></i><b>11.2.4</b> Greater than or less than</a></li>
<li class="chapter" data-level="11.2.5" data-path="subsetting-intro.html"><a href="subsetting-intro.html#combining-conditional-statements---or-and"><i class="fa fa-check"></i><b>11.2.5</b> Combining conditional statements - or, and</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="subsetting-intro.html"><a href="subsetting-intro.html#subsetting-a-data.frame"><i class="fa fa-check"></i><b>11.3</b> Subsetting a data.frame</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="subsetting-intro.html"><a href="subsetting-intro.html#select-specific-columns"><i class="fa fa-check"></i><b>11.3.1</b> Select specific columns</a></li>
<li class="chapter" data-level="11.3.2" data-path="subsetting-intro.html"><a href="subsetting-intro.html#select-specific-rows"><i class="fa fa-check"></i><b>11.3.2</b> Select specific rows</a></li>
<li class="chapter" data-level="11.3.3" data-path="subsetting-intro.html"><a href="subsetting-intro.html#subset-colorado-data"><i class="fa fa-check"></i><b>11.3.3</b> Subset Colorado data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="explore.html"><a href="explore.html"><i class="fa fa-check"></i><b>12</b> Exploratory data analysis</a>
<ul>
<li class="chapter" data-level="12.1" data-path="explore.html"><a href="explore.html#summary-and-table"><i class="fa fa-check"></i><b>12.1</b> Summary and Table</a></li>
<li class="chapter" data-level="12.2" data-path="explore.html"><a href="explore.html#graphing-1"><i class="fa fa-check"></i><b>12.2</b> Graphing</a></li>
<li class="chapter" data-level="12.3" data-path="explore.html"><a href="explore.html#aggregate"><i class="fa fa-check"></i><b>12.3</b> Aggregating (summaries of groups)</a></li>
<li class="chapter" data-level="12.4" data-path="explore.html"><a href="explore.html#dplyr-pipes"><i class="fa fa-check"></i><b>12.4</b> Pipes in <code>dplyr</code></a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="regular-expressions.html"><a href="regular-expressions.html"><i class="fa fa-check"></i><b>13</b> Regular Expressions</a>
<ul>
<li class="chapter" data-level="13.1" data-path="regular-expressions.html"><a href="regular-expressions.html#finding-patterns-in-text-with-grep"><i class="fa fa-check"></i><b>13.1</b> Finding patterns in text with <code>grep()</code></a></li>
<li class="chapter" data-level="13.2" data-path="regular-expressions.html"><a href="regular-expressions.html#finding-and-replacing-patterns-in-text-with-gsub"><i class="fa fa-check"></i><b>13.2</b> Finding and replacing patterns in text with <code>gsub()</code></a></li>
<li class="chapter" data-level="13.3" data-path="regular-expressions.html"><a href="regular-expressions.html#useful-special-characters"><i class="fa fa-check"></i><b>13.3</b> Useful special characters</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="regular-expressions.html"><a href="regular-expressions.html#multiple-characters"><i class="fa fa-check"></i><b>13.3.1</b> Multiple characters <code>[]</code></a></li>
<li class="chapter" data-level="13.3.2" data-path="regular-expressions.html"><a href="regular-expressions.html#n-many-of-previous-character-n"><i class="fa fa-check"></i><b>13.3.2</b> n-many of previous character <code>{n}</code></a></li>
<li class="chapter" data-level="13.3.3" data-path="regular-expressions.html"><a href="regular-expressions.html#n-many-to-m-many-of-previous-character-nm"><i class="fa fa-check"></i><b>13.3.3</b> n-many to m-many of previous character <code>{n,m}</code></a></li>
<li class="chapter" data-level="13.3.4" data-path="regular-expressions.html"><a href="regular-expressions.html#start-of-string"><i class="fa fa-check"></i><b>13.3.4</b> Start of string</a></li>
<li class="chapter" data-level="13.3.5" data-path="regular-expressions.html"><a href="regular-expressions.html#end-of-string"><i class="fa fa-check"></i><b>13.3.5</b> End of string <code>$</code></a></li>
<li class="chapter" data-level="13.3.6" data-path="regular-expressions.html"><a href="regular-expressions.html#anything-."><i class="fa fa-check"></i><b>13.3.6</b> Anything <code>.</code></a></li>
<li class="chapter" data-level="13.3.7" data-path="regular-expressions.html"><a href="regular-expressions.html#one-or-more-of-previous"><i class="fa fa-check"></i><b>13.3.7</b> One or more of previous <code>+</code></a></li>
<li class="chapter" data-level="13.3.8" data-path="regular-expressions.html"><a href="regular-expressions.html#zero-or-more-of-previous"><i class="fa fa-check"></i><b>13.3.8</b> Zero or more of previous <code>*</code></a></li>
<li class="chapter" data-level="13.3.9" data-path="regular-expressions.html"><a href="regular-expressions.html#multiple-patterns"><i class="fa fa-check"></i><b>13.3.9</b> Multiple patterns <code>|</code></a></li>
<li class="chapter" data-level="13.3.10" data-path="regular-expressions.html"><a href="regular-expressions.html#parentheses"><i class="fa fa-check"></i><b>13.3.10</b> Parentheses <code>()</code></a></li>
<li class="chapter" data-level="13.3.11" data-path="regular-expressions.html"><a href="regular-expressions.html#optional-text"><i class="fa fa-check"></i><b>13.3.11</b> Optional text <code>?</code></a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="regular-expressions.html"><a href="regular-expressions.html#changing-capitalization"><i class="fa fa-check"></i><b>13.4</b> Changing capitalization</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="reshaping.html"><a href="reshaping.html"><i class="fa fa-check"></i><b>14</b> Reshaping data</a>
<ul>
<li class="chapter" data-level="14.1" data-path="reshaping.html"><a href="reshaping.html#reshaping-a-single-column"><i class="fa fa-check"></i><b>14.1</b> Reshaping a single column</a></li>
<li class="chapter" data-level="14.2" data-path="reshaping.html"><a href="reshaping.html#reshaping-a-multiple-columns"><i class="fa fa-check"></i><b>14.2</b> Reshaping a multiple columns</a></li>
</ul></li>
<li class="part"><span><b>IV Visualize</b></span></li>
<li class="chapter" data-level="15" data-path="graphing-intro.html"><a href="graphing-intro.html"><i class="fa fa-check"></i><b>15</b> Graphing with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="15.1" data-path="graphing-intro.html"><a href="graphing-intro.html#what-does-the-data-look-like"><i class="fa fa-check"></i><b>15.1</b> What does the data look like?</a></li>
<li class="chapter" data-level="15.2" data-path="graphing-intro.html"><a href="graphing-intro.html#graphing-data"><i class="fa fa-check"></i><b>15.2</b> Graphing data</a></li>
<li class="chapter" data-level="15.3" data-path="graphing-intro.html"><a href="graphing-intro.html#time-series-plots"><i class="fa fa-check"></i><b>15.3</b> Time-Series Plots</a></li>
<li class="chapter" data-level="15.4" data-path="graphing-intro.html"><a href="graphing-intro.html#scatter-plots"><i class="fa fa-check"></i><b>15.4</b> Scatter Plots</a></li>
<li class="chapter" data-level="15.5" data-path="graphing-intro.html"><a href="graphing-intro.html#color-blindness"><i class="fa fa-check"></i><b>15.5</b> Color blindness</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="ois_graphs.html"><a href="ois_graphs.html"><i class="fa fa-check"></i><b>16</b> More graphing with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="16.1" data-path="ois_graphs.html"><a href="ois_graphs.html#exploring-data"><i class="fa fa-check"></i><b>16.1</b> Exploring Data</a></li>
<li class="chapter" data-level="16.2" data-path="ois_graphs.html"><a href="ois_graphs.html#graphing-a-single-numeric-variable"><i class="fa fa-check"></i><b>16.2</b> Graphing a Single Numeric Variable</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="ois_graphs.html"><a href="ois_graphs.html#histogram"><i class="fa fa-check"></i><b>16.2.1</b> Histogram</a></li>
<li class="chapter" data-level="16.2.2" data-path="ois_graphs.html"><a href="ois_graphs.html#density-plot"><i class="fa fa-check"></i><b>16.2.2</b> Density plot</a></li>
<li class="chapter" data-level="16.2.3" data-path="ois_graphs.html"><a href="ois_graphs.html#count-graph"><i class="fa fa-check"></i><b>16.2.3</b> Count Graph</a></li>
<li class="chapter" data-level="16.2.4" data-path="ois_graphs.html"><a href="ois_graphs.html#graphing-a-categorical-variable"><i class="fa fa-check"></i><b>16.2.4</b> Graphing a Categorical Variable</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="ois_graphs.html"><a href="ois_graphs.html#bar-graph"><i class="fa fa-check"></i><b>16.3</b> Bar graph</a></li>
<li class="chapter" data-level="16.4" data-path="ois_graphs.html"><a href="ois_graphs.html#graphing-data-over-time"><i class="fa fa-check"></i><b>16.4</b> Graphing Data Over Time</a></li>
<li class="chapter" data-level="16.5" data-path="ois_graphs.html"><a href="ois_graphs.html#pretty-graphs"><i class="fa fa-check"></i><b>16.5</b> Pretty Graphs</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="ois_graphs.html"><a href="ois_graphs.html#themes"><i class="fa fa-check"></i><b>16.5.1</b> Themes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="hotspot-maps.html"><a href="hotspot-maps.html"><i class="fa fa-check"></i><b>17</b> Hotspot maps</a>
<ul>
<li class="chapter" data-level="17.1" data-path="hotspot-maps.html"><a href="hotspot-maps.html#a-simple-map"><i class="fa fa-check"></i><b>17.1</b> A simple map</a></li>
<li class="chapter" data-level="17.2" data-path="hotspot-maps.html"><a href="hotspot-maps.html#what-really-are-maps"><i class="fa fa-check"></i><b>17.2</b> What really are maps?</a></li>
<li class="chapter" data-level="17.3" data-path="hotspot-maps.html"><a href="hotspot-maps.html#making-a-hotspot-map"><i class="fa fa-check"></i><b>17.3</b> Making a hotspot map</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="hotspot-maps.html"><a href="hotspot-maps.html#colors"><i class="fa fa-check"></i><b>17.3.1</b> Colors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="choropleth-maps.html"><a href="choropleth-maps.html"><i class="fa fa-check"></i><b>18</b> Choropleth maps</a>
<ul>
<li class="chapter" data-level="18.1" data-path="choropleth-maps.html"><a href="choropleth-maps.html#spatial-joins"><i class="fa fa-check"></i><b>18.1</b> Spatial joins</a></li>
<li class="chapter" data-level="18.2" data-path="choropleth-maps.html"><a href="choropleth-maps.html#making-choropleth-maps"><i class="fa fa-check"></i><b>18.2</b> Making choropleth maps</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="interactive-maps.html"><a href="interactive-maps.html"><i class="fa fa-check"></i><b>19</b> Interactive maps</a>
<ul>
<li class="chapter" data-level="19.1" data-path="interactive-maps.html"><a href="interactive-maps.html#why-do-interactive-graphs-matter"><i class="fa fa-check"></i><b>19.1</b> Why do interactive graphs matter?</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="interactive-maps.html"><a href="interactive-maps.html#understanding-your-data"><i class="fa fa-check"></i><b>19.1.1</b> Understanding your data</a></li>
<li class="chapter" data-level="19.1.2" data-path="interactive-maps.html"><a href="interactive-maps.html#police-departments-use-them"><i class="fa fa-check"></i><b>19.1.2</b> Police departments use them</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="interactive-maps.html"><a href="interactive-maps.html#making-the-interactive-map"><i class="fa fa-check"></i><b>19.2</b> Making the interactive map</a></li>
<li class="chapter" data-level="19.3" data-path="interactive-maps.html"><a href="interactive-maps.html#adding-popup-information"><i class="fa fa-check"></i><b>19.3</b> Adding popup information</a></li>
<li class="chapter" data-level="19.4" data-path="interactive-maps.html"><a href="interactive-maps.html#dealing-with-too-many-markers"><i class="fa fa-check"></i><b>19.4</b> Dealing with too many markers</a></li>
<li class="chapter" data-level="19.5" data-path="interactive-maps.html"><a href="interactive-maps.html#interactive-choropleth-maps"><i class="fa fa-check"></i><b>19.5</b> Interactive choropleth maps</a></li>
</ul></li>
<li class="part"><span><b>V Collect</b></span></li>
<li class="chapter" data-level="20" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html"><i class="fa fa-check"></i><b>20</b> Webscraping with <code>rvest</code></a>
<ul>
<li class="chapter" data-level="20.1" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#scraping-one-page"><i class="fa fa-check"></i><b>20.1</b> Scraping one page</a></li>
<li class="chapter" data-level="20.2" data-path="webscraping-with-rvest.html"><a href="webscraping-with-rvest.html#cleaning-the-webscraped-data"><i class="fa fa-check"></i><b>20.2</b> Cleaning the webscraped data</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>21</b> Functions</a>
<ul>
<li class="chapter" data-level="21.1" data-path="functions.html"><a href="functions.html#a-simple-function"><i class="fa fa-check"></i><b>21.1</b> A simple function</a></li>
<li class="chapter" data-level="21.2" data-path="functions.html"><a href="functions.html#adding-parameters"><i class="fa fa-check"></i><b>21.2</b> Adding parameters</a></li>
<li class="chapter" data-level="21.3" data-path="functions.html"><a href="functions.html#recipes-function"><i class="fa fa-check"></i><b>21.3</b> Making a function to scrape recipes</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>22</b> For loops</a>
<ul>
<li class="chapter" data-level="22.1" data-path="for-loops.html"><a href="for-loops.html#basic-for-loops"><i class="fa fa-check"></i><b>22.1</b> Basic for loops</a></li>
<li class="chapter" data-level="22.2" data-path="for-loops.html"><a href="for-loops.html#scraping-multiple-recipes"><i class="fa fa-check"></i><b>22.2</b> Scraping multiple recipes</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="scrape-table.html"><a href="scrape-table.html"><i class="fa fa-check"></i><b>23</b> Scraping tables from PDFs</a>
<ul>
<li class="chapter" data-level="23.1" data-path="scrape-table.html"><a href="scrape-table.html#scraping-the-first-table"><i class="fa fa-check"></i><b>23.1</b> Scraping the first table</a></li>
<li class="chapter" data-level="23.2" data-path="scrape-table.html"><a href="scrape-table.html#making-a-function"><i class="fa fa-check"></i><b>23.2</b> Making a function</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="scrape-table2.html"><a href="scrape-table2.html"><i class="fa fa-check"></i><b>24</b> More scraping tables from PDFs</a>
<ul>
<li class="chapter" data-level="24.1" data-path="scrape-table2.html"><a href="scrape-table2.html#pregnant-women-incarcerated"><i class="fa fa-check"></i><b>24.1</b> Pregnant Women Incarcerated</a></li>
<li class="chapter" data-level="24.2" data-path="scrape-table2.html"><a href="scrape-table2.html#making-pdf-scraped-data-available-to-others"><i class="fa fa-check"></i><b>24.2</b> Making PDF-scraped data available to others</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="geocoding.html"><a href="geocoding.html"><i class="fa fa-check"></i><b>25</b> Geocoding</a>
<ul>
<li class="chapter" data-level="25.1" data-path="geocoding.html"><a href="geocoding.html#geocoding-a-single-address"><i class="fa fa-check"></i><b>25.1</b> Geocoding a single address</a></li>
<li class="chapter" data-level="25.2" data-path="geocoding.html"><a href="geocoding.html#geocoding-san-francisco-marijuana-dispensary-locations"><i class="fa fa-check"></i><b>25.2</b> Geocoding San Francisco marijuana dispensary locations</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Crime by the Numbers: A Criminologist’s Guide to R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro-to-r" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Introduction to R and RStudio</h1>
<p>In this chapter you’ll learn to open a data file in R. That file is “ucr2017.rda” which you’ll need to download from the data repository available <a href="https://github.com/jacobkap/r4crimz/tree/master/data">here</a>.</p>
<div id="using-rstudio" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Using RStudio</h2>
<p>In this lesson we’ll start by looking at RStudio then write some brief code to load in some crime data and start exploring it. This lesson will cover code that you won’t understand completely yet. That is fine, we’ll cover everything in more detail as the lessons progress.</p>
<p>RStudio is the interface we use to work with R. It has a number of features to make it easier for us to work with R - while not strictly necessary to use, most people who use R do so through RStudio. We’ll spend some time right now looking at RStudio and the options you can change to make it easier to use (and to suit your personal preferences with appearance) as this will make all of the work that we do in this book easier.</p>
<p>When you open up RStudio you’ll see four panels, each of which plays an important role in RStudio. Your RStudio may not look like the setup I have in the image below - that is fine, we’ll learn how to change the appearance of RStudio soon.</p>
<p><img src="images/rstudio_1.PNG" /></p>
<p>At the top right is the Console panel. Here you can write code, hit enter/return, and R will run that code. If you write <code>2+2</code> it will return (in this case that just mean it will print an answer) 4. This is useful for doing something simple like using R as a calculator or quickly looking at data. In most cases during research this is where you’d do something that you don’t care to keep. This is because when you restart R it won’t save anything written in the Console. To do reproducible research or to be able to collaborate with others you need a way to keep the code you’ve written.</p>
<p>The way to keep the code you’ve written in a file that you can open later or share with someone else is by writing code in an R Script (if you’re familiar with Stata, an R Script is just like a .do file). An R Script is essentially a text file (similar to a Word document) where you write code. To run code in an R Script just click on a line of code or highlight several lines and hit enter/return or click the “Run” button on the top right of the Source panel. You’ll see the lines of code run in the Console and any output (if your code has an output) will be shown there too (making a plot will be shown in a different panel as we’ll see soon).</p>
<p>For code that you don’t want to run, called comments, start the line with a pound sign # and that line will not be run (it will still print in the console if you run it but it won’t do anything). These comments should explain the code you wrote (if not otherwise obvious).</p>
<p>The Source panel is where the R Scripts will be and is located at the top left on the image below. It is good practice to do all of your code writing in an R Script - even if you delete some lines of code later - as it eliminates the possibility of losing code or forgetting what you wrote. Having all the code in front of you in a text file also makes it easier to understand the flow of code from start to finish to a task - an issue we’ll discuss more in later lessons.</p>
<p>While the Source and Console panels are the ones that are of most use, there are two other panels worth discussing. As these two panels let you interchange which tabs are available in them, we’ll return to them shortly in the discussion of the options RStudio has to customize it.</p>
<div id="opening-an-r-script" class="section level3" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Opening an R Script</h3>
<p>When you want to open up a new R Script you can click File on the very top left, then R Script. It will open up the script in a new tab inside of the Source panel. There are also a number of other file options available: R Presentation which can make PowerPoints, R Markdown which can make Word Documents or PDFs that incorporate R code used to make tables or graphs (and which we’ll cover in Chapter <a href="r-markdown.html#r-markdown">7</a>), and Shiny Web App to make websites using R. There is too much to cover for an introductory book such as this but keep in mind the wide capabilities of R if you have another task to do.</p>
<p><img src="images/rstudio_2.PNG" /></p>
</div>
<div id="setting-the-working-directory" class="section level3" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Setting the working directory</h3>
<p>Many research projects incorporate data that someone else (such as the FBI or a local police agency) has put together. In these cases, we need to load the data into R to be able to use it. In a little bit we’ll load a data set into R and start working on it but let’s take a step back now and think about how to even load data. First, we’ll need to get the data onto our computer somehow, probably by downloading it from an agency’s website. Let’s be specific - we don’t download it to our computer, we download it to a specific folder on our computer (usually defaulted to the Downloads folder on a Windows machine). So let’s say you wanted to load a file called “data” into R. If you have a file called “data” in both your Desktop and your Downloads folder, R wouldn’t know which one you wanted. And unless your data was in the folder R searches by default (which may not be where the file is downloaded by default), R won’t know which file to load.</p>
<p>We need to tell R explicitly which folder has the data to load. We do this by setting the “Working Directory” (or the “Folders where I want you, R, to look for my data” in more simple terms). To set a working directory in R click the Session tab on the top menu, scroll to Set Working Directory, then click Choose Directory. This will open a window where you can navigate to the folder you want.</p>
<p><img src="images/rstudio_3.PNG" /></p>
<p>After clicking Open in that window you’ll see a new line of code in the Console starting with <code>setwd()</code> and inside of the parentheses is the route your computer takes to get to the folder you selected. And now R knows which folder to look in for the data you want. It is good form to start your R Script with <code>setwd()</code> to make sure you can load the data. Copy the line of code that says <code>setwd()</code> (which stands for “set working directory”), including everything in the parentheses, to your R Script when you start working.</p>
</div>
<div id="changing-rstudio" class="section level3" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> Changing RStudio</h3>
<p>Your RStudio looks different than my RStudio because I changed a number of settings to suit my preferences. To do so yourself click the Tools tab on the top menu and then click Global Options.</p>
<p><img src="images/rstudio_5.PNG" /></p>
<p>This opens up a window with a number of different tabs to change how R behaves and how it looks.</p>
<div id="general" class="section level4" number="3.1.3.1">
<h4><span class="header-section-number">3.1.3.1</span> General</h4>
<p>Under Workspace in the General tab make sure to <strong>uncheck</strong> the “Restore .RData into workspace at startup” and to set “Save workspace to .RData on exit:” to Never. What this does is make sure that every time you open R it starts fresh with no objects (essentially data loaded into R or made in R) from previous sessions. This may be annoying at times, especially when it comes to loading large files, but the benefits far outweigh the costs.</p>
<p>You want your code to run from start to finish without any errors. Something I’ve seen many students do is write some code in the Console (or in their R Script but out of order of how it should be run) to fix an issue with the data. This means their data is how it should be but when the R session restarts (such as if the computer restarts) they won’t be able to get back to that point. Making sure your code handles everything from start to finish is well-worth the avoided headache of trying to remember what code you did to fix the issue previously.</p>
<p><img src="images/rstudio_6.PNG" /></p>
</div>
<div id="code" class="section level4" number="3.1.3.2">
<h4><span class="header-section-number">3.1.3.2</span> Code</h4>
<p>The Code tab lets you specify how you want the code to be displayed. The important section for us is to make sure to check the “Soft-wrap R source files” check-box. If you write a very long line of code it gets too big to view all at once and you must scroll to the right to read it all. That can be annoying as you won’t be able to see all the code at once. Setting “Soft-wrap” makes it so if a line is too long it will just be shown on multiple lines which solves that issue. In practice it is best to avoid long lines of codes as it makes it hard to read but that isn’t always possible.</p>
<p><img src="images/rstudio_7.PNG" /></p>
</div>
<div id="appearance" class="section level4" number="3.1.3.3">
<h4><span class="header-section-number">3.1.3.3</span> Appearance</h4>
<p>The Appearance tab lets you change the background, color, and size of text. Change it to your preferences.</p>
<p><img src="images/rstudio_8.PNG" /></p>
</div>
<div id="pane-layout" class="section level4" number="3.1.3.4">
<h4><span class="header-section-number">3.1.3.4</span> Pane Layout</h4>
<p>The final tab we’ll look at is Pane Layout. This lets you move around the Source, Console, and the other two panels. There are a number of different tabs to select for the panels (unchecking one just moves it to the other panel, it doesn’t remove it from RStudio) and we’ll talk about three of them. The Environment tab shows every object you load into R or make in R. So if you load a file called “data” you can check the Environment tab. If it is there, you have loaded the file correctly.</p>
<p>As we’ll discuss more in Section @ref(#functions-intro), the Help tab will open up to show you a help page for a function you want more information on (we’ll also discuss exactly what a function is below. But for now just think of a function as a shortcut to using code that someone else wrote). The Plots tab will display any plot you make. It also keeps all plots you’ve made (until restarting R) so you can scroll through the plots.</p>
<p><img src="images/rstudio_9.PNG" /></p>
</div>
</div>
<div id="helpful-cheat-sheets" class="section level3" number="3.1.4">
<h3><span class="header-section-number">3.1.4</span> Helpful Cheat Sheets</h3>
<p>RStudio also includes a number of links to helpful cheat sheets for a few important topics. To get to it click Help, then Cheatsheets and click on whichever one you need.</p>
<p><img src="images/rstudio_4.PNG" /></p>
</div>
</div>
<div id="assignment" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Assigning variables</h2>
<p>When we’re using R for research the general process is to load data, change it somehow (such as deleting rows we don’t want, aggregating from some small unit such as monthly crime to a higher unit such as yearly crime), and then analyze it. To do all this we need to be able to make sure each step we do actually changes the data. This seems simple but is actually a very common issue I’ve noticed when working with new R programmers - they run code on the data (e.g. deleting certain rows) but forget to save the change on that data.</p>
<p>Let’s look at an example of this. First, we need to know how to create objects in R. I use “object” in a very vague sense to mean anything that is loaded into R and can be manipulated. To create something in R we assign “something” to an object name. This is a very technical sentence so let’s look at an example and then step back and try to understand that sentence.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="intro-to-r.html#cb9-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span></code></pre></div>
<p>Above I am creating the object “a” by assigning it the value of 1. In R term, “a is assigned 1” or “a gets 1.” In non-technical terms: a equals 1.</p>
<p>We can print out a to see if this is true.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="intro-to-r.html#cb10-1" aria-hidden="true" tabindex="-1"></a>a</span>
<span id="cb10-2"><a href="intro-to-r.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span></code></pre></div>
<p>When we print out a, it returns 1 since that was what a was assigned to. We can assign a another value and it will overwrite 1 with whatever value we choose.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="intro-to-r.html#cb11-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">33</span></span>
<span id="cb11-2"><a href="intro-to-r.html#cb11-2" aria-hidden="true" tabindex="-1"></a>a</span>
<span id="cb11-3"><a href="intro-to-r.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 33</span></span></code></pre></div>
<p>Now a is 33. Or a equals 33. Or a was assigned 33. Or a gets 33. Or we assigned 33 to a. There are a lot of ways to explain what we did here, which is quite frustrating and confusing to new R programmers. I use the term assignment and gets only because that is the convention in R, but if it’s easier for you to talk about something equaling something else (instead of being assigned to that value), please do so!</p>
<p>The <code>&lt;-</code> is what does the assignment, or what makes the thing on the left equal to the thing on the right. You might be thinking that it’d be easier to simple use the equal sign instead of the <code>&lt;-</code> - we are making things equal after all. And you’d be right. Using <code>=</code> does the exact same thing as <code>&lt;-</code>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="intro-to-r.html#cb12-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">=</span> <span class="dv">13</span></span>
<span id="cb12-2"><a href="intro-to-r.html#cb12-2" aria-hidden="true" tabindex="-1"></a>a</span>
<span id="cb12-3"><a href="intro-to-r.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 13</span></span></code></pre></div>
<p>We can use <code>=</code> instead of <code>&lt;-</code> and get the same results (with very few exceptions and none that are relevant in this book). The reason that people use <code>&lt;-</code> instead of <code>=</code> is largely a matter of convention. It’s just the thing that R programmers do so new programmers adopt that. If it’s easier for you to use <code>=</code> instead of <code>&lt;-</code>, feel free to do that. In this book I’ll use <code>&lt;-</code> and talking about “assigning” values because that is the convention in R. And while that’s not really a good reason to do anything, I think that it’s important that new R programmers at least know what the proper conventions are and be able to speak the language (so to speak) of R programmers.</p>
<p>So far we’ve just been assigning “a” a value, or overwriting that value with a new value. We can also assign something new to have the same value as a. Let’s make the object “example_123_value.demonstration” get the value that a has - or in other words make “example_123_value.demonstration” be equal to a.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="intro-to-r.html#cb13-1" aria-hidden="true" tabindex="-1"></a>example_123_value.demonstration <span class="ot">&lt;-</span> a</span>
<span id="cb13-2"><a href="intro-to-r.html#cb13-2" aria-hidden="true" tabindex="-1"></a>example_123_value.demonstration</span>
<span id="cb13-3"><a href="intro-to-r.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 13</span></span></code></pre></div>
<p>I use name “example_123_value.demonstration” just an example of what you can include in an object name - any character (lower or uppercase), an number (just can’t start with a number) and some punctuation (e.g. underscores and periods). Spaces are not allowed. In practice you’ll want to call each object something specific so you know what it is, and ideally as short as possible. For example, if you are using crime data from Houston you’ll want to call it something like “houston_crime.” The R convention is to only use lowercase characters and include only underscores as the punctuation, but you can name it whatever is most useful to you.</p>
<p>As noted at the start of the section, a lot of new programmers will make a change to an object but forget to assign the result back into the object (or into a new object). This means that that object won’t actually change. For example, let’s say we want to multiply example_123_value.demonstration by 10.</p>
<p>If we do <code>example_123_value.demonstration * 10</code> then it’ll print out the result in the console, but not actually change example_123_value.demonstration. What we need to do is assign that result of the multiplication back into example_123_value.demonstration. Lots of new programmers forget to assign the results back into the object, which understandably leads to lots of confusing since the object is now not what they expect it to be.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="intro-to-r.html#cb14-1" aria-hidden="true" tabindex="-1"></a>example_123_value.demonstration <span class="ot">&lt;-</span> example_123_value.demonstration <span class="sc">*</span> <span class="dv">10</span></span>
<span id="cb14-2"><a href="intro-to-r.html#cb14-2" aria-hidden="true" tabindex="-1"></a>example_123_value.demonstration</span>
<span id="cb14-3"><a href="intro-to-r.html#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 130</span></span></code></pre></div>
<p>I’ve been saying “object” a lot, without defining it. An object is a bit tricky to define, especially at this stage in the book. Throughout this book I’ll be using object to describe something that has been assigned value, such as “a” and “example_123_value.demonstration.” This also includes outside datasets read into R, such as loading an Excel file into R and even a set of R code that has been assigned to an object (which is called a function). Each object that you have created yourself can be found in the Environment tab.</p>
</div>
<div id="functions-intro" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> What are functions (and packages)?</h2>
<p>When programming to do research you’ll often have to do the same thing multiple times. For example, many crime datasets are available as one file for each year of data. So if you are analyzing multiple years of data you’ll need to clean each file separately - and in most cases that involves using the exact same code for every file. This also includes doing things that other people have done. For example, most research leads to at least one graph made. Since making graphs is so common, many people have spent a long time writing code to make it easy to make publication-ready graphs. Instead of doing all that work ourselves we can just use code that other people have written and made available to us. While we could do this by copying code, the easiest way to reuse code it to use functions.</p>
<p>As noted in the previous section, a function is a bunch of code (it could range from a single line of code to hundreds of lines) that has been assigned to an object.We’ll dive into this topic in detail in Chapter <a href="functions.html#functions">21</a> - including how to make your own functions - but using functions is such an important concept that we’ll briefly introduce them here. Almost everything that you will do in R is through functions. For the most part that’ll be using functions that other people have written that are available to use - and this includes functions that are built into R already and ones we have to download from other R programmers.</p>
<p>Let’s look at the function <code>head()</code> as an example. This is a function that is already built into R which means we don’t need to do anything to use it. For functions that are written by other R programmers we’ll need to download those functions and tell R we want to use it - and we’ll show how in a bit. The way to identify a function is through the parentheses after the function name (the naming convention is the same as for objects as discussed in the previous section. We want a short, descriptive name that explains what the function does.). If we see a word followed by parentheses, we can be confident that we’re looking at a function.</p>
<p>The <code>head()</code> function prints out the first 6 rows of every column of a data.frame (which is essentially an Excel sheet, and something we’ll cover in more detail on the chapter on different R objects in Chapter @ref(#data_types)). <code>head()</code> is an extremely useful and common function in R, but just the name alone doesn’t make it clear what it does or that we need to put a data object inside the parentheses.</p>
<p>If you are having trouble understanding what a function does or how to use it, you can ask R for help and it will open up a page explaining what the function does, what options it has, and examples of how to use it. To do so we write <code>help(function)</code> or <code>?function</code> in the console and it will open up that function’s help page.</p>
<p>If we wrote <code>help(head)</code> to figure out what the <code>head()</code> function does, it will open up this page. For finding the help page of a function the parentheses (e.g. <code>head()</code>) are optional. Unfortunately, many help pages are not that useful. The image below shows the help page for <code>head()</code> and it is not very friendly to a new R programmer. In cases where the help page is not useful, and you’re looking at functions not covered in this book, I recommend looking online for help pages dedicated to that function or broader programming sites such as <a href="https://stackoverflow.com/">Stack Overflow</a> where people can ask questions about programming.</p>
<p><img src="images/help_page.PNG" /></p>
<p>For <code>head()</code> all we need to do is tell the function what data we’re looking at. In programming terms, the input to the function (what we have to include in the parentheses) is the name of our data object. We’ll look at the very commonly used data called <code>mtcars</code>. <code>mtcars</code> is one in a small number of data files that are already in R when you open it. These are included in R just as examples of data to use when testing our code or teaching people to use R. Just type <code>mtcars</code> into the console and it will print out the file info; there’s nothing you need to do to load the data into R. <code>mtcars</code> has info about a number of cars with each row being a type of car and each column being data about the car such as the miles per gallon it gets and how many gears it has.</p>
<p>We’ll use the <code>head()</code> function to print out just the first 6 rows of the <code>mtcars</code> data.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="intro-to-r.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mtcars)</span>
<span id="cb15-2"><a href="intro-to-r.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                    mpg cyl disp  hp drat    wt  qsec vs am gear carb</span></span>
<span id="cb15-3"><a href="intro-to-r.html#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4</span></span>
<span id="cb15-4"><a href="intro-to-r.html#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4</span></span>
<span id="cb15-5"><a href="intro-to-r.html#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1</span></span>
<span id="cb15-6"><a href="intro-to-r.html#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1</span></span>
<span id="cb15-7"><a href="intro-to-r.html#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2</span></span>
<span id="cb15-8"><a href="intro-to-r.html#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</span></span></code></pre></div>
<p>Now we have the first 6 rows of every column from the <code>mtcars</code> data. This is a fairly simple function and is useful for quickly looking at our data. Many functions are more complicated that <code>head()</code> and involve multiple inputs rather than just the single input we had here. Some functions, for example, let you choose how you want the function to operate, as it can do so in multiple ways. Even in <code>head()</code> there’s an optional input to choose how many rows you want it to return, with the default being 6. Since we didn’t choose anything, the function stuck to the default and returned only 6 rows.</p>
<p>Throughout this book we’ll spend a lot of time introducing functions that other people have made and learning how to combine the functions together to be able to get our raw data (e.g. a CSV file downloaded from a police site) into a usable format for research (e.g. cleaned to include only the rows and columns we need to analyze). For functions that other people wrote (i.e. functions built into R) we need to tell R that we want to use these functions. We do so by having R download that person’s package. A package is just the name for a collection of functions in an easily downloadable format. We can do all of the downloading through R, so we don’t have to go searching for them. There are two ways to download a package in R: through writing R code or through a shortcut in RStudio.</p>
<p>Downloading a package through R code uses - like pretty much everything else in R - a function. This function is <code>install.packages()</code> where we put the name of the package we want in the (). This name also has to be in quotes since it is an object that is not currently in R. Let’s install the package “meditations” which is a simple package I made that gives a random quote from the book Meditations by Marcus Aurelius. We need to run the code <code>install.packages("meditations")</code> and be sure to spell “meditations” right and put it in quotes.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="intro-to-r.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;meditations&quot;</span>)</span>
<span id="cb16-2"><a href="intro-to-r.html#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: package &#39;meditations&#39; is in use and will not be installed</span></span></code></pre></div>
<p>The RStudio shortcut way is to go to the Packages tab and then click Install on the top left of this tab. This will open up a window as shown below where you can enter the name of the package you want. Then click Install and RStudio will install it for you. Also in this tab is the Update button which allows you to update packages that you have already installed. Since R programmers generally provide updates to their packages (usually bug fixes but occasionally new features and new functions), it’s important to update your packages every several months or so.</p>
<p><img src="images/install_packages.PNG" /></p>
<p>Once we have downloaded the package we need to tell R that we want to use that package. There are thousands of R packages and you’ll likely have hundreds downloaded before long (if a package relies on other packages to work it’ll download those too. So even if you install a single package it may also install other packages necessary for the package you want). Some packages have functions with the same name (but they do different things) so using all packages at once will cause issues since we won’t know which functions we’re actually using. So we only want to use the packages we need for that task. So we need a way to tell R that we want to use a package. We only need to do this once per session - that is, once before restarting R. The way to do this in R is to use the function <code>library()</code> where we put the package name in the parentheses. Since the package is something that has been install to R, we don’t need to quotes around the name.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="intro-to-r.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(meditations)</span></code></pre></div>
<p>Now we can run the <code>meditations()</code> function and get a random Marcus Aurelius quote (it’s just a coincident that the function name is the same as the package name).</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="intro-to-r.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">meditations</span>()</span>
<span id="cb18-2"><a href="intro-to-r.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Perceive at last that thou hast in thee something better and more divine than the things which cause the various affects, and as it were pull thee by the strings. What is there now in my mind? Is it fear, or suspicion, or desire, or anything of the kind?&quot;</span></span></code></pre></div>
</div>
<div id="reading-data-into-r" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Reading data into R</h2>
<p>For many research projects you’ll have data produced by some outside group (e.g. FBI, local police agencies) and you want to take that data and put it inside R to work on it. We call that reading data into R. R is capable of reading a number of different formats of data which we will discuss in more detail in Chapter <a href="reading-and-writing-data.html#reading-and-writing-data">10</a>. Here, we will talk about the standard R data file only.</p>
<div id="loading-data-intro" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Loading data</h3>
<p>As we learned above in Section <a href="intro-to-r.html#setting-the-working-directory">3.1.2</a>, we need to set our working directory to the folder where the data is. For my own setup, R is already defaulted to the folder with this data so I do not need to set a working directory. For those following along on your own computer, make sure to set your working directory now.</p>
<p>The <code>load()</code> function lets us load data already in the R format. These files will end in the extension “.rda” or sometimes “.Rda” or “.RData.” Since we are telling R to load a specific file, we need to have that file name in quotes and include the file extension “.rda.” With R data, the object inside the data already has a name so we don’t need to assign (something we will discuss in detail in Section <a href="intro-to-r.html#assignment">3.2</a>) a name to the data. With other forms of data such as .csv files we will need to do that as we’ll see in Chapter <a href="reading-and-writing-data.html#reading-and-writing-data">10</a>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="intro-to-r.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/ucr2017.rda&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="first-steps-to-exploring-data" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> First steps to exploring data</h2>
<p>The object we loaded is called <code>ucr2017</code>. We’ll explore this data more thoroughly in the Chapter <a href="explore.html#explore">12</a> but for now let’s use four simple (and important) functions to get a sense of what the data holds. For each of these functions write the name of the data set (without quotes since we don’t need quotes for an object already made in R) inside the ().</p>
<ul>
<li><code>head()</code></li>
<li><code>summary()</code></li>
<li><code>plot()</code></li>
<li><code>View()</code></li>
</ul>
<p>Note that the first three functions are lowercase while <code>View()</code> is capitalized. That is simply because older functions in R were often capitalized while newer ones use all lowercase letters. R is case sensitive so using <code>view()</code> will not work.</p>
<p>The <code>head()</code> function prints the first 6 rows of each column of the data to the console. This is useful to get a quick glance at the data but has some important drawbacks. When using data with a large number of columns it can be quickly overwhelming by printing too much. There may also be differences in the first 6 rows with other rows. For example, if the rows are ordered chronologically (as is the case with most crime data) the first 6 rows will be the most recent. If data collection methods or the quality of collection changed over time, these 6 rows won’t be representative of the data.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="intro-to-r.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ucr2017)</span>
<span id="cb20-2"><a href="intro-to-r.html#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       ori year agency_name  state population actual_murder</span></span>
<span id="cb20-3"><a href="intro-to-r.html#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 AK00101 2017   anchorage alaska     296188            27</span></span>
<span id="cb20-4"><a href="intro-to-r.html#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 AK00102 2017   fairbanks alaska      32937            10</span></span>
<span id="cb20-5"><a href="intro-to-r.html#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 AK00103 2017      juneau alaska      32344             1</span></span>
<span id="cb20-6"><a href="intro-to-r.html#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 AK00104 2017   ketchikan alaska       8230             1</span></span>
<span id="cb20-7"><a href="intro-to-r.html#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 AK00105 2017      kodiak alaska       6198             0</span></span>
<span id="cb20-8"><a href="intro-to-r.html#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 AK00106 2017        nome alaska       3829             0</span></span>
<span id="cb20-9"><a href="intro-to-r.html#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   actual_rape_total actual_robbery_total actual_assault_aggravated</span></span>
<span id="cb20-10"><a href="intro-to-r.html#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1               391                  778                      2368</span></span>
<span id="cb20-11"><a href="intro-to-r.html#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2                24                   40                       131</span></span>
<span id="cb20-12"><a href="intro-to-r.html#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3                50                   46                       206</span></span>
<span id="cb20-13"><a href="intro-to-r.html#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4                19                    0                        14</span></span>
<span id="cb20-14"><a href="intro-to-r.html#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5                15                    4                        41</span></span>
<span id="cb20-15"><a href="intro-to-r.html#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6                 7                    0                        52</span></span></code></pre></div>
<p>The <code>summary()</code> function gives a six number summary of each numeric or Date column in the data. For other types of data, such as “character” types (which are just columns with words rather than numbers or dates), it’ll say what type of data it is.</p>
<p>The six values it returns for numeric and Date columns are</p>
<ul>
<li>The minimum value</li>
<li>The value at the 1st quartile</li>
<li>The median value</li>
<li>The mean value</li>
<li>The value at the 3rd quartile</li>
<li>The max value</li>
<li>In cases where there are NAs, it will say how many NAs there are. An NA value is a missing value. Think of it like an empty cell in an Excel file. NA values will cause issues when doing math such as finding the mean of a column as R doesn’t know how to handle a NA value in these situations. We’ll learn how to deal with this later.</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="intro-to-r.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ucr2017)</span>
<span id="cb21-2"><a href="intro-to-r.html#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      ori                 year      agency_name       </span></span>
<span id="cb21-3"><a href="intro-to-r.html#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Length:15764       Min.   :2017   Length:15764      </span></span>
<span id="cb21-4"><a href="intro-to-r.html#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Class :character   1st Qu.:2017   Class :character  </span></span>
<span id="cb21-5"><a href="intro-to-r.html#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Mode  :character   Median :2017   Mode  :character  </span></span>
<span id="cb21-6"><a href="intro-to-r.html#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     Mean   :2017                     </span></span>
<span id="cb21-7"><a href="intro-to-r.html#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     3rd Qu.:2017                     </span></span>
<span id="cb21-8"><a href="intro-to-r.html#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     Max.   :2017                     </span></span>
<span id="cb21-9"><a href="intro-to-r.html#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     state             population      actual_murder    </span></span>
<span id="cb21-10"><a href="intro-to-r.html#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Length:15764       Min.   :      0   Min.   :  0.000  </span></span>
<span id="cb21-11"><a href="intro-to-r.html#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Class :character   1st Qu.:    914   1st Qu.:  0.000  </span></span>
<span id="cb21-12"><a href="intro-to-r.html#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Mode  :character   Median :   4460   Median :  0.000  </span></span>
<span id="cb21-13"><a href="intro-to-r.html#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     Mean   :  19872   Mean   :  1.069  </span></span>
<span id="cb21-14"><a href="intro-to-r.html#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     3rd Qu.:  15390   3rd Qu.:  0.000  </span></span>
<span id="cb21-15"><a href="intro-to-r.html#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                     Max.   :8616333   Max.   :653.000  </span></span>
<span id="cb21-16"><a href="intro-to-r.html#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  actual_rape_total  actual_robbery_total actual_assault_aggravated</span></span>
<span id="cb21-17"><a href="intro-to-r.html#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Min.   :  -2.000   Min.   :   -1.00     Min.   :   -1.00         </span></span>
<span id="cb21-18"><a href="intro-to-r.html#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1st Qu.:   0.000   1st Qu.:    0.00     1st Qu.:    1.00         </span></span>
<span id="cb21-19"><a href="intro-to-r.html#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Median :   1.000   Median :    0.00     Median :    5.00         </span></span>
<span id="cb21-20"><a href="intro-to-r.html#cb21-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Mean   :   8.262   Mean   :   19.85     Mean   :   49.98         </span></span>
<span id="cb21-21"><a href="intro-to-r.html#cb21-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3rd Qu.:   5.000   3rd Qu.:    4.00     3rd Qu.:   21.00         </span></span>
<span id="cb21-22"><a href="intro-to-r.html#cb21-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Max.   :2455.000   Max.   :13995.00     Max.   :29771.00</span></span></code></pre></div>
<p>The <code>plot()</code> function allows us to graph our data. For criminology research we generally want to make scatterplots to show the relationship between two numeric variables, time-series graphs to see how a variable (or variables) change over time, or barplots comparing categorical variables. Here we’ll make a scatterplot seeing the relationship between a city’s number of murders and their number of aggravated assaults (assault with a weapon or that causes serious bodily injury).</p>
<p>To do so we must specify which column is displayed on the x-axis and which one is displayed on the y-axis. In Section <a href="subsetting-intro.html#select-specific-columns">11.3.1</a> we’ll talk explicitly about how to select specific columns from our data. For now, all you need to know is to select a column you write the data set name followed by dollar sign <code>$</code> followed by the column name. Do not include any quotations or spaces (technically spaces can be included but make it a bit harder to read and are against conventional style when writing R code so we’ll exclude them). Inside of <code>plot()</code> we say that “x = ucr2017$actual_murder” so that column goes on the x-axis and “y = ucr2017$actual_assault_aggravated” so aggravated assault goes on the y-axis. And that’s all it takes to make a simple graph.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="intro-to-r.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> ucr2017<span class="sc">$</span>actual_murder, <span class="at">y =</span> ucr2017<span class="sc">$</span>actual_assault_aggravated)</span></code></pre></div>
<p><img src="intro-to-r_files/figure-html/unnamed-chunk-14-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Finally, <code>View()</code> opens essentially an Excel file of the data set you put inside the (). This allows you to look at the data as if it were in Excel and is a good way to start to understand the data.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="intro-to-r.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(ucr2017)</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="a-soup-to-nuts-project-example.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data_types.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": true,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jacobkap/crimebythenumbers/edit/master/intro-to-r.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
